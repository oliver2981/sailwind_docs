# 第 9 章 开始新设计

通常，您通过创建新的设计文件开始新设计，然后导入由原理图工具（如 `SailWind Logic`）生成的网表。但如果您计划的设计很简单且不需要原理图，您可以在 `SailWind Layout` 内部完成整个设计。以这种方式创建的设计被称为"布局驱动"设计。

## 创建新设计文件

使用 New 命令创建新的设计文件。

🏃‍♂️‍**步骤**

1. 打开 `SailWind Layout` 并点击**新建**（如果 `SailWind Layout` 中已有设计打开，点击**主页>新建**菜单项）。

2. 在设置启动文件对话框中，选择启动文件。启动文件包含全局设置，如层定义、网格、间距规则、属性辞典等。

3. 如果希望将此启动文件用于所有新设计文件，请勾选"不再显示"复选框。

4. 点击**确定**。

## 导入原理图设计网表 ಠ_ಠ

在 `SailWind Layout` 中布局设计的过程通常从导入包含所有设计原理图信息的网表文件开始，包括所有元件及其封装的列表。

在网表文件导入过程中，所有元件都从库中获取，其封装准备就绪后堆放在原点处等待放置。


> [!warning] 
> 网表导入成功的前提是网表中列出的所有元件和封装必须存在于您的库中。如有缺失，导入操作会生成*ascii.err*文件列出缺失的元件/封装。要成功导入网表，您必须将这些组件添加到库中，可以通过添加包含缺失组件的库到库列表，或在现有库中创建缺失的元件类型和封装。

导入网表的步骤取决于您使用的原理图工具。具体产品说明请参考以下主题：

1. "通过手动导入 `SailWind Logic` 网表创建新 PCB 设计"（第 271 页）

2. 从 OrCAD 网表创建新 PCB 设计

## 交叉探测 ಠ_ಠ

您可以使用 `SailWind Logic` 进行交叉探测，以简化网表导入和元件放置。

交叉探测的步骤（第 1819 页）取决于您使用的原理图工具。具体产品说明请参考*`SailWind Logic` 指南*中的"SailWind 产品间交叉探测"。

## 从 OrCAD 网表创建新 PCB 设计

布局新 PCB 设计时，通常从导入原理图捕获应用程序中创建的网表开始，包括导入在 ORCAD 中创建的网表。

🏃‍♂️‍**步骤**

1. 将 OrCAD 网表文件扩展名从*.net*改为*.asc*。`SailWind Layout` 仅导入扩展名为*.asc*的网表文件。

2. 在文本编辑器中打开网表文件。

3. 在 `SailWind Layout` 中，点击**主页>报告**菜单项。

4. 在报告对话框中选择"PowerPCB V3.0 格式网表"，点击**确定**。

5. 在显示的报告复制标题行，类似如下：

   ```
   !PADS-POWERPCB-V3.0-MILLS! DESIGN DATABASE ASCII FILE 2.0
   ```

6. 将标题行粘贴到 OrCAD 网表中，替换原标题行，原标题行类似：

   ```
   *PADS-PCB*
   ```

7. 在新标题行中，将软件版本号(V3.0)替换为您运行的软件版本号。

8. 保存并关闭网表文件。

9. 在 `SailWind Layout` 中，点击**主页>导入**菜单项。

10. 在文件导入对话框，浏览并选择 OrCAD 网表*.asc*文件，然后点击**打开**。

11. 如果产生*ascii.err*文件，请执行以下步骤：

    a. 关闭刚导入网表的设计。当提示保存设计时点击**否**。

    b. 将*ascii.err*文件中列出的缺失组件添加到库中，通过添加包含缺失组件的库到库列表，或在现有库中创建缺失的元件类型和封装（有关如何执行这些任务，请参考"添加库到库列表"、"创建和修改元件类型"和"创建和编辑 PCB 封装"）。

    c. 解决*ascii.err*文件中的其他错误。类似"\*bad \*PART\* ascii data line format"的错误可能表示元件名称中发现了无效字符。元件名称中无效的字符包括：

    ```
`. , : ^ [ ] \$ \* { } ( ) @ ? = \ <空格>
    ```
    
    d. 所有错误解决后，重复本步骤。

👀‍**结果**

导入过程从库中获取所有元件类型和封装，并将封装堆放在原点处。然后您可以使用**工具>分散元件**菜单项来展开元件。

## 布局驱动设计 ಠ_ಠ

大多数 PCB 设计是原理图驱动的，意味着设计者在原理图软件中创建它们，然后元件、连接和约束传递到 `SailWind Layout`。根据这些约束，布局设计者放置元件，用铜线连接使其连接永久。

如果设计简单，且可以跳过原理图创建，您可以从 `SailWind Layout` 中的 `ECO` 工具栏添加元件、创建连接和创建约束。`ECO` 工具栏包含所有设计修改工具。

如果设计是原理图驱动的，它必须在原理图和布局工具间保持同步。您可以将 `ECO` 工具栏工具的设计修改记录在 `ECO` 文件中，用于同步原理图设计和布局设计。

如果创建的是布局驱动设计，且没有原理图需要同步，则无需维护*.eco*文件。当打开 `ECO` 工具栏时，可以取消勾选"写入 `ECO` 文件"复选框，然后忽略 `ECO` 选项对话框的所有设置。

使用 `ECO` 工具栏上的工具，您可以：

1. 添加和删除元件

2. 添加和命名连接/网络

3. 重命名和删除网络

4. 重命名元件参考标识符

5. 更改元件

6. 交换管脚和门

7. 分配约束/设计规则

有关 `ECO` 工具栏的更多信息，请参考"`ECO` 模式操作（布局驱动设计工具）"。