# 第 34 章 铜填充与铜平面

本章节介绍铜填充和铜平面的使用方法，包括它们的区别、连接方式建立以及过孔与填充操作的交互。

## 铜形状与铜平面的区别

铜形状与铜平面存在诸多差异。本主题通过特性对比表说明两者的区别，帮助理解何时使用何种方式。

| 特性                                                                                                                 | 铜形状 | 铜平面 |
|---------------------------------------------------------------------------------------------------------------------|--------|--------|
| 可以不分配网络进行填充                                                                                               | ✓      | ✓      |
| 自动填充                                                                                                             | ✓      |        |
| 可在 PCB 封装编辑器中创建                                                                                              | ✓      |        |
| 可在非电气层创建                                                                                                     | ✓      | ✓      |
| 布线焊盘可设置热焊盘                                                                                                 |        | ✓      |
| 使用"移除孤立铜皮"选项时必须包含其所分配网络的电气对象                                                               |        | ✓      |

**表 119. 铜形状与铜平面特性对比**

| 特性                                                                   | 铜形状 | 铜平面 |
|-----------------------------------------------------------------------|--------|--------|
| 避开任何非分配网络的对象                                               |        | ✓      |
| 基于热焊盘选项生成热焊盘连接臂                                         |        | ✓      |
| 可从设计规则生成热焊盘和反焊盘*                                        |        | ✓**    |
| 不会自动填充，必须进行灌注                                             |        | ✓      |
| 可从焊盘堆栈设置生成自定义热焊盘和反焊盘*                              |        | ✓      |
| 可自动创建嵌入式铜平面周围的切割区域*                                  |        | ✓      |
| 可移除内层未使用的焊盘*                                               |        | ✓      |
| 可根据板框形状自动生成                                                |        | ✓      |
| 可使用自动平面分割工具分成两个区域                                     |        | ✓      |
| 可保存影线轮廓与设计                                                  |        | ✓      |

**表 119. 铜形状与铜平面特性对比(续)**

\*这些特性由设置控制。

\*\*如果在选项对话框 > **铜平面**类别 > **热焊盘**子类别中使用"使用设计规则设置热焊盘和反焊盘"选项，反焊盘将使用钻孔到铜皮的间距规则而非焊盘到铜皮的间距规则。

## 铜平面填充

填充操作会重新计算铜平面，并根据当前平面轮廓内的障碍物重新创建所有间距，遵守间距规则。当您更改间距规则或对铜平面进行可能产生间距违规的修改时，请使用填充功能。

填充操作以影线或实心图案(见第 617 页)用铜填充铜平面，在铜平面内但不属于同一网络的铜皮、走线和焊盘周围创建隔离区域。同时，在属于同一网络的管脚周围创建热焊盘连接。

填充操作使用选项对话框中的设置，包括铜平面类别 > "影线与填充"子类别(见第 1511 页)、热焊盘子类别(见第 1514 页)和网格类别(见第 1537 页)，以及填充和影线选项(见第 1381 页)。


**提示** 如果同一层上有重叠轮廓且填充优先级相同，软件无法确定哪个是障碍物，哪个是障碍物周围的间隔。为避免冲突，重叠或公共部分将被绘制为非影线区域。

**操作步骤**

1. 使用以下方法之一：

    - 通过选择和填充方式填充铜平面 使用此方法选择铜平面然后进行填充。

      i. 选择铜平面。

      ii. 右键单击并选择**填充**弹出菜单项。

    - 通过动词模式中的填充按钮填充铜平面 如果有多个铜平面需要填充，可使用此方法。首先激活动词模式中的填充按钮，然后可以依次点击铜平面进行填充。

      i. 在绘图工具栏上点击**填充**按钮。

      ii. 选择要填充的铜平面。

      iii. 根据需要点击并填充其他铜平面。

    - 通过铜平面管理器填充铜平面 使用此方法对设计中的所有铜平面进行填充。

      i. 点击**工具 > 铜平面管理器**菜单项。

      ii. 在铜平面管理器对话框中点击填充。

      iii. 选择一个或多个包含铜平面的层进行填充。

      iv. 点击**开始**启动填充过程。

    - 通过点击主工具栏上的**全部填充**按钮填充设计中的所有铜平面。
    
    **提示** 要查看负片模式下的平面数据，可使用无模命令 C。
    
2. 检查结果形状：

    - 如果铜平面未填充，请参阅第 674 页"铜平面填充故障排除"。

    - 如果铜平面已填充但生成了热焊盘错误报告(*therm.err*)，请参阅第 675 页"热焊盘结果故障排除"。

    - 如果热焊盘或反焊盘的焊盘与铜皮之间的间隙不正确，请参阅"自定义设计规则热焊盘"或"自定义设计规则反焊盘"。

    - 如果填充不正确，请参阅第 617 页"铜和铜平面的填充"。

    - 如果形状边缘不正确，请参阅第 615 页"绘图形状的边缘精度"。

    - 如果需要修改形状，请参阅"绘图对象属性"。

    - 如果要重新开始，请参阅"删除绘图段或对象"。

更多信息请参阅第 683 页"分割/混合平面层"。

**注意：**

在线 DRC 不会阻止您在填充区域内移动对象。如果不重新填充该区域，验证设计会报告错误。如果填充区域内的对象被移动，或自原始填充以来热焊盘设置已更改，您需要重新填充该区域。

## 铜平面影线填充

影线填充会(用影线)重新填充当前会话中已灌注的铜平面；它不会重新计算铜平面区域。

每次打开设计文件时，您必须对设计进行影线填充；填充不会被保存(但您可以使用**工具 > 选项**菜单项，**铜平面**类别 > **影线与填充**子类别中的"文件加载时自动影线填充"选项设置文件在每次打开时自动影线填充)。如果您更改了间距规则，或对铜平面进行了可能产生间距违规的修改，请使用填充功能。

**限制与局限**

• 您只能对已填充的铜平面进行影线填充。这将把灌注轮廓转换为影线轮廓。

**操作步骤**

1. 使用以下方法之一：

    - 通过选择和影线方式影线填充铜平面 使用此方法选择铜平面然后进行影线填充。

        i. 选择铜平面。

        ii. 右键单击并选择**影线填充**弹出菜单项。

    - 通过动词模式中的影线按钮影线填充铜平面 如果有多个铜平面需要影线填充，可使用此方法。首先激活动词模式中的影线按钮，然后可以依次点击铜平面进行影线填充。

        i. 在绘图工具栏上点击**影线填充**按钮。

        ii. 选择要影线填充的铜平面。

        iii. 根据需要点击并影线填充其他铜平面。

    - 通过铜平面管理器影线填充铜平面 使用此方法对设计中的所有铜平面进行影线填充。

        i. 点击**工具 > 铜平面管理器**菜单项。

        ii. 在铜平面管理器对话框中点击影线填充。

        iii. 点击**开始**启动影线填充过程。

2. 检查结果形状：

    - 如果热焊盘或反焊盘的焊盘与铜皮之间的间隙不正确，请参阅"自定义设计规则热焊盘"或"自定义设计规则反焊盘"。

    - 如果填充不正确，请参阅第 617 页"铜和铜平面的填充"。

    - 如果形状边缘不正确，请参阅第 615 页"绘图形状的边缘精度"。

    - 如果需要修改形状，请参阅"绘图对象属性"。

    - 如果要重新开始，请参阅"删除绘图段或对象"。

**注意：**

在线 DRC 不会阻止您在填充区域内移动对象。如果不重新填充该区域，验证设计会报告错误。如果填充区域内的对象被移动，或自原始填充以来热焊盘设置已更改，您需要重新填充该区域。

## 铜平面填充优先级

要确定哪个形状应首先填充，您必须为每个形状设置填充优先级。优先级数字较低的形状将比优先级数字较高的对象先填充。不同层上的铜平面是独立处理的。

**场景 1**

您有相邻形状，铜到铜间距规则值为 25mil。

![](/layout/guide/34/_page_5_Figure_3.jpeg)

**图 104. 相同与不同填充优先级的场景 1**

![](/layout/guide/34/_page_5_Picture_6.jpeg)

**场景 2**

铜平面内嵌有形状。

**图 105. 相同与不同填充优先级的场景 2**

![](/layout/guide/34/_page_6_Picture_5.jpeg)

![](/layout/guide/34/_page_6_Figure_7.jpeg)

![](/layout/guide/34/_page_6_Figure_9.jpeg)

**场景 3**

有多个重叠形状。

**图 106. 错误与正确填充优先级的场景 3**

![](/layout/guide/34/_page_8_Figure_3.jpeg)

![](/layout/guide/34/_page_8_Picture_5.jpeg)

![](/layout/guide/34/_page_8_Figure_7.jpeg)

## 设置重叠铜平面的填充顺序

铜平面的填充顺序决定了它们在设计中的显示方式。您必须为每个对象设置填充顺序(称为"优先级")，以定义哪个铜平面应首先填充。优先级数字较低的对象将比优先级数字较高的对象先填充。不同层上的铜平面是独立处理的。

**操作步骤**

1. 右键单击并选择**选择形状**弹出菜单项。

2. 选择铜平面。

   **限制：**

   您选择的区域不能是"平面影线轮廓"(见第 1849 页)。

   **提示**

   要快速赋予区域最高优先级，将其置于前面(右键单击并选择**置于前面**弹出菜单项)；要赋予最低优先级，将其置于后面(右键单击并选择**置于后面**弹出菜单项)。

3. 右键单击，然后选择**属性**弹出菜单项。

4. 在绘图属性对话框中点击**选项**按钮。如果按钮未显示，则表示您选择了影线轮廓。

5. 在填充和影线选项对话框中设置填充优先级。0(零)为最高优先级(即最先填充且不能被覆盖填充)，250 为最低优先级。

   **提示** 您也可以在状态栏中看到填充优先级数字，格式为 P:<数字>，当您选择区域时。

6. 点击**确定**关闭所有打开的对话框。

## 平面热焊盘指示器

平面热焊盘指示器是显示焊盘热焊盘属性状态的图形图像。

有两种类型的平面热焊盘指示器：通用和特定。有时在编辑过程中，热焊盘标记会被覆盖；重绘屏幕以查看所有标记。

| 指示器              | 描述                                                                                                                                                                                                                                                                                                                                                                    |
|---------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 通用平面热焊盘      | 通用平面热焊盘指示器显示焊盘堆栈中某处存在与 CAM 或分割/混合平面的连接。此指示器显示为焊盘中心的小"x"：                                                                                                                                                                                                                                                                  |
| 特定平面热焊盘      | 特定平面热焊盘指示器显示特定层上的特定焊盘连接到平面。这些指示器以显示颜色设置对话框中分配给板轮廓的颜色显示。<br>CAM 平面指示器和分割/混合平面指示器有不同的特定平面指示器：<br>CAM 平面指示器：<br>分割/混合平面指示器：                                                                                 |
| 平面反焊盘          | 不属于 CAM 或分割/混合平面网络且存在于这些层类型之一的焊盘会显示一个圆圈来表示反焊盘。这些焊盘使用显示颜色设置对话框中为该层指定的颜色。                                                                                                                                                                                                                                 |

**表 120. 平面热焊盘指示器**

## 理解如何操作铜平面热焊盘与反焊盘

本节介绍适用于创建铜平面和使用自定义热焊盘的概念信息。

有关创建铜平面的步骤，请参阅第 667 页"手动创建铜平面"，有关自定义热焊盘的信息，请参阅第 186 页"焊盘堆栈中热焊盘的创建"。

常见铜平面热焊盘与反焊盘间距场景 常见热焊盘样式场景

### 常见铜平面热焊盘与反焊盘间距场景

本节讨论影响设计热焊盘和反焊盘间距的四种最常见设置组合。了解这些设置可以帮助您预测性地创建所需的热焊盘和反焊盘间距。

默认热焊盘与反焊盘 热焊盘与反焊盘的设计规则 自定义热焊盘与反焊盘 自定义热焊盘与反焊盘和使用热焊盘与反焊盘设计规则之间的层次结构

#### 默认热焊盘与反焊盘

默认热焊盘和反焊盘有许多常见设置。熟悉这些设置后，您可以确定应使用哪些设置来实现设计目标。

所需设置：

1. 选中(启用)移除未使用焊盘(见第 1514 页)复选框

2. 清除(禁用)使用热焊盘和反焊盘设计规则(见第 1514 页)复选框

3. 未在焊盘堆栈属性(见第 1566 页)中定义自定义热焊盘

4. 未在焊盘堆栈属性(见第 1566 页)中定义自定义反焊盘

移除未使用焊盘设置会从内层上任何未热连接到铜平面或平面层上没有走线连接的元件管脚或过孔中移除焊盘。

默认热焊盘和反焊盘使用以下基本公式计算反焊盘的钻孔间隙和热焊盘的焊盘间隙：

- 默认元件通孔反焊盘直径 = (2 × 铜到焊盘间距值) + 焊盘尺寸

- 默认过孔反焊盘直径 = (2 × 铜到过孔间距值) + 过孔焊盘尺寸

**示例：** +5V 过孔在+12V 铜平面中，焊盘 35mil，钻孔 20mil，铜到过孔间距值 8mil，将产生 51mil 直径的反焊盘，(2 × 8) + 35 = 51。默认铜到焊盘或铜到过孔间距在热焊盘上仅由铜到焊盘或铜到过孔值控制。

**注意：** 当钻孔尺寸大于焊盘尺寸时，使用钻孔到铜皮间距规则，如焊盘堆栈设置中所定义。

规则层次结构(见第 404 页)影响默认反焊盘和热焊盘间隙尺寸。具有比默认规则更高铜到焊盘值的网络规则将为该网络的管脚创建更大的反焊盘尺寸和更大的热焊盘铜皮间隙。为平面网络创建的网络规则不会影响反焊盘间隙尺寸，但会影响热焊盘上的铜皮间隙。对立网络规则会影响反焊盘尺寸。

条件规则有一些特殊行为。将网络设置为针对层的条件规则将使用默认反焊盘计算。然而，将一个网络设置为针对另一个网络的条件规则不会影响反焊盘尺寸，除非启用"使用热焊盘和反焊盘设计规则"设置 - 见"热焊盘和反焊盘的设计规则"。

#### 热焊盘和反焊盘的设计规则

热焊盘和反焊盘的设计规则有许多常见设置。熟悉这些设置后，您可以确定应使用哪些设置来实现设计目标。

所需设置：

1. 选中(启用)移除未使用焊盘(见第 1514 页)复选框

2. 选中(启用)使用热焊盘和反焊盘设计规则(见第 1514 页)复选框

3. 未在焊盘堆栈属性(见第 1566 页)中定义自定义热焊盘

4. 未在焊盘堆栈属性(见第 1566 页)中定义自定义反焊盘

热焊盘和反焊盘现在由设计规则独立控制。此方法使您能够创建大的反焊盘尺寸而不影响具有热焊盘的焊盘的间隙。创建的反焊盘尺寸同时影响过孔和元件焊盘。

• 元件焊盘和过孔的反焊盘直径 = (2 × 铜到钻孔) + 钻孔尺寸

热焊盘间隙由设计规则铜到焊盘和铜到过孔设置控制。规则层次结构影响默认反焊盘和热焊盘间隙尺寸。平面网络的网络规则会影响任何对立网络的反焊盘尺寸，如果您调整钻孔到铜皮值。

**示例：** 为+12v 定义了铜平面，为+12v 创建具有增加钻孔到铜皮值的网络规则将导致+12v 铜平面内所有非连接管脚或过孔的反焊盘尺寸增加。

条件规则有一些特殊行为。将网络设置为针对层的条件规则将使用默认反焊盘计算 - 见"默认热焊盘和反焊盘"。然而，将一个网络设置为针对另一个网络的条件规则不会影响反焊盘尺寸，除非启用"使用热焊盘和反焊盘设计规则"设置。

#### 自定义热焊盘和反焊盘

自定义热焊盘和反焊盘都有一些常见设置。熟悉这些设置以确定最佳使用哪些设置来实现设计目标。

所需设置：

1. 选中(启用)移除未使用焊盘(见第 1514 页)复选框

2. 清除(禁用)使用热焊盘和反焊盘设计规则(见第 1514 页)复选框

3. 已在焊盘堆栈属性(见第 1566 页)中定义自定义热焊盘

4. 已在焊盘堆栈属性(见第 1566 页)中定义自定义反焊盘

设计规则设置不会影响您为封装定义的自定义反焊盘尺寸。自定义焊盘堆栈设置确定热焊盘或反焊盘间隙以及任何间隙检查。


**注意：** 必须选中移除未使用焊盘复选框才能启用自定义反焊盘创建。

#### 自定义热焊盘和反焊盘与使用热焊盘和反焊盘设计规则之间的层次结构

有许多常见设置用于建立自定义热焊盘和反焊盘与使用热焊盘和反焊盘设计规则之间的层次结构。熟悉这些设置后，您可以确定应使用哪些设置来实现设计目标。

所需设置：

1. 选中(启用)移除未使用焊盘(见第 1514 页)复选框

2. 选中(启用)使用热焊盘和反焊盘设计规则(见第 1514 页)复选框

3. 已在焊盘堆栈属性(见第 1566 页)中定义自定义热焊盘

4. 已在焊盘堆栈属性(见第 1566 页)中定义自定义反焊盘

管脚和过孔上的所有自定义反焊盘设置都将被忽略。反焊盘尺寸由设计规则中的铜到钻孔值确定。

• 元件焊盘和过孔的反焊盘直径 = (2 × 铜到钻孔间距值) + 钻孔尺寸

自定义热焊盘的内径仍被使用(实际焊盘尺寸)，但元件管脚使用铜到焊盘间距，过孔使用铜到过孔间距。自定义热焊盘的外径值被忽略，转而使用设计规则。

### 常见热焊盘样式场景

本节讨论影响热焊盘样式的三种最常见情况，如正交、对角线、填充覆盖和无连接。了解这些情况可以帮助您预测性地创建所需的热焊盘样式。

热焊盘选项中的热焊盘样式更改 自定义热焊盘与热焊盘选项中的热焊盘样式更改之间的层次结构 自定义热焊盘、热焊盘选项中的样式更改与铜平面中过孔填充之间的层次结构

#### 热焊盘选项中的热焊盘样式更改

热焊盘选项中的热焊盘样式更改有许多常见设置。熟悉这些设置后，您可以确定应使用哪些设置来实现设计目标。

所需设置：

1. 已在**铜平面**类别 > 热焊盘(见第 1514 页)子类别中更改热焊盘样式。

2. 未在焊盘堆栈属性(见第 1566 页)中定义自定义热焊盘

3. 填充(见第 1381 页)中的"填充过孔"复选框未选中(禁用)

您选择的热焊盘样式会影响所有层和所有铜平面的所有元件管脚和所有过孔。您可以为四种焊盘形状(圆形、方形、椭圆形和矩形)设置不同的热焊盘样式。您还可以区分通孔和表面贴装元件。

**例如：** 可以设置通孔圆形焊盘具有正交连接臂，通孔椭圆形焊盘具有填充覆盖。您还可以设置通孔圆形焊盘为对角线，而 SMD 圆形焊盘设置为无连接。

#### 自定义热焊盘与热焊盘选项中的热焊盘样式更改之间的层次结构

有许多常见设置用于建立自定义热焊盘与热焊盘选项中的热焊盘样式更改之间的层次结构。熟悉这些设置后，您可以确定应使用哪些设置来实现设计目标。

所需设置：

1. 已在**铜平面**类别 > 热焊盘(见第 1514 页)子类别中更改热焊盘样式。

2. 已在焊盘堆栈属性(见第 1566 页)中定义自定义热焊盘

3. 填充和影线选项(见第 1381 页)中的填充过孔复选框已清除(禁用)

设置适用于已定义自定义热焊盘的元件。所有其他元件和/或过孔将遵循**工具 > 选项**菜单项 > **铜平面**类别 > **热焊盘**子类别中定义的热焊盘样式。您可以通过创建自定义热焊盘并将外径尺寸减小到等于内径尺寸来创建特定管脚或过孔的填充覆盖。如果您只想让元件的两个安装孔管脚在连接到 GND 时填充覆盖，您可能会发现这非常有用。

#### 自定义热焊盘、热焊盘选项中的样式更改与铜平面中过孔填充之间的层次结构

有许多常见设置用于建立自定义热焊盘、热焊盘选项中的样式更改与铜平面中过孔填充之间的层次结构。熟悉这些设置后，您可以确定应使用哪些设置来实现设计目标。

所需设置：

1. 已在**工具 > 选项**菜单项，**铜平面**类别 > 铜平面/热焊盘(见第 1514 页)子类别中更改热焊盘样式。

2. 未在焊盘堆栈属性(见第 1566 页)中定义自定义热焊盘

3. 填充和影线选项(见第 1381 页)中的填充过孔复选框已选中(启用)

设置适用于已定义自定义热焊盘的元件。对于您在铜平面多边形中指定"填充过孔"的过孔，它们都会填充覆盖，该铜平面多边形内不再有任何热焊盘连接臂。要设置填充过孔，选择灌注轮廓模式下的铜平面，右键单击并选择**属性**弹出菜单项，点击**填充和影线选项**按钮，然后在填充和影线选项对话框中选中"填充过孔"复选框。选项对话框 > **铜平面**类别 > **热焊盘**子类别中定义的热焊盘样式适用于所有剩余元件和过孔。

## 生成热焊盘

如果元件管脚和过孔与平面网络相关联，并且它们在相关联的 CAM 平面层上有焊盘，则会自动接收热焊盘。对于接收热焊盘的元件管脚和过孔，管脚属性对话框中的平面热焊盘选项会自动打开。

- 当您从平面层取消分配平面网络时，会移除网络中所有管脚的热焊盘。管脚属性对话框中的平面热焊盘选项会自动清除。

- 如果在布线过程中将过孔添加到平面网络，过孔会自动接收平面热焊盘。过孔属性对话框中的平面热焊盘选项会自动选中。

有关热焊盘如何与 SPECCTRA 相互转换的信息，请参阅 SPECCTRA 转换器帮助。

通过选择形状、打开属性并点击选项按钮检查填充优先级。填充优先级数字对于内部嵌套平面应最低，对于外部平面应最大。

**热焊盘结果不良的症状**

热焊盘连接不良可能导致设计中的信号完整性问题。

如果出现以下症状，请参阅第 674 页"铜平面填充故障排除"：

- 铜平面无法填充

- 分割/混合平面问题

## CAM 平面上的热焊盘

当您为 CAM 平面图生成热焊盘时，SailWind Layout 会查找与 CAM 平面层相关联的平面网络名称。SailWind Layout 还会检查 CAM 平面层上有焊盘的管脚或过孔是否在管脚属性和过孔属性对话框中选中了平面热焊盘选项。使用**工具 > 选项**菜单项，**铜平面**类别 > **热焊盘**子类别中的"显示通用铜平面指示器"选项显示 CAM 平面热焊盘。

当管脚存在于与 CAM 平面层相关联的网络中并且为管脚选中平面热焊盘时，管脚上会出现热焊盘。鼠线连接仍然显示。使用验证设计中的平面检查验证 CAM 平面图的热焊盘生成。

**CAM 平面热焊盘**

CAM 平面热焊盘显示在工作区和 CAM 预览区。

这些计算也用于打印、笔式绘图和光绘输出操作：

- 热焊盘的外径与光绘设置对话框中设置的光圈宽度匹配。

- 内径为外径的 75%。

- 连接臂数量始终为四个，呈对角线排列。

- 连接臂宽度为外径的 1/6。

**提示** 自定义 CAM 平面热焊盘的内宽设置为焊盘堆栈属性对话框中定义的焊盘尺寸。外宽设置为默认同网络焊盘到拐角规则。

**查看平面层连接性**

对于 CAM 平面层，平面热焊盘选项确定是否为管脚生成热焊盘。平面热焊盘选项向 CAM 输出发出信号，为管脚周围的热焊盘光圈分配 D 码。使用管脚、过孔和跳线管脚的属性对话框设置平面热焊盘选项。

如果成功设置平面连接，将为光绘机光圈表中的热焊盘焊盘分配 D 码编号，与所需的每个焊盘尺寸匹配。更多信息请参阅"创建 CAM 平面 Gerber 格式文件"的结果部分。

## 铜平面区域的热焊盘

SailWind Layout 遵循某些程序使热焊盘出现在铜平面中。

SailWind Layout 查找相同网络名称的对象以与铜平面热焊盘连接：

- 如果元件管脚没有走线连接且管脚的网名与铜平面的网名匹配，则元件管脚会接收与铜平面的热焊盘连接。

- 如果元件管脚有走线连接，可能会接收热焊盘连接，如果在**工具 > 选项**菜单项 > **铜平面**类别 > **热焊盘**子类别中选中"向已布线元件焊盘添加热焊盘"复选框。

- 在铜平面填充过程中，如果过孔的网名与周围铜平面的网名匹配，过孔始终会获得铜平面热焊盘，无论它们是否显示未布线。

软件灌注铜平面并安装铜平面热焊盘后，鼠线连接仍然显示。点击**视图 > 网络**菜单项打开视图网络对话框并将网络分配到视图列表。在视图详细信息区域，选中"走线加上以下未布线"复选框并将相应选项设置为"除连接平面网络外的所有"。选择**工具 > 验证设计**菜单项检查铜平面的连接性。

**将管脚和过孔设置为热焊盘**

跳线管脚、管脚和过孔都可以有热焊盘。要使这些对象有资格获得热焊盘，必须在跳线管脚属性、管脚属性和过孔属性对话框中启用平面热焊盘复选框。

如果您选择的多个管脚或过孔中同时包含平面网络和非平面网络，并且并非所有管脚和过孔都标记为有资格获得指示器，则平面热焊盘复选框既不被选中也不被清除，而是显示为实心方块表示混合状态。如果点击选择平面热焊盘，则选中的平面网络管脚或过孔将被更新。

**设计规则与焊盘堆栈 - 热焊盘和反焊盘**

有两种应用热焊盘和反焊盘设置的方法。一种是基于设计的，使用设计规则层次结构应用设置。第二种是基于元件的，使用焊盘堆栈自定义元件管脚和过孔的热焊盘和反焊盘。您可以结合使用设计规则和焊盘堆栈热焊盘和反焊盘设置。

**设计规则热焊盘和反焊盘**

设计规则热焊盘由热焊盘选项的设置和铜到焊盘或铜到过孔间距规则定义。在热焊盘选项中定义连接臂，使用间距规则定义焊盘与铜皮之间的间隙。

设计规则反焊盘由焊盘到铜皮和过孔到铜皮间距规则定义。您可以使用设计规则的层次结构创建钻孔与反焊盘铜皮之间的不同间隙。例如，使用规则层次结构的网络级别，您可以对连接到特定网络的任何焊盘应用更大的间隙。如果在选项对话框 > **铜平面**类别 > **热焊盘**子类别中选中"使用热焊盘和反焊盘设计规则"复选框，反焊盘可以由钻孔到铜皮间距规则定义。

您只能对钻孔和非钻孔热焊盘应用单独的连接臂设置。连接臂设置全局应用于任一类型的所有焊盘。如果需要自定义单个焊盘的连接臂设置，应使用焊盘堆栈热焊盘和反焊盘设置。

**焊盘堆栈热焊盘和反焊盘**

焊盘堆栈热焊盘和反焊盘提供对热焊盘和反焊盘所有方面的完全控制。与设计规则热焊盘和反焊盘不同，您可以控制单个焊盘的连接臂。

如果您将焊盘堆栈热焊盘和反焊盘应用于库中的封装，这些设置可能不适用于不同的 PCB 设计。您可能只想将焊盘堆栈设置应用于设计中的封装实例，而不是库中的封装。

**优先级**

虽然您可以结合使用设计规则和焊盘堆栈热焊盘和反焊盘设置，但焊盘堆栈设置优先于更全局的设计规则设置。

## 铜平面中焊盘上的填充

您可以在铜平面中填充焊盘。有两种方法可用于填充焊盘。

要填充过孔，请参阅"铜平面中过孔上的填充"。

使用热焊盘选项填充焊盘 使用焊盘堆栈中的自定义热焊盘填充焊盘

### 使用热焊盘选项填充焊盘

您可以使用热焊盘选项中的填充覆盖选项填充特定铜平面中的所有焊盘。

**限制与局限**

这些设置仅在不使用自定义热焊盘时适用。

**操作步骤**

1. 点击**工具 > 选项**菜单项。

2. 点击**铜平面**类别 > 热焊盘(见第 1514 页)子类别。

3. 对于焊盘形状，选择钻孔热焊盘或 SMT 热焊盘列中的单元格以展开列表。

4. 点击"填充覆盖"。

5. 对需要填充覆盖的每个焊盘形状重复步骤 2 和 3。

6. 点击**确定**。

7. 重新填充该区域。

**结果**

所选区域被铜填充。您在步骤 2 中选择的所有焊盘形状都被填充覆盖。

### 使用焊盘堆栈中的自定义热焊盘填充焊盘

您可以为包含铜平面的任何层上的元件焊盘创建填充覆盖焊盘。如果不想填充覆盖特定形状的每个对象，可以使用此程序填充覆盖选定的焊盘堆栈。

**操作步骤**

1. 点击**设置 > 焊盘堆栈**菜单项。

2. 在焊盘堆栈属性对话框中，在焊盘堆栈类型区域选择封装。

3. 在封装名称列表中选择一个封装。

4. 从"管脚: 镀层:"列表中选择一个管脚。

5. 从"形状: 尺寸: 层:"列表中选择一个层。

6. 在"焊盘样式"区域，点击**热焊盘**选项卡并从按钮中点击一个焊盘形状。

7. 选中"填充覆盖"复选框。

8. 对需要热焊盘设置的其他封装管脚层重复步骤 5-7。

9. 点击**确定**然后点击**是**将此更新应用于所选元件或具有此封装的所有元件。

   **注意：** 点击**选定**会在封装名称后附加一个字母，以区分所选元件的焊盘堆栈设置与应用于具有相同封装的所有其他元件的设置。

10. 对需要填充覆盖焊盘的其他封装重复步骤 1-9。

11. 对于过孔和跳线焊盘，填充覆盖设置按类型存储。如果需要填充覆盖定义，创建新的过孔类型，然后按照步骤 1-8 操作，但在步骤 2 中选择"过孔"作为焊盘堆栈类型。


**提示** 您可以使用填充和影线选项对话框填充覆盖铜平面中的过孔。您还可以通过设置**工具 > 选项**菜单项 > **铜平面**类别 > **热焊盘**子类别中的选项填充覆盖特定形状的所有钻孔或 SMT 焊盘。

## 铜平面中过孔上的填充

您可以在铜平面中填充焊盘或过孔。有两种方法可用于填充过孔。

- 通过设置铜平面的绘图属性填充过孔 使用此程序填充铜平面区域中的过孔。

- 使用焊盘堆栈中的自定义热焊盘填充过孔 使用此程序填充铜平面中的过孔。如果不想填充覆盖特定形状的每个对象，可以使用此程序填充覆盖选定的焊盘堆栈。

要填充焊盘，请参阅"铜平面中焊盘上的填充"。

通过设置区域的绘图属性填充过孔 使用焊盘堆栈中的自定义热焊盘填充过孔


### 通过设置区域的绘图属性填充过孔

您可以使用区域的绘图属性填充铜平面中的过孔。

**操作步骤**

1. 选择铜平面轮廓。

2. 右键单击并选择**属性**弹出菜单项。

3. 点击**填充和影线选项**按钮。

4. 在填充和影线选项对话框中，选中填充过孔复选框。

   如果**填充和影线选项**按钮不可用，关闭对话框，使用无模命令"PO"切换到灌注轮廓模式，然后重复步骤 1-4。

5. 点击**确定**然后点击**是**继续填充。

   ![](/layout/guide/34/_page_22_Picture_18.jpeg)

6. 关闭绘图属性对话框。

**结果**

所选区域被铜填充覆盖。任何连接到网络的过孔也被填充覆盖，过孔上不再有任何热焊盘连接臂。

### 使用焊盘堆栈中的自定义热焊盘填充过孔

您可以使用焊盘堆栈属性对话框中的热焊盘焊盘样式选项填充铜平面中的过孔。如果不想填充覆盖特定形状的每个过孔，可以使用此程序填充覆盖选定的过孔类型。

**操作步骤**

1. 点击**设置 > 焊盘堆栈**菜单项。

2. 在焊盘堆栈属性对话框中，在焊盘堆栈类型区域选择过孔。

3. 在封装名称列表中选择过孔名称。

4. 从**形状: 尺寸: 层**列表中选择所需的层。

5. 在参数区域，从**焊盘样式**列表中选择**热焊盘**。

6. 选择适当的焊盘形状按钮。

7. 选中填充覆盖复选框。

8. 点击**确定**然后点击**是**将该更改应用于该类型的所有过孔。

选定的焊盘堆栈在铜平面中被填充覆盖。

## 用通孔图案填充形状

要用缝合过孔图案填充铜平面，请在填充模式下使用过孔缝合操作。

![](/layout/guide/34/_page_23_Picture_15.jpeg)

**图 107. 用通孔缝合的形状**

**操作步骤**

1. 如果尚未设置，请在**工具 > 选项**菜单项 > **过孔图案**类别中设置形状缝合选项。有关信息，请参阅"设置过孔图案选项(见第 1556 页)"。

   在**过孔图案**选项卡上将图案设置设置为填充，或在选择对象后设置。(见步骤 3。)

   **提示** 您的过孔图案设置会保存以供将来操作使用。只有在要更改设置时才需要执行此步骤。

2. 选择要用过孔缝合的形状。形状可以是：

    - 绘制的铜皮

    - 已填充的铜平面

    - 铜平面的影线轮廓

    **限制：**

    铜皮或铜影线轮廓必须与网络相关联。

3. 右键单击并选择**过孔缝合**弹出菜单项。

**提示** 要覆盖过孔图案选项中的图案(填充或周边)设置，右键单击并选择过孔缝合模式弹出菜单项，然后选择图案。

**结果**

选定的铜皮或影线轮廓被过孔图案填充。


**注意：**

如果设计规则检查(DRC)设置为防止错误，过孔缝合操作不会添加任何违反设计规则的过孔。


## 在形状周边内放置过孔

您可以通过在周边模式下使用过孔缝合命令在铜平面或影线轮廓的周边内放置过孔。

![](/layout/guide/34/_page_25_Picture_3.jpeg)

**图 108. 周边内的过孔**

**操作步骤**

1. 如果尚未设置，请在过孔图案选项中设置形状缝合选项。有关信息，请参阅"设置过孔图案选项(见第 1556 页)"。

   在**工具 > 选项**菜单项 > **过孔图案**类别中将图案设置设置为周边，或在选择对象后设置。(见步骤 3。)

   **提示** 您的过孔图案设置会保存以供将来操作使用。只有在要更改设置时才需要执行此步骤。

2. 选择要用过孔缝合的形状。形状可以是：

    - 绘制的铜皮

    - 已填充的铜平面

    - 铜平面的影线轮廓

3. 右键单击并选择**过孔缝合**弹出菜单项。

**提示**

要覆盖过孔图案选项中的图案(填充或周边)设置，选择过孔缝合模式，然后选择图案。


**注意：**

如果设计规则检查(DRC)设置为防止错误，过孔缝合操作不会添加任何违反设计规则的过孔。


## 用通孔环绕空隙

当您使用过孔缝合操作在形状周边内放置过孔时，默认情况下该操作不会在该形状内的空隙周围放置过孔。您可以更改过孔缝合操作的默认行为。

**警告：**

在编辑*SailWind.ini*文件之前退出 SailWind Layout。

**操作步骤**

1. 在文本编辑器中打开*SailWindpcb.ini*文件。文件位置为：`C:\<安装文件夹>\<版本>\Settings`

2. 将 VS_StitchVoids 值更改为 1。例如：`[ViaShield] VS_StitchVoids=1`

3. 重新启动 SailWind Layout。

**结果**

过孔缝合操作不仅会在形状周边内放置过孔，还会环绕形状内的空隙。

**图 109. 环绕空隙的过孔**

![](/layout/guide/34/_page_27_Picture_2.jpeg)