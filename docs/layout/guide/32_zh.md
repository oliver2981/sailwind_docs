# 第 32 章 设计布线

阅读以下主题以了解有关设计中连接布线的更多信息。

## 布线设置考虑事项

在开始设计布线前，请考虑某些 `SailWind Layout` 设置选项。

- 角度模式

- 布线起始层

- 过孔类型

- 过孔模式

- 走线宽度

- 长度最小化

- 布线颜色

- 走线宽度显示

- 布线和取消布线保护

**角度模式**

角度模式在布线时约束走线角度，并影响焊盘入口。所有布线模式都受选项对话框设计类别中"线/走线"区域设置的焊盘入口角度约束（第 1503 页）。如下表所示，布线模式有正交、对角线和任意角度三种。这些模式决定了走线如何跟随光标从拐角到拐角并在完成时进入焊盘。要快速设置这些模式，可键入无模命令 AO、AD 或 AA（第 83 页）。如果"设计网格"的"捕捉到网格"在网格选项中启用（第 1537 页），所有角度模式都受网格尺寸约束。状态对话框（第 1733 页）是切换"捕捉到网格"功能的便捷工具。

| 模式            | 描述                                                      |  |
|-----------------|------------------------------------------------------------------|--|
| 正交 (AO) | 防止输入对角线和不规则的 45 度拐角。 |  |
| 对角线 (AD)   | 限制在网格上使用 45 度和 90 度角度。              |  |
| 任意角度 (AA)  | 允许以任意角度放置布线。                              |  |

**表 111. 角度模式**

**布线起始层**

在开始布线前设置当前布线层，从标准工具栏的层列表中选择层。层的当前布线方向设置显示在层列表中的条目旁边。当选择连接并选择布线模式时，布线从该层开始。

当在不同于开始层的层上结束布线时，结束的层将成为活动层并显示在层列表中。选择的下一个连接将从该活动层开始。可以使用列表或使用 L 无模命令（第 83 页）设置不同的活动层：键入 L；键入层号，然后按 Enter 键。

### 过孔类型

过孔是用于连接印刷电路板不同层上铜对象的钻孔和镀孔。

一般来说，过孔有两种类型：

- **通孔过孔** 穿过电路板每一层的过孔。

- **部分过孔** 穿过选定数量层的过孔。部分过孔包括：

	- **盲孔** 穿过外层并连接到内层的过孔。

	- **埋孔** 仅穿过内层的部分过孔。

过孔在布局设计中有多种用途：

- **在布线中** 过孔最常见的用途是在走线布线中，将走线的连接性延续到其他层。在布线过程中添加过孔时，`SailWind Layout` 将其连接到走线并视为布线过孔。

- **在缝合和屏蔽中** 除布线外使用的过孔有时称为自由过孔，因为它们可以添加到设计中的任何位置。

自由过孔更常被称为缝合过孔，因为当添加到设计中时，它们可能类似于一排或图案的缝合线。此外，它们通常用于将铜"缝合"到平面。例如，可以在小铜区域添加过孔，使其与地平面有更多连接，确保牢固连接。

添加这些过孔时，启用缝合属性，这使它们区别于布线过孔。

有几种方法可以在布局设计中放置缝合过孔：

- 重复添加单个过孔。过孔出现在光标上，准备放置。有关说明，请参阅"添加缝合过孔"。

- 用过孔包围网络、管脚对或铜区域作为过孔屏蔽（**添加过孔屏蔽**命令）。例如，可以在管脚对周围放置过孔屏蔽以创建射频槽。有关说明，请参阅"添加过孔屏蔽"。

- 用过孔图案缝合铜或铜填充形状（**过孔缝合**命令）。缝合图案有两种模式：

	- 可以用过孔填充形状。有关说明，请参阅"用过孔图案填充形状"。

	- 也可以在形状的周边内添加过孔。有关说明，请参阅"在形状周边内放置过孔"。

**过孔模式**

使用过孔对话框确定在布线过程中更改层时要安装的过孔类型。使用 V 无模命令（第 83 页）打开对话框。

下表列出了过孔布线模式。要快速设置过孔类型，请使用 VA、VP 或 VT 无模命令（第 83 页）。

| 模式           | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 自动 (VA) | `SailWind Layout` 从所有可以处理特定层更改的通孔或部分过孔中选择。如果 `SailWind Layout` 找到专用于层更改的部分过孔，即使该过孔未在过孔对话框中特别选择，也会从中选择。如果 `SailWind Layout` 找不到专用的部分过孔，则选择任何通孔用于通孔或部分层更改。然后检查布线规则对话框以查找允许用于正在布线的网络的过孔。如果仍有多个过孔通过，`SailWind Layout` 安装钻头直径最小或焊盘尺寸最小的过孔。自动模式仅允许过孔 |

**表 112. 过孔布线模式**

| 模式         | 描述                                                                                                                                                                                                                                                                                            |  |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
|              | 在选项对话框>布线类别>常规子类别（第 1542 页）中开始和结束于"层对"设置的过孔。                                                                                                                                                                      |  |
|              | 要使用自动过孔模式，布线层对和部分过孔定义的层对必须匹配。例如，如果设置了 1 至 4 层的部分过孔，而布线层对设置为 1 至 8 层，则自动模式不会插入过孔。 |  |
| 部分 (VP) | 自动过孔选择仍然发生，但仅限于部分过孔。                                                                                                                                                                                                               |  |
| 通孔 (VT) | 自动过孔选择仍然发生，但仅限于通孔过孔。                                                                                                                                                                                                          |  |

**表 112. 过孔布线模式（续）**

在任何情况下，根据默认间距规则或附加到正在布线的网络的间距规则（以优先的规则为准），过孔不得创建间距违规。如果在线 `DRC` 设置为防止错误，当走线或过孔创建间距问题时，层将不会更改。

可以使用过孔属性对话框将已安装的过孔更改为另一种类型。有关更多信息，请参阅"修改过孔属性"主题。也可以在布线过程中更改过孔类型。有关更多信息，请参阅"布线时更改过孔类型"主题。

**按网络允许过孔**

使用布线规则对话框控制哪些过孔有资格用于哪些网络。这是自动过孔选择的主要标准之一。

**走线宽度**

可以通过原理图中的网络名称传递走线宽度值。也可以在原理图 ASCII 文件中为网络输入或编辑宽度作为一行。当读入网表时，如果为网络分配了宽度，连接在布线时自动采用这些宽度。如果没有关联的宽度，`SailWind Layout` 为所有网络提供 12 密耳的默认宽度。可以通过更改推荐走线宽度随时更改默认走线宽度。有关更多信息，请参阅间距规则对话框。

除非在本地覆盖，否则推荐宽度有效。例如，网络可能分配了 12 的宽度，但需要网络中的某个管脚对具有 10 的宽度。使用管脚对属性对话框在走线宽度框中为管脚对分配本地走线宽度。

选择连接时可以看到其分配的宽度。宽度出现在状态对话框（第 1733 页）上，前缀为"W:"，位于管脚对和走线间间距之间。

如果拥有高级规则许可选项，可以通过在网类、管脚对或管脚对组级别上进行宽度分配，为网络分配不同的宽度。

**长度最小化**

当开始交互式布线时，到终止管脚的飞线可能会从连接的管脚跳到另一个管脚。这种即时长度最小化表明飞线指示的管脚属于同一网络，并且比原始终止管脚更接近光标。

可以通过将拓扑类型设置为"受保护"来禁用长度最小化。在这种情况下，飞线出现但保持其原始连接。可以为规则层次结构的网络、类或默认级别设置此属性。有关更多信息，请参阅布线规则对话框。

**布线颜色**

使用显示颜色设置对话框为不同层上的布线走线设置不同颜色。还可以为每层的管脚或过孔上的铜和焊盘设置不同颜色。如果在选项对话框的全局类别>常规子类别（第 1531 页）中选择了"活动层前置"，当在该层上启动布线命令时，以当前层颜色绘制的所有走线将前置并重叠其他层上的走线。

要选择性地隐藏或显示走线或连接，或显示具有特定颜色的网络，请使用查看网络对话框。有关更多信息，请参阅"为网络分配颜色"。

**走线宽度显示**

为了加快滚动、平移和屏幕再生速度，可以为所有线设置最小显示宽度。任何低于此宽度值的线宽显示为 1 像素中心线。

可以在选项对话框的全局类别>常规子类别（第 1531 页）中设置"最小显示宽度"，或使用 R 无模命令（第 83 页）。将值设置为最窄线宽或更小，以查看设计的真实宽度。

## 布线和取消布线保护

可以设置选项，防止修改完全布线的连接或部分布线的布线部分，并在管脚对或网络级别取消布线。布线走线的保护双向传递到和从 `SailWind Router`，以在交互式布线和批量布线期间保护关键放置的布线。

创建或拆分重用时会保留保护设置。有关更多信息，请参阅拆分重用主题。


> [!tip] 在选项对话框的布线类别>常规子类别（第 1542 页）中，选择显示保护复选框以显示具有与其他走线相反轮廓图案的走线。换句话说，如果普通走线是实心的，受保护的走线是轮廓的。如果在轮廓视图模式下，受保护的走线是实心的。

保护管脚对走线段 保护整个网络 保护管脚对中的取消布线 保护网络中的取消布线

### 保护管脚对走线段

可以保护或防止修改完全布线的连接或管脚对的布线部分。

🏃‍♂️‍**步骤**

1. 选择走线段或取消布线。

2. 右键单击并选择**选择管脚对**弹出菜单项。

3. 右键单击并选择**属性**弹出菜单项。

4. 在管脚对属性对话框中，选择保护布线复选框。

5. 单击**确定**。

### 保护整个网络

可以保护或防止修改完全布线的连接或网络的布线部分。

🏃‍♂️‍**步骤**

1. 选择走线段或取消布线。

2. 右键单击并选择**选择网络**弹出菜单项

3. 右键单击并选择**属性**弹出菜单项。

4. 在网络属性对话框（第 1487 页）中，选择保护布线复选框。

5. 单击**确定**。

### 保护管脚对中的取消布线

可以保护或防止修改完全取消布线的连接和管脚对部分布线的取消布线部分。保护管脚对之间的取消布线可防止受保护连接的布线。

**限制和局限**

除非首先保护布线部分，否则无法保护部分布线的取消布线部分。

🏃‍♂️‍**步骤**

1. 选择取消布线。

2. 右键单击并选择**属性**弹出菜单项。打开管脚对属性对话框。

3. 要保护完全取消布线的管脚对，选择保护取消布线复选框。如果管脚对包含部分布线，此选项不可用。要保护部分布线管脚对的取消布线部分，选择保护布线复选框，然后可以选择保护取消布线复选框。

4. 单击**确定**。

### 保护网络中的取消布线

可以保护或防止修改完全取消布线的连接和网络中部分布线的取消布线部分。保护网络中的取消布线可防止受保护连接的布线。

**限制和局限**

除非首先保护布线部分（第 1846 页），否则无法保护部分布线的取消布线部分。

🏃‍♂️‍**步骤**

1. 选择取消布线。

2. 右键单击并选择**选择网络**弹出菜单项。

3. 右键单击并选择**属性**弹出菜单项。打开网络属性对话框（第 1487 页）。

4. 要保护完全取消布线的网络，选择保护取消布线复选框。如果网络包含部分布线，此选项不可用。要保护部分布线网络的取消布线部分，选择保护布线复选框，然后可以选择保护取消布线复选框。

5. 单击**确定**。

## 选择布线对象

在开始布线前选择几种布线对象之一。可以在设计中确认选择的内容。

🏃‍♂️‍**步骤**

1. 未选择任何内容时，右键单击并选择选择预设之一或单击**过滤器**弹出菜单项，然后选择特定的布线对象进行选择。有关更多信息，请参阅"选择过滤器"。

2. 单击以下对象之一：

	- **连接** 如果在显示颜色对话框中为连接分配了颜色，可以使用 ZU 无模命令（第 83 页）切换未布线连接的显示。选择连接时，右键单击并选择**选择网络**弹出菜单项以选择整个网络。

	- **管脚** 对于矩形和椭圆形管脚或焊盘，单击对象的中心或使用区域选择。走线在活动层上开始。

	- **走线** 在布线起点出现定位点。

	- **过孔** 走线在活动层上开始。

	- **定位点** 如果 `SailWind Layout` 放置了定位点，定位点附加到走线上，必须选择走线。带有定位点的走线所在的层是活动层。

👀‍**结果**

要确认所选对象的基本信息，可以按 Ctrl+Alt+S 打开状态窗口。有关特定对象的更完整信息，选择它然后右键单击并选择**属性**。

使用透明模式（T 无模命令第 83 页）查看可能位于当前活动层走线下方的障碍物。

作为视觉辅助，将点网格设置为与布线网格相同的间距。使用 GD 无模命令和网格值执行此操作。也可以在极坐标网格上布线。

## 布线工具

`SailWind Layout` 提供多种布线工具，每种工具都有其特殊用途。

> [!tip] 作为替代方案，可以使用 `SailWind Router` 更强大的交互式和自动布线功能来布线设计。设置布线策略和选项；指示是在后台还是前台使用 `SailWind Router` 自动布线。有关更多信息，请参阅使用 `SailWind Router` 自动布线（第 776 页）。

| 主题                                                  | 描述                                                                                                                                                                                                                                                           |  |
|--------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| 手动布线                                       | 使用设计工具栏上的添加布线按钮，单击指示走线中的每个拐角。这种类型的布线在任何 `DRC` 模式下都有效。                                                                                                                           |  |
| 动态布线                                    | 动态布线工具是一种交互式自动布线器，当移动指针时跟随指针方向，寻找最佳路径并在走线进行时安装拐角。动态布线仅在"防止错误"在线 `DRC` 模式下可用。 |  |
| 使用单层<br>管脚对自动布线器 | 自动布线工具是一种单层、管脚对自动布线器，自动为选定的连接或管脚对添加走线。现有阻碍走线在可能的情况下被推开。自动布线仅在"防止错误"在线 `DRC` 模式下可用。   |  |
| 总线布线                                             | 总线布线器是一种创建总线的动态布线工具。使用总线布线器快速布线数据线、存储器阵列或类似连接，其中多条布线需要从一个部分流向另一个部分或流向一组部分。                 |  |
| 总线布线                                          | 总线布线工具是一种动态布线器，创建数据线、存储器阵列或类似连接，其中多条布线需要从一组部件流向另一组。总线布线仅在"防止错误"在线 `DRC` 模式下可用。       |  |

**表 113. 布线工具**

### 手动布线

使用设计工具栏上的**添加布线**按钮，单击指示走线中的每个拐角。这种类型的布线在任何 `DRC` 模式下都有效。

可以在走线进行中或完成后添加弧线、斜接和过孔。

**先决条件**

- 为所有层设置布线方向（第 1441 页）。

- 设置网格（第 1537 页）：设计、过孔和显示。

- 设置设计规则（第 412 页）并启用 DRC（第 461 页）。

🏃‍♂️‍**步骤**

1. 在设计工具栏上，单击**添加布线**按钮。


> [!tip] 可以设置添加布线命令在双击未布线路径（连接）时自动启动。在选项对话框的布线类别>常规子类别（第 1542 页）中，在"未布线路径双击"区域，选择添加布线复选框。

2. 选择要布线的对象（第 698 页）。走线从对象所在的层开始。如果对象位于多个层上，例如通孔管脚或过孔，走线从"活动层"（第 1808 页）开始。从走线开始布线时，在选择点出现定位点（第 1864 页）。

3. 使用指针将正在绘制的走线末端从一个网格点移动到另一个网格点。走线可以以三种角度模式之一移动：正交、对角线或任意角度。参见选项对话框设计类别中的"线/走线角度"设置。

4. 单击指示拐角。要删除不需要的拐角，按 Backspace 键删除最后一个拐角并使前一个段变为活动状态。

5. 右键单击并选择**添加过孔**弹出菜单项以更改层。有关更多信息，请参阅"布线时添加过孔"。


> [!tip] 使用透明模式，T 无模命令（第 83 页），查看可能位于活动层走线下方的障碍物。

6. 继续前进到目标，直到在焊盘、走线或过孔上看到目标（第 1854 页）形状。

7. 单击完成走线。

👀‍**结果**

如果在使用添加布线命令布线时随时禁用了在线设计规则检查，应检查设计是否存在间距违规。有关说明，请参阅"运行设计检查"。

### 动态布线

动态布线工具是一种交互式自动布线器，当移动指针时跟随指针方向，寻找最佳路径并在走线进行时安装拐角。动态布线仅在"防止错误"在线 `DRC` 模式下可用。

动态布线工具是一种无网格、基于形状的布线器。如果布线网格设置为小于间距值，动态布线工具使用间距设置决定路径。

由于拐角自动安装，通过用光标拉动走线头部穿过障碍物，可以快速布线选定的连接，引导想要使用的路径。虽然可以，但不必手动安装拐角。已建立的走线会移开为正在布线的路径腾出空间，前提是有移动空间而不会创建间距违规。

**先决条件**

- 设置设计规则（第 412 页）

- 为所有层设置布线方向（第 1441 页）。每层都有首选布线方向。在设置为所需方向的层上布线。有关更多信息，请参阅"层设置对话框"。

- 设置网格（第 1537 页）：设计、过孔和显示。

🏃‍♂️‍**步骤**

1. 键入 drp 无模命令（第 83 页）并按 Enter 键启用在线设计规则检查防止模式和**动态布线**按钮。有关更多信息，请参阅"打开设计规则检查"（第 461 页）和"设计规则检查"。

2. 在设计工具栏上，单击**动态布线**按钮。

   > [!tip] 可以设置动态布线在双击未布线路径（连接）时自动启动。在布线选项>常规子类别（第 1542 页）中，在"未布线路径双击"区域，选择动态布线复选框。

3. 选择要布线的对象（第 698 页）。走线从对象所在的层开始。如果对象位于多个层上，例如通孔管脚或过孔，走线从"活动层"（第 1808 页）开始。从走线开始布线时，在选择点出现定位点（第 1864 页）。

4. 引导指针穿过想要绕过的项目而不创建拐角。要删除不需要的拐角，慢慢将指针移回不需要的走线上方。走线可以以三种角度模式之一移动：正交、对角线或任意角度。参见选项对话框设计类别中的"线/走线角度"设置（第 1503 页）。

   > [!tip]    布线时，防护带（第 1832 页）在走线头部遇到无法推开的间距障碍物时出现。在设计规则处于防止模式时，如果不更改间距规则或移除障碍物，无法完成走线。

5. 单击指示拐角；这些作为固定的拐角以防止前面的段移动。要删除通过单击放置的不需要的拐角，按 Backspace 键删除最后一个拐角并使前一个段变为活动状态。

6. 右键单击并选择**添加过孔**弹出菜单项以更改层。有关更多信息，请参阅"布线时添加过孔"。

   > [!tip] 使用透明模式，T 无模命令（第 83 页），查看可能位于活动层走线下方的障碍物。

7. 继续前进到目标，直到在焊盘、走线或过孔上看到目标（第 1854 页）形状。

8. 单击完成走线。


### 单层管脚间自动布线器布线

自动布线工具是一种单层管脚间自动布线器，可自动为选定连接或管脚对添加走线。现有阻挡走线在可能的情况下会被推开。自动布线仅在"防止错误"在线 `DRC` 模式下可用。

**限制与约束**

- 自动布线器仅在单层工作，不会添加过孔

- 自动布线器仅遵循当前设计网格

- 每层有首选布线方向，自动布线器仅按首选方向工作。更多信息请参阅"层设置对话框"

**前提条件**

在 1537 页设置网格：设计和显示。

🏃‍♂️‍**操作步骤**

1. 输入 83 页的 drp 无模命令并按 Enter 键启用在线设计规则检查预防模式和**自动布线**按钮。更多信息请参阅"启用设计规则检查"和"设计规则检查"

2. 为提高布线完成效果，点击**工具 > 长度最小化**菜单项。自动布线工具跟随未布线连接添加走线。如果运行长度最小化，可为自动布线工具提供更短更直接的路径

3. 在设计工具栏点击**自动布线**

4. 选择 698 页的对象进行布线

👀‍**结果**

布线器会尝试三次寻找路径，在此过程中推开现有走线为新布线创建通道。如果布线器无法完成布线，程序将中止并保留未布线连接。

### 总线布线器

总线布线器是创建总线的动态布线工具。使用总线布线器可快速布线数据线、存储器阵列或类似连接，其中多条走线需要从一部分流向另一部分或流向一组元件。


> [!tip] 使用总线布线器需要动态布线编辑(DRE)许可选项。

要使用总线布线器，识别多个要布线的管脚对然后放置一条走线。此走线作为引导走线。其他走线称为跟随走线，基于引导走线的既定路径。总线布线器创建引导走线时使用与动态布线工具相同的自动拐角创建和走线推开技术。

为充分利用总线布线器的自动布线特性，确保选定的管脚对在连接两端彼此相邻且连接不交叉。选择交叉连接的管脚会调用手动总线布线模式，您需要依次动态布线每条连接。更多信息请参阅"总线布线"主题。

**总线布线选择标准**

总线布线器从选定的管脚、过孔和定位点创建走线。您可以设置选择过滤器仅选择这些对象。也可在工作区未选择任何内容时右键点击并选择**选择管脚/过孔/定位点**弹出菜单项。如果选择连接或走线，总线布线器将不工作。

虽然选定管脚是总线布线最常用的对象，但添加选定的过孔和定位点可让您布线总线的一部分，结束它，然后重新开始布线。

**选择规则**

总线布线遵循以下选择规则：

- 至少选择两个对象。可以是管脚、过孔和定位点的组合

- 选定管脚可具有通孔或表面贴装焊盘。选定的表面贴装焊盘必须位于同一层

- 选定管脚必须全部属于同一元件

- 选定对象必须已分配网络

- 选定对象分配的网络不能分配到平面层

- 选定的过孔或定位点必须连接到悬空走线

**对象过滤**

启动总线布线器时，以下内容会自动清除：

- 多个元件上的管脚选择。保留选择最多管脚的元件，其他元件的管脚取消选择

- 如果两个或多个元件具有相同数量的选定管脚，则选择添加到设计的元件

- 分配到平面网络的管脚

- 如果两个对象属于同一网络，则取消选择其中一个

**总线布线与活动层设置**

当选择走线末端的表面贴装焊盘或定位点时，会检测这些对象所在的层并自动将该层设置为活动布线层。

> [!tip] 如果选定管脚在活动层上有层限制，则取消选择。

**总线布线添加拐角技巧**

总线布线时，可循环遍历总线中的所有连接以使用不同连接作为引导走线。

- 保持引导走线尽可能短。长引导走线可能难以让总线布线器解析，因此尽可能多地指示总线转弯的拐角。如果状态栏出现"总线布线失败"消息，按退格键撤消总线到最后指示位置，然后在不同位置插入拐角

- 正确切换引导。成功总线布线需要适当控制引导走线。指示拐角时引导走线应在内部。如果使用外部引导走线创建拐角，只要空间足够，内部跟随走线会收缩转弯

**过孔模式**

为总线添加过孔时，可从五种过孔模式中选择。所选过孔模式将一直使用，直到选择不同模式或退出程序。可用过孔模式包括：

**平行**

过孔以列添加，平行于总线行进方向。平行是默认过孔模式(图 91)。如果引导走线是中间走线之一，其余走线在模式两侧调整(图 92)。

![](/layout/guide/32/_page_14_Picture_1.jpeg)

**图 91. 过孔模式平行于总线方向时的布线**

**图 92. 中间引导走线的平行过孔**

![](/layout/guide/32/_page_14_Picture_4.jpeg)

**垂直**

过孔以行添加，垂直于总线行进方向。当引导走线是中间走线之一时，其余走线在模式两侧调整(图 93)。

**图 93. 过孔模式垂直于总线方向时的布线**

![](/layout/guide/32/_page_14_Picture_8.jpeg)

**交错**

过孔以交错行添加以最小化空间需求。如果引导走线是中间走线之一，其余走线在模式两侧调整(图 94)。

**图 94. 过孔模式为交错时的布线**

![](/layout/guide/32/_page_15_Picture_2.jpeg)

**负 45 度**

过孔以对角线添加，与总线行进方向呈负 45 度角。如果引导走线是中间走线之一，其余走线在模式两侧调整(图 95)。

**图 95. 过孔模式为负 45 度时的布线**

![](/layout/guide/32/_page_15_Picture_6.jpeg)

**正 45 度**

过孔以对角线添加，与总线行进方向呈正 45 度角(图 96)。

**图 96. 过孔模式为正 45 度时的布线**

![](/layout/guide/32/_page_15_Picture_10.jpeg)


### 总线布线

总线布线工具是创建数据线、存储器阵列或类似连接的动态布线器，其中多条走线需要从一组元件流向另一组。总线布线仅在"防止错误"在线 `DRC` 模式下可用。

**前提条件**

- 在 1537 页设置网格：设计、过孔和显示

- 在 1441 页设置所有层的布线方向。每层有首选布线方向，确保在设置为所需方向的层上布线。更多信息请参阅"层设置对话框"

- 在 412 页设置设计规则

🏃‍♂️‍**操作步骤**

1. 输入 83 页的 drp 无模命令并按 Enter 键启用在线设计规则检查预防模式和**总线布线**按钮。更多信息请参阅"启用设计规则检查"和 410 页的"设计规则检查"

   > [!danger]    如果 1542 页的"平滑总线布线走线"选项启用，一旦完成所有总线布线走线，1860 页的"平滑"命令将应用于它们。

2. 设计工具栏按钮 > 总线布线按钮。

​	也可在设计中选择要布线的对象后，从快捷菜单或工具栏激活总线布线模式。

3. 按住鼠标按钮并在它们周围拖动选择矩形来选择多个要布线的对象。

   例如，围绕一组管脚绘制选择矩形，这些管脚的连接终止于同一组件。第一条连接的走线段或 1832 页的引导走线附加到指针(并跟随指针移动)。

4. 要使用不同连接作为引导走线，右键点击并选择**下一个引导**(或**上一个引导**)弹出菜单项循环遍历所有连接。

   > [!tip] 所有总线布线键盘快捷键列表请参阅 100 页的"布线操作键盘快捷键"表。

5. 移动指针时，在动态布线模式下布线，拐角自动添加。走线可在三种角度模式之一移动：正交、对角线或任意角度。更多信息请参阅选项对话框 > 设计子类别 1503 页的"线/走线角度"设置。

   > [!tip]    为获得最佳效果，点击锁定拐角并使用内部连接作为引导，因为引导不考虑跟随走线绕过障碍物所需的空间。指示拐角后，引导走线重新附加到指针。

6. 要仅为引导走线添加拐角，右键点击并选择**添加引导拐角**(或 Alt+点击)。

   指示下一个拐角后，跟随走线跟随引导走线。其他总线连接或 1829 页的跟随走线仅在添加拐角或过孔、结束走线或完成连接后才沿引导走线路径布线。如果总线布线器无法自动创建跟随走线，则切换到手动总线布线模式，您需要交互式创建每个拐角。总线布线器分析新走线并在可能时布线其他连接，或返回手动模式。在手动模式中，输入拐角与 700 页动态布线时相同。在手动模式中完成连接后，下一条连接成为新引导走线。

   跟随走线模式基于为引导走线添加的最后一段方向。例如，如果最后引导走线段是水平的，则所有跟随走线都添加为水平，端点集为垂直。

   > [!tip] 走线间距受走线间间隙约束并捕捉到设计网格，无论捕捉到网格设置如何。通过更改网格间距可改变总线布线结果。例如，将网格的 x 和 y 坐标设为零，然后尝试 10。

7. 要同时为所有连接更改层：

   a. 右键点击，指向**过孔模式**弹出菜单项，然后点击所需模式

   b. 移动指针到要添加过孔模式的位置

   c. 右键点击并选择**添加过孔**弹出菜单项

   如果检测到 `DRC` 违规，状态栏显示"总线布线失败。手动为当前连接添加过孔"。尝试再次添加过孔，使用当前模式为过孔放置留出更多空间。否则继续下一步逐个添加过孔。

   过孔间间距基于过孔尺寸、过孔网格以及走线的宽度和间隙。

   d. 如果刚添加的过孔模式不太合适，可右键点击并选择**循环过孔模式**查看不同模式是否能改善过孔放置。

   不适合当前区域的模式会被跳过并使用下一模式。仅当上次使用命令是添加过孔或添加引导过孔时，循环过孔模式菜单项才可用。更多信息请参阅 703 页的"过孔模式"。

8. 如果添加过孔失败，逐个连接更改层：

   a. 移动指针到要添加过孔的位置

   b. 右键点击并选择**添加引导过孔**弹出菜单项。为当前引导走线添加过孔，下一条连接成为新引导走线

   过孔间间距基于过孔尺寸、过孔网格以及走线的宽度和间隙。更多信息请参阅"布线时添加过孔"。

9. 要提前结束走线(留下悬空连接，或在过孔或测试点结束)：

   a. 右键点击，指向**结束过孔模式**弹出菜单项，然后点击结束模式。更多信息请参阅"结束过孔模式"

   b. 移动指针到要添加定位点或过孔的位置

   c. 右键点击并选择**结束**弹出菜单项

   如果检测到 `DRC` 违规，状态栏显示"总线布线失败。手动结束总线"。尝试再次结束总线留出更多空间。否则右键点击并选择**结束引导**弹出菜单项逐个结束走线。

   过孔间间距基于过孔尺寸、过孔网格以及走线的宽度和间隙。

10. 要完成总线布线，继续到最终目的地并执行以下操作之一：

    - 右键点击并选择**完成**弹出菜单项(或双击)

    - 要逐步完成总线中的每条连接，将引导走线移动到其最终连接点并点击。指针在正确连接点变为 1854 页的目标形状。总线中的下一条连接成为新引导走线。重复此过程直到布线所有连接

**示例**

以下是基本总线布线操作示例：

- 指示拐角前移动指针：仅显示引导走线

![](/layout/guide/32/_page_18_Picture_16.jpeg)

• 为总线指示拐点：其他总线连接或跟随走线沿引导走线路径布线。指示拐角后，引导走线附加到指针。继续为总线指示拐角

![](/layout/guide/32/_page_19_Figure_1.jpeg)

• 总线布线进行中。添加拐角时，为获得最佳效果使用内部连接作为引导

![](/layout/guide/32/_page_19_Figure_3.jpeg)


## 设计布线可见性选项

`SailWind Layout` 提供多种可见性选项使布线连接更容易。例如，通过为网络或未布线连接分配特定颜色，可快速区分设计中的网络。同样，通过隐藏不需要看到的未布线连接，可使设计更简洁。

为网络分配颜色

高亮显示网络

更改所有未布线连接的可见性

更改选择性未布线连接的可见性

使用轮廓模式查看受保护走线

### 为网络分配颜色

可为特定网络的焊盘、过孔和未布线连接分配颜色。默认情况下，焊盘、过孔和未布线连接采用显示颜色对话框中给它们的颜色。例如，放置后为平面网络分配颜色。所有平面网络焊盘以特定颜色显示，可更快定位它们以扇出到平面层。

网络颜色分配有多种可用选项。请参阅下表获取说明。

| # | 选项                                       | 操作                                                                                                                                                                                                                                 |
|---|----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1 | 使用查看网络对话框                 | 1. 点击查看>网络菜单项                                                                                                                                                                                                        |
|   |                                              | 2. 在查看网络对话框中，滚动左侧网络列表<br>并添加一个或多个要分配颜色的网络到查看列表                                                                                |
|   |                                              | 3. 在查看列表中，选择一个或多个网络                                                                                                                                                                                             |
|   |                                              | 不能为默认分配颜色                                                                                                                                                                                                     |
|   | 4. 选择按网络启用颜色复选框 |                                                                                                                                                                                                                                           |
|   |                                              | 5. 在按网络颜色区域，为网络选择颜色                                                                                                                                                                                  |
|   |                                              | 此调色板来自显示颜色设置<br>对话框。如果选择"无"选项，则<br>网络没有颜色分配并按正常显示。默认所有网络分配为无 |
|   |                                              | 6. 点击确定                                                                                                                                                                                                                              |
|   |                                              | 颜色更改生效                                                                                                                                                                                                             |
| 2 | 使用分配颜色到网络<br>对话框    | 在动词模式和对象模式均有效。此处以动词模式操作为例                                                                                                                                             |
|   |                                              | 1. 未选择任何内容时，右键点击，选择分配<br>颜色到网络弹出菜单项                                                                                                                                              |
|   |                                              | 2. 在查看网络对话框中，从调色板选择所需颜色                                                                                                                                                        |
|   |                                              | 3. 在工作区选择要着色的网络                                                                                                                                       |
|   |                                              | 要检查颜色更改是否生效，点击空白处                                                                                                                    |
|   |                                              | 提示<br>查看网络对话框中锁定的网络<br>颜色保持不变                                                                                                        |
|   |                                              | 4. 可选：                                                                                                                                                                            |
|   |                                              | • 重复步骤 2-3 为其他需要单独颜色的网络                                                                                                                      |
|   |                                              | • 点击全部默认返回网络颜色到默认<br>分配(如显示颜色设置对话框中定义)，查看网络<br>对话框中锁定的网络除外 |
|   |                                              | • 点击更多打开分配颜色到网络表对话框，<br>可批量分配网络颜色                                                                           |
|   | 使用分配颜色到<br>网络表对话框 | 1. 在分配颜色到网络表对话框，从网络列表添加要分配颜色的网络到选定列表                                                 |
|   |                                              | 可使用通配符或表达式过滤，<br>Ctrl/Shift 多选                                                                                                 |
|   |                                              | 2. 在调色板中，为选定列表中的所有网络选择颜色                                                                                                             |
|   |                                              | 3. 点击应用使颜色分配生效                                                                                                                                    |
|   |                                              | 提示<br>查看网络对话框中锁定的网络<br>颜色保持不变                                                                                                        |
|   |                                              | 4. (可选)要为其他网络分配单独颜色，可：                                                                                                                     |
|   |                                              | • 点击全部移除清除选定列表，然后<br>重复步骤 1-3                                                                                                              |
|   |                                              | • 点击返回使用分配颜色到网络对话框<br>进行颜色分配                                                                                                         |

**表 114. 网络颜色分配可用选项(续)**

### 高亮显示网络

高亮显示网络可快速在密集板上定位它。

> [!tip] 要搜索并选择多个网络，使用 1378 页的查找对话框。按网络查找可查找并高亮或选择网络。

🏃‍♂️‍**操作步骤**

输入 83 页的 N 无模命令，在 N 无模命令后输入空格，输入网络名称并按 Enter 键。或者，可通过点击未布线连接或焊盘选择设计中的网络，然后点击**编辑>高亮**菜单项。

👀‍**结果**

网络以显示颜色 1318 页指定的高亮颜色显示。网络未被选择：如果要布线需选择段。选择网络或管脚对并点击**编辑>取消高亮**菜单项时高亮关闭。

### 更改所有未布线连接的可见性

可通过显示颜色或命令打开和关闭所有未布线连接(也称为"鼠巢")的显示。

按颜色：

1. 点击**设置>显示颜色**菜单项

2. 在显示颜色设置对话框中，设置**连接**颜色块：

   - 设为背景色使连接不可见

   - 从调色板选择特定颜色以在设计中区分它

按命令：

可用选项如下所示，对查看网络对话框中锁定的网络无效。

| 选项            | 操作                                                                                                                                                                                                    |
|-------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 功能按钮  | 点击标准工具栏上的以下按钮：<br>•<br>: 显示所有连接<br>•<br>: 隐藏所有连接                                                                                             |
| 无模命令 | 使用无模命令：VUA 显示所有连接；HUA 隐藏所有连接                                                                                                                          |
| 快捷键         | 使用自定义对话框键盘和鼠标选项卡中定义的显示所有连接和隐藏所有连接快捷键，这两个命令在"标准工具栏"列表项下 |

### 选择性未布线连接的可视性更改

您也可以通过显示颜色或命令来开启或关闭选择性未布线连接的显示。

| 选项           | 操作                                                                                                                                                                                                                                                               |
|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 按显示颜色 | 1. 点击 **视图 > 网络** 菜单项。                                                                                                                                                                                                                                      |
|                  | 2. 在 **查看网络** 对话框中，选择一个网络并将其移动到查看列表以<br>更改其可见性。                                                                                                                                                                   |
|                  | 使用此对话框可按网络名称隐藏或显示鼠线连接。您<br>还可以按网络类、带规则的网络和平面网络状态选择网络。<br>例如，通常方便隐藏地网或其他平面网络的未布线连接。 |
|                  | 3. 在查看列表中选择一个或多个网络：                                                                                                                                                                                                                      |
|                  | • 要隐藏网络的未布线连接，在 **查看未布线详情**<br>区域，点击 **无**。                                                                                                                                                                             |
|                  | 注意：                                                                                                                                                                                                                                                                |
|                  | 当 **查看网络** 隐藏未布线连接时，**验证设计**<br>和 **查找** 都无法看到它们。请确保 **查看网络** 不会禁用<br>您想要搜索或选择的网络或走线。                                                                                       |
|                  | • 要为网络的未布线连接指定自定义颜色，在调色板中<br>选择颜色。焊盘、过孔和未布线连接将采用自定义<br>颜色。                                                                                                             |
| 按命令      | 1. 从工作区或项目资源管理器中选择一个或多个具有网络属性的设计项。                                                                                                                                                                     |
|                  | 2. 通过以下方式之一对所选对象应用命令：                                                                                                                                                                                                |
|                  | 注意：                                                                                                                                                                                                                                                                   |
|                  | 这些命令仅适用于具有网络属性的设计项。                                                                                                                                                                                                   |
|                  | • 右键菜单：右键点击，然后点击 **显示连接** 或 **隐藏<br>连接** 弹出菜单项。                                                                                                                                                                   |
|                  | 注意：                                                                                                                                                                                                                                                                   |
|                  | 要对项目资源管理器中选择的多个对象应用命令，<br>您必须在空白处右键点击。否则，它只会<br>对点击时光标位置的对象生效。                                                                          |
|                  | • 使用无模命令：VUS 显示连接；HUS 隐藏<br>连接。                                                                                                                                                                                           |
|                  | • 使用 **自定义对话框** 中定义的 **显示连接** 和 **隐藏<br>连接** 命令快捷键，键盘和<br>鼠标选项卡中，这两个命令位于"视图"列表项下。                                                                     |

### 使用轮廓模式查看受保护走线

如果您的设计包含受保护走线，可以将其设置为以与其他走线相反的轮廓图案显示。换句话说，如果普通走线显示为实线，则受保护走线显示为轮廓线，反之亦然。

更多信息，请参见第 696 页的"走线和未布线保护"。

🏃‍♂️‍**操作步骤**

1. 点击 **工具 > 选项** 菜单项。

2. 在选项对话框中，点击 **布线** 类别 > **常规** 子类别（第 1542 页）。

3. 选中 **显示保护** 复选框。

4. 点击 **确定**。

## 布线至铜皮

与必须布线至焊盘中心才能完成连接的焊盘布线不同，您只需布线至铜皮边缘即可。

**限制与约束**

在 `ECO` - 添加走线模式下，您不能在铜皮上终止新创建的连接。连接必须位于两个元件管脚之间。

**前提条件**

- 在布线至铜皮前，必须为铜皮分配网络。更多信息，请参见第 665 页的"为铜皮或铜平面分配网络"。

- 您正在布线的网络必须与分配给铜皮的网络相同。

- 如果要布线至管脚铜皮，铜皮必须与封装中的管脚相关联才能布线。更多信息，请参见"将铜皮与端子关联"。

🏃‍♂️‍**操作步骤**

1. 在布线网络时，将走线引导至铜皮。

2. 选择铜皮边界内的一个终点。目标形状（第 1854 页）表示您已与铜皮连接。

   如果您在另一层布线，可以通过过孔进入铜皮来结束走线。更多信息，请参见"结束过孔模式"。

3. 点击完成。


## 从铜皮布线

从铜皮布线存在限制。您必须始终选择铜皮上有连接（未布线）发出的区域来开始布线过程。

由于此限制，建议尽可能在第 715 页布线至铜皮以获得更灵活的连接点。

**前提条件**

- 在从铜皮布线前，必须为铜皮分配网络。更多信息，请参见第 665 页的"为铜皮或铜平面分配网络"。

- 您正在布线的网络必须与分配给铜皮的网络相同。

- 如果要布线至管脚铜皮，铜皮必须与封装中的管脚相关联才能布线。更多信息，请参见"将铜皮与端子关联"。

🏃‍♂️‍**操作步骤**

1. 在布线模式下，定位铜皮上有连接（未布线）发出的点。

2. 点击开始走线。

   > [!tip] 如果需要立即更换层，可以在铜皮内布线和添加过孔。

3. 布线您的走线。

👀‍**结果**

布线后，鼠线连接继续存在于设计中，位于铜皮与该网络的其他未布线对象之间。当与该网络关联的所有对象都连接后，连接消失。


## 在不同网络上结束走线

您可以在具有不同网络名称的线段上结束走线，但必须使用 `ECO` 工具栏上的添加走线按钮。

更多信息，请参见"在 `ECO` 模式下添加走线"主题。

## 过孔

阅读以下主题以了解有关布线时使用过孔的更多信息。

有关过孔设计的主题，请参见"过孔设置"。

您可以在"布线时的层更改"中找到有关使用过孔更换层的更多信息。

过孔类型 在焊盘中添加过孔 结束过孔模式 层对

### 过孔类型

如果一个网络有多种类型的过孔可用，您可以在过孔模式之间切换以帮助选择布线时使用的过孔。

您可以使用第 83 页的 V、VA、VP、VT 无模命令作为快捷方式，在第 1782 页的过孔对话框中指定过孔模式，当您添加过孔或虚拟管脚时。选择过孔类型后，它将与添加过孔、添加过孔至引导和添加虚拟管脚命令一起使用。有关步骤，请参见"布线时更改过孔类型"。

根据默认间距规则或您正在布线的网络所附的间距规则（以优先者为准），过孔不得创建间距违规。如果将 `DRC` 设置为防止错误，则如果走线、过孔或虚拟管脚创建间距问题，层更改将不会完成。

安装过孔或虚拟管脚后，您可以使用过孔属性对话框或虚拟管脚属性对话框将其更改为另一种过孔类型。

### 在焊盘中添加过孔

您可以在 SMD 焊盘中添加过孔，以避免设计中没有空间进行常规扇出时的问题。

🏃‍♂️‍**操作步骤**

1. 在间距规则对话框的相同网络区域中，SMD 到过孔的间距在规则层次结构的所需级别必须为 0（零），才能将过孔放置在焊盘中。


> [!tip] 还要考虑其他过孔规则，例如过孔不能创建间距违规。它必须被网络和钻孔对所允许。

2. 选择一个或多个 SMD 焊盘，右键点击并点击 **在 SMD 添加过孔** 弹出菜单项。

过孔被添加到 SMD 的中心。元件焊盘总是覆盖过孔，可能难以确定过孔是否真的在焊盘内。使用第 83 页的 T 无模命令启用"透明模式"以查看焊盘中的过孔。


### 结束过孔模式

要使用过孔、钉或测试点结束走线，请使用快捷菜单中 **结束过孔模式** 子菜单上的命令。

可用模式如下。所选模式将一直保持，直到您选择不同的模式或退出 `SailWind Layout`。

| 模式           | 描述                                                                                                        |  |
|----------------|--------------------------------------------------------------------------------------------------------------------|--|
| 结束无过孔     | 使用钉结束连接。结束无过孔是默认设置。                                                |  |
| 结束过孔        | 使用过孔结束连接。                                                                                    |  |
| 结束测试点 | 添加测试点过孔。相关信息请参见"放置测试<br>点"和"设置测试点属性"。 |  |

**表 117. 结束过孔模式**


> [!tip] 如果您尝试在 `DRC` 模式设置为防止错误时，将测试点添加到定义为测试点禁止区域的区域，将显示消息"测试点禁止区域违规"并且不会添加测试点。


### 层对

如果您主要在两个层之间工作，将它们设置为默认层对，在布线时右键点击并点击 **层切换** 弹出菜单项，或按住 Shift 键点击以安装过孔并切换到另一层。

在选项对话框的 **布线** 类别 > **常规** 子类别（第 1542 页）中设置层对，或作为快捷方式，使用第 83 页的 PL 无模命令。用空格分隔无模命令和每个层号。

要在层对之外更改层，使用 L 无模命令或右键点击并点击 **层** 弹出菜单项指定层号。


## 泪滴

*泪滴*（也称为*焊盘圆角*）通常是您添加到走线进入焊盘连接处的 V 形铜加固。大多数 PCB 设计主要在具有钻孔的焊盘上使用泪滴，但在某些情况下，它们也可能对表面贴装技术（SMT）焊盘有益。

当您选择生成泪滴时，它们会自动创建在所有进入焊盘和过孔的走线上。如果焊盘和过孔尚未布线，则在完成进入焊盘或过孔的走线后添加泪滴。您不能选择性地添加泪滴，但可以选择性地移除泪滴。

在选项对话框中，使用 **布线** 类别 > **常规** 子类别生成泪滴。使用 **泪滴** 类别仅为新布线的走线设置泪滴选项。这些设置随设计保存。

![](/layout/guide/32/_page_28_Figure_5.jpeg)

**图 97. 带泪滴的焊盘**

**使用泪滴的好处**

泪滴为许多设计问题提供了解决方案，例如提高良率、防止酸陷阱和减少柔性电路应力。

检查泪滴错误

**良率改进**

泪滴可以在同时钻多个板的板制造过程中提高良率。

典型的印刷电路板设计可能包含数百个（在某些情况下数千个）钻孔。如果制造商可以同时钻 3 或 4 个（或更多）板堆叠，他们可以提高产量，从而降低整个板运行的总成本。不幸的是，随着板堆叠高度的增加，钻头偏离其中心线的可能性也增加。钻头行进的距离越远，偏离其预定路径的可能性就越大，并在堆叠中较低板的焊盘上产生偏离中心的孔。尽管偏差通常只有千分之几英寸，但这种微小移动可能导致钻孔孔与焊盘边缘相切，如果它发生在走线与焊盘连接的位置，可能导致断裂或开路。

![](/layout/guide/32/_page_29_Figure_4.jpeg)

**图 98. 钻板堆叠**

在焊盘上添加泪滴增加了走线与焊盘连接周围的靶区，可以补偿一定量的钻头漂移。即使钻头与焊盘边缘相切并侵入连接区域，也允许进行连接。

此技术对圆形和方形通孔焊盘都有效。

**图 99. 带断裂的焊盘**

![](/layout/guide/32/_page_30_Figure_2.jpeg)

**防止酸陷阱**

泪滴可以减少走线与焊盘连接处的酸陷阱可能性。

走线进入焊盘的位置存在蚀刻溶液（酸）在尖锐角落积聚并过度蚀刻连接处的潜在可能。这可能导致走线进入焊盘时略微变窄，并可能创建更容易断裂的连接。这种过度蚀刻还可能略微降低连接处走线的电流处理能力，创建潜在的故障点。

在连接点添加泪滴消除了潜在问题。钻头在焊盘中是居中还是偏移并不重要。

![](/layout/guide/32/_page_30_Figure_7.jpeg)

**图 100. 减少酸陷阱**

**减少应力故障**

泪滴可以减少柔性电路上应力故障的可能性。

走线进入焊盘的位置在柔性电路上可能受到持续应力。当柔性电路弯曲时，它会对此连接施加应力，如果重复运动足够多次，最终可能导致连接处断裂和失效。

在连接点添加泪滴为此潜在应力点增加了额外的表面积，并大大提高了板承受重复应力影响的能力。钻头在焊盘中是居中还是偏移并不重要。

![](/layout/guide/32/_page_31_Figure_5.jpeg)

**图 101. 减少应力故障**

**SMT 焊盘上的泪滴**

在通孔焊盘上使用泪滴获得的减少酸陷阱和应力断裂的设计优势也可以应用于表面贴装设计对象。

![](/layout/guide/32/_page_32_Figure_1.jpeg)

**图 102. SMT 焊盘上的泪滴**


### 生成泪滴

您可以在走线与焊盘和过孔的连接处创建泪滴。如果需要，您还可以启用尚未布线的连接，在布线后自动创建泪滴。

**限制与约束**

- 您不能在方形焊盘上放置默认形状的泪滴。

- 当走线拐角位于焊盘或过孔内或线段太短时，您不能在走线上放置泪滴。使用附加泪滴选项 **自动调整** 解决此问题。此选项位于选项对话框的 **布线** 类别 > **泪滴** 子类别中。使用自动调整设置自定义长度和宽度比。选择自动调整后，`SailWind Layout` 尝试调整泪滴长度，在走线拐角位于焊盘或过孔内或线段太短无法包含指定长度比的走线上。

🏃‍♂️‍**操作步骤**

1. 点击 **工具 > 选项** 菜单项。

2. 在选项对话框中，在 **布线** 类别 > **常规** 子类别（第 1542 页）上，选中 **生成泪滴** 复选框。

3. 点击 **确定**。

泪滴会自动添加到进入或离开焊盘或过孔的现有走线段，或在您布线该连接时添加。如果进入焊盘的走线未居中，泪滴可能不会出现在所有现有焊盘上。重新从焊盘布线至第一个拐角以修复这些例外。

> [!tip] 如果您不希望特定走线有泪滴，在开始布线走线后，右键点击并点击 **忽略泪滴** 弹出菜单项以开启忽略泪滴模式。您布线的走线上不会出现泪滴，直到您再次右键点击并点击 **忽略泪滴** 弹出菜单项关闭忽略泪滴模式。菜单上命令旁边会出现一个勾选标记，表示模式已开启。

👀‍**结果**

如果您在之前的 `SailWind Layout` 会话中未更改泪滴选项，则对所有新布线的走线与焊盘和过孔的连接使用默认泪滴形状。如果您有附加泪滴功能，可以在选项对话框的 **布线** 类别 > **泪滴** 子类别（第 1546 页）中为泪滴设置更具体的选项。

### 移除所有泪滴

您可以通过反转创建泪滴的过程来删除或移除设计中的泪滴。

🏃‍♂️‍**操作步骤**

1. 点击 **工具 > 选项** 菜单项。

2. 在选项对话框中，在 **布线** 类别 > **常规** 子类别（第 1542 页）上，清除 **生成泪滴** 复选框。

### 禁用泪滴显示

您也可以暂时禁用泪滴显示而不从设计中移除它们。

🏃‍♂️‍**操作步骤**

1. 点击 **工具 > 选项** 菜单项。

2. 在选项对话框中，在 **布线** 类别 > **常规** 子类别（第 1542 页）的参数区域，清除 **显示泪滴** 复选框。

### 选择性禁用泪滴

您可以在管脚级别选择性关闭泪滴。

🏃‍♂️‍**操作步骤**

1. 选择一个或多个管脚。要清除多个管脚，将 **选择过滤器**（第 1710 页）设置为"仅管脚"，并绘制选择矩形以选择多个管脚。只要所有选定的管脚都启用了泪滴，您可以打开属性对话框禁用泪滴。

2. 右键点击并点击 **属性** 弹出菜单项。

3. 在管脚属性对话框中，清除 **泪滴** 复选框。

### CAM 中的泪滴

当您绘制泪滴时，使用的线宽与走线宽度相同。如果泪滴在环形焊盘上，`SailWind Layout` 使用外焊盘半径与内焊盘半径之差作为线宽，如果该值小于走线宽度。


### 修改泪滴属性

您可以修改任何选定泪滴的形状、长度比和宽度比。您可以单独修改泪滴、所有层上的泪滴或一次性修改所有泪滴。您也可以从设计中移除单个泪滴。

🏃‍♂️‍**操作步骤**

1. 选择一个或多个带有泪滴的走线。如果在带有两端泪滴的走线中间选择，则会同时编辑两个泪滴。选择靠近要修改泪滴的走线可仅编辑一个泪滴。

2. 右键单击并选择 **泪滴属性** 弹出菜单项。

   将显示"走线上的泪滴属性"对话框。

3. 进行更改后点击 **确定**。

👀‍**结果**

• 如果选择了多条走线并修改这些走线上的泪滴或将泪滴属性更改应用于多个泪滴，则仅修改现有泪滴。新创建的泪滴始终使用"选项"对话框 > **布线** 类别 > 泪滴子类别（第 1546 页）中的设置。

- 如果在"应用于"区域选择了"层"或"全部"，"自动调整"将变为第三种状态，既非开启也非关闭。这是因为"自动调整"会读取多条走线的自动调整设置，而这些设置可能各不相同。您仍可以更改"自动调整"。

- 当选择"层"或"全部"时，无法预览泪滴。

### 检查泪滴错误

您可以对泪滴运行检查（使用类似于"验证设计"对话框的方法）来检查和查看泪滴错误。`SailWind Layout` 会给出错误位置、层和错误的简短说明。通过"选项"对话框 > **布线** 类别 > 泪滴子类别启动泪滴检查过程，而不是通过"验证设计"对话框。

🏃‍♂️‍**操作步骤**

1. 点击 **工具 > 选项** 菜单项。将打开"选项"对话框。在检查泪滴前必须启用泪滴功能。在 **布线** 类别 > 常规子类别（第 1542 页）中，选中"生成泪滴"复选框。

2. 在"选项"对话框中，点击 **布线** 类别 > 泪滴子类别（第 1546 页）。

3. 点击 **检查** 按钮。

4. 在"检查泪滴"对话框中，点击 **开始** 运行检查。错误结果列在"位置"框中。列出的错误包含其(X,Y)位置、层和错误类型。

5. 从列表中选择一个错误。

    - 在"说明"框中，查看"位置"列表中所选错误的详细信息。说明包括任何冲突对象的信息。无论对话框是否打开，当前错误列表都会保留。

    - 设计窗口会平移至错误区域（除非选中了"禁用平移"复选框）。如果您已放大设计且标记设置为显示在设计中的话，这一点会更加明显。错误标记会一直保留，直到您点击 **清除错误**，这会清除错误标记但不会修复错误。

> [!tip] 必须在"显示颜色设置"对话框中正确分配颜色才能看到错误标记。设计区域中的错误会按照"显示颜色"对话框每层"错误"复选框的颜色显示。当在"位置"框中选择错误时，设计区域中的错误会以"高亮"颜色显示。

👀‍**结果**

您可以在默认文本编辑器中查看当前错误结果。要在默认文本编辑器中查看最近运行的报告结果，点击 **查看报告**。您可以从默认文本编辑器打印或保存结果。

要更改默认泪滴报告文件名，点击 **报告文件**。这将打开"另存为"对话框，您可以在其中更改报告名称。更改后的名称将保持为默认名称，直到再次更改。

## 固定点

`SailWind Layout` 会生成固定点，这些固定点最常见于走线沿层方向布线时的拐角处。

您也可以手动添加固定点（第 1864 页）。在某些情况下甚至可以删除固定点，但不建议这样做，因为这通常会同时移除拐角并改变已布线走线的路径。

您可以手动添加固定点以锁定拐角或在使用动态布线或总线布线工具时防止重新布线。布线时点击以用固定点锁定拐角。当没有固定点时，走线可以被推挤以为另一条走线腾出布线空间。

当不需要固定点进行布线方向改变时，按 Delete 键会移除固定点下方的拐角并将固定点移动到布线中的下一个"U"点。"选择过滤器"（第 1710 页）包含固定点选项，因此您可以将过滤器设置为仅选择固定点。要删除手动添加的固定点，选择它并按 Delete 键。

## 跳线

阅读以下主题以了解有关创建、添加和修改跳线的更多信息。

设置跳线 设置跳线焊盘堆栈 添加跳线 创建跳线列表报告 修改跳线属性 修改跳线名称属性 修改跳线管脚属性

### 设置跳线

当您向设计添加跳线时，`SailWind Layout` 使用默认跳线。您可以更改默认跳线设置或更改设计中特定跳线的设置。默认跳线的属性保存到 *SailWindpcb.ini* 文件中。打开管脚属性可更改设计中特定管脚的设置。

使用"跳线"对话框设置和修改跳线及跳线焊盘堆栈。您可以在顶层或底层安装层上创建和修改 SMD 跳线（单层跳线）。

🏃‍♂️‍**操作步骤**

1. 点击 **设置 > 跳线** 菜单项。

2. 在"跳线"对话框的"应用于"区域点击：

    - **默认** 更改默认跳线的设置，任何新添加到设计中的跳线都将使用这些设置。设置保存在 *SailWindpcb.ini* 文件中。

    - **设计** 然后在"参考名称"列表中选择跳线名称 - 更改设计中现有跳线的设置。

3. 修改跳线尺寸设置。要修改设计跳线的跳线尺寸设置，请使用"跳线属性"（第 1425 页）。在"跳线尺寸"区域：

    a. 在"最小长度"和"最大长度"框中，输入跳线的最小和最大长度。

    b. 在"跳线尺寸"区域的"增量"框中，输入可在最小和最大长度之间拉伸跳线的增量。

4. 设置焊盘堆栈（第 729 页）。

5. 在"钻孔尺寸"框中输入钻孔尺寸（如果跳线是通孔跳线）。如果要使用圆形焊盘的表面贴装跳线，请输入零作为钻孔尺寸。

6. 选中"显示丝印"复选框以显示跳线的丝印轮廓。跳线的轮廓设置为 10 mils；您无法修改此设置。要修改设计跳线的"显示丝印"设置，请使用"跳线属性"（第 1425 页）。对于 CAM 输出，您必须启用跳线所在层的"元件轮廓"，跳线轮廓才会绘制。

### 设置跳线焊盘堆栈

您可以为跳线或单个跳线管脚设置焊盘堆栈信息。

🏃‍♂️‍**操作步骤**

1. 点击 **设置 > 跳线** 菜单项。

2. 在"跳线"对话框的"应用于"区域点击：

    - **默认** 更改默认跳线的设置，任何新添加到设计中的跳线都将使用这些设置。设置保存在 *SailWindpcb.ini* 文件中。

    - **设计** 然后在"参考名称"列表中选择跳线名称 - 更改设计中现有跳线的设置。

3. 在"管脚"列表中，选择两个跳线管脚（全部）或要更改的管脚。您可以将跳线的单个管脚添加到列表中进行自定义。使用 **添加** 或 **删除** 按钮维护"管脚"列表。

4. 在"形状/尺寸/层"列表中选择要更改跳线焊盘堆栈的层。修改设计跳线时，您可以将设计的单个层添加到列表中以自定义设计跳线。使用 **添加** 或 **删除** 按钮维护"形状/尺寸/层"列表。

5. 在"参数"区域，从"焊盘样式"列表中选择焊盘类型。

    选择（普通）焊盘、热焊盘或反焊盘。您不能在外层上创建反焊盘。当您在"尺寸/形状/层"列表中选择外层（<开始>或<结束>）时，"反焊盘"不可用。您可以点击 **使用全局默认值** 将层和管脚的热焊盘和反焊盘形状设置为设计规则和"选项 > 铜平面"类别 > 热焊盘子类别（第 1514 页）指定的默认形状。**使用全局默认值** 按钮仅在"焊盘样式"列表设置为"热焊盘"或"反焊盘"时可用。

    热焊盘和反焊盘显示配置控制用于分割/混合层和 CAM 负平面（用于 RS-274X 输出）的热焊盘和反焊盘的尺寸和形状。

6. 选择焊盘形状。

    选择：圆形、方形、环形或异形。环形和异形仅适用于普通焊盘样式。您可以选择"焊盘尺寸相对于钻孔尺寸"复选框以显示相对于钻孔尺寸的内外焊盘值。

7. 在"直径"框中，输入焊盘样式的直径。

    热焊盘需要额外设置。详情请参阅"设计规则与焊盘堆栈 - 热焊盘和反焊盘"（第 797 页）。

8. 仅限方形焊盘：选择角类型并输入半径。

👀‍**结果**

您可以在"焊盘预览"显示中查看焊盘设置的效果。


### 添加跳线

您可以在布线时或完成布线后在走线中放置跳线。`SailWind Layout` 将跳线管脚视为过孔。跳线管脚之间的空间没有电气属性。跳线管脚会像过孔一样检查设计规则间距。


> [!tip] `SailWind Router` 可以加载和自动布线跳线（第 1835 页）。

**限制和局限**

- 跳线不遵循批处理和在线 `DRC` 中的"体到体"默认设计规则。

- 跳线丝印不可由用户配置。

- 您不能使用"查找"搜索跳线。

- 集群放置会忽略跳线。

- 对于 CAM 输出，您必须启用跳线所在层的"元件轮廓"，跳线丝印轮廓才会绘制。跳线的轮廓设置为 10 mils；您无法修改此设置。

🏃‍♂️‍**操作步骤**

1. 除非您想使用默认跳线，否则请设置跳线：

    a. 点击 **设置 > 跳线** 菜单项。

    b. 在"跳线"对话框中，更改跳线管脚的堆叠和跳线尺寸设置。更多信息，请参阅"设置跳线"。

2. 通过以下方式之一启动跳线：

    - 布线时将指针定位在您希望跳线第一个管脚出现的位置。

    - 在现有走线上选择您希望跳线第一个管脚出现的走线点。或者，在设计工具栏上点击 **添加跳线**，然后点击走线上您希望跳线第一个管脚出现的点。

3. 右键单击并选择 **添加跳线** 弹出菜单项。跳线的第一个管脚出现。

4. 移动鼠标以拉伸跳线。您可以在最小长度和最大长度跳线设置之间以预设增量拉伸。角度模式也适用。

5. 点击完成跳线。

    - 如果向现有走线添加跳线，则必须在同一网络中的走线上输入第二个管脚。

    - 如果在布线时添加了走线，则常规布线将继续。

### 创建跳线列表报告

您可以使用"报告"对话框创建包含设计中所有跳线信息的报告。

🏃‍♂️‍**操作步骤**

1. 点击 **文件 > 报告** 菜单项。

2. 在"报告"对话框的"选择输出报告文件"列表中，选择"跳线列表"。

3. 点击 **确定**。报告将写入 *C:\SailWind Projects\report.rep* 并在默认文本编辑器中显示。


### 修改跳线属性

打开"跳线属性"可查看信息、更改坐标、更改跳线尺寸设置、控制跳线轮廓的显示、固定跳线位置或修改跳线的焊盘堆栈和参考标识符。

🏃‍♂️‍**操作步骤**

1. 使用以下方法之一访问"跳线属性"：

    - 选择一个跳线管脚，右键单击并选择 **属性** 弹出菜单项。在"跳线管脚属性"对话框中，点击 **跳线** 按钮。将出现"跳线属性"对话框。

    - 选择跳线的轮廓，右键单击并选择 **属性** 弹出菜单项。

    - 点击跳线中间以选择它。跳线管脚和跳线名称都以"选择"颜色显示。右键单击并选择 **属性** 弹出菜单项。

    - 选择跳线名称，然后右键单击并选择"属性"。在"跳线名称属性"对话框中，点击 **跳线** 按钮。

2. 在"跳线属性"对话框中，查看属性或进行更改。

3. 点击 **确定**。


### 修改跳线名称属性

打开"跳线名称属性"可更改参考标识符的值或属性。

🏃‍♂️‍**操作步骤**

1. 使用以下方法之一访问"跳线名称属性"：

    - 选择一个跳线参考标识符。右键单击并选择 **属性** 弹出菜单项。

    - 选择跳线。右键单击并选择 **属性** 弹出菜单项。将出现"跳线属性"对话框。从"标签"列表中选择要修改的名称。点击 **标签** 按钮。

2. 在"跳线名称属性"对话框中，查看属性或进行编辑。

3. 点击 **确定**。


### 修改跳线管脚属性

在"跳线管脚属性"中，您可以显示跳线管脚信息、更改跳线管脚的坐标以及将管脚激活为测试点。

🏃‍♂️‍**操作步骤**

1. 选择跳线管脚。

2. 右键单击并选择 **属性** 弹出菜单项。将出现"跳线管脚属性"对话框。

3. 查看跳线管脚属性或进行更改。

4. 点击 **确定**。

👀‍**结果**

如果您更改了作为锁定测试点的跳线管脚的焊盘堆栈，将出现"警告：测试点已锁定"对话框（第 995 页）。


## 布线时的操作

在 `SailWind Layout` 中布线时，您可以访问某些操作或功能。

走线长度监视器 激活走线长度监视器 布线方向 开始布线的层选择 布线时添加过孔 创建圆弧 布线时的层更改 布线时更改过孔类型 布线时更改走线宽度 在其他层上布线的故障排除 在不同网络上结束的走线

### 走线长度监视器

走线长度监视器在您布线时计算并显示走线长度（在状态栏和指针附近）。当网络的设计规则指定长度时，监视器中的红色或绿色文本指示长度是否在指定规则内。

- 红色文本表示违反规则。

- 绿色文本表示走线长度在规则内。

状态栏显示详细的长度信息。

走线长度监视器显示已布线的长度和网络的估计总长度。更多信息，请参阅"走线长度监视器"。

![](/layout/guide/32/_page_43_Picture_10.jpeg)

**图 103. 走线长度监视器**

**走线长度监视器的颜色自定义**

您可以设置监视器中指示长度是否在指定规则内的文本颜色。在 *SailWindpcb.ini* 文件中设置颜色。在 *.ini* 文件中，查找类似于以下的[monitor]部分：

[monitor] normal = 10 norules = 15 error = 12

这些数字代表[Colormap]部分中的颜色。要更改监视器中使用的颜色，将[monitor]部分中的数字更改为[Colormap]部分中的颜色。值可以是 0-31。

**重新布线和平滑对走线长度的影响**

在重新布线操作期间，走线长度监视器可能显示的长度大于实际最终长度。此外，对于动态布线，平滑操作和焊盘入口校正可能会在您完成布线后对走线执行（取决于您的"选项"对话框 > **布线** 类别 > 常规子类别（第 1542 页）设置）。这些操作可能会稍微改变走线长度。

**走线长度监视器报告**

如前所述，走线长度监视器显示网络长度规则、当前布线长度和估计总长度。报告的是网络长度规则。如表 118 所示，走线长度监视器根据长度规则报告不同的信息。

| 长度规则                     | 报告中的信息                                                                                                                                                       |
|---------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 最小/最大长度<br>规则 | 显示当前布线长度、总长度、最小<br>网络长度规则，以及它是在网络还是管脚对<br>规则层次结构级别应用的。         |
| 匹配长度规则            | 显示当前布线长度、总长度和<br>匹配的网络长度规则。                                                                                     |
| 差分对规则         | 显示当前布线长度、总估计长度、<br>最小长度规则、最大长度规则、间隙规则、<br>以及它是网络还是管脚对规则。 |
| 无长度规则                 | 显示当前布线长度和总估计长度。                                                                                                             |

**表 118. 走线长度监视器报告**

### 激活走线长度监视器

走线长度监视器在您布线时计算并显示走线长度。当您移动指针并布线走线时，网络或管脚对的已布线和未布线长度及相关规则会显示在指针附近和状态栏上。

走线长度监视器可用于以下命令：

- 布线/添加布线

- 动态布线

- 移动段

- 移动拐角

- 移动过孔

🏃‍♂️‍**操作步骤**

1. 点击 **工具 > 选项** 菜单项。

2. 在"选项"对话框的 **布线** 类别 > 常规子类别（第 1542 页）中，选中"显示走线长度"复选框。

3. 点击 **确定**。

这仅在指针处打开或关闭走线长度监视器的显示。走线长度始终显示在状态栏上。


> [!tip] 您也可以使用快捷键（第 100 页）Ctrl+PageUp 打开或关闭走线长度监视器。打开或关闭走线长度监视器不会结束当前布线命令；您可以继续布线。


### 布线方向

当您开始布线时，`SailWind Layout` 会自动选择您开始的端点。如果您想从连接的相反端开始，右键单击并选择 **交换端点** 弹出菜单项。此外，在布线的任何时候，点击（添加拐角）以保留已布线的部分并从连接的相反端开始布线。

"交换端点"仅在"添加布线"（第 699 页）和"动态布线"（第 700 页）模式下可用。

### 开始布线的层选择

当您开始布线走线时，它会假定连接开始对象的层，例如焊盘、过孔或铜区域。如果从通孔焊盘或过孔开始布线，您可以在开始布线前设置当前布线层。

选择以下方法之一在布线前设置层：

- 在标准工具栏的"层"列表中，选择层。

- 通过键入 L 无模式命令（第 83 页）、键入层号并按 Enter 键更改当前层。

层的当前方向设置显示在其在"层"列表中的条目旁边。您可以通过键入 LD 无模式命令更改层的当前方向设置。

当您选择连接并选择布线模式时，布线从该层开始。当您在与开始层不同的层上结束布线时，结束的层将成为活动层并显示在"层"列表框中。您选择的下一个连接将从该活动层开始。

### 布线时添加过孔

您可以在布线过程中添加过孔，以便切换到另一层继续布线或连接到平面区域。

**前提条件**

- 必须已创建用于设计的过孔类型。更多信息请参见"创建通孔过孔类型"和"创建部分过孔类型"。

- 过孔必须可用，且根据第 1666 页适用的布线规则，源层和目标层都必须可用于布线。

🏃‍♂️‍**操作步骤**

1. 在布线过程中，使用以下任一方法添加过孔：

   - 右键单击并选择**添加过孔**弹出菜单项以切换到另一层继续布线。

   - 单击放置定位点，然后切换到第 738 页所需的新层继续布线。过孔会自动添加在定位点位置。
   
   如果过孔是受限过孔，请确保满足本程序的要求。
   
   如果检测到违规，可能是过孔网格或间距规则阻止了过孔的放置。此外，您尝试布线到的层可能不可用。请确保满足本程序的要求。
   
   > [!tip]    
   除了在添加过孔后继续布线外，您还可以用过孔结束走线。这种方法可用于将平面网络扇出到平面层。在布线时，右键单击，指向**结束过孔模式**弹出菜单项，然后点击**结束过孔**弹出子菜单项设置模式。右键单击并选择**结束**弹出菜单项用过孔结束走线。走线将以过孔结束。如果过孔路径上有平面区域，它将根据需要连接热焊盘或不连接时添加反焊盘。
   
2. 在新层上继续布线。


### 创建圆弧

在布线过程中，您可以创建圆弧而非直角。

🏃‍♂️‍**操作步骤**

1. 在布线过程中，右键单击并选择**添加圆弧**弹出菜单项。从最后一个转角延伸的线段将转换为圆弧。

2. 移动指针调整并指示半径。

3. 单击完成圆弧。布线从该点继续。


### 布线时切换层

要在布线时切换层，请在走线激活时使用无模命令 L。"L"命令会在最后一个转角处安装过孔，并将走线段(从过孔延伸到指针)移动到指定层。过孔类型对话框设置控制您放置的过孔类型。走线颜色相应变化，新层会显示在标准工具栏的层列表中。

如果允许层切换，当您在布线时或输入走线后切换层时，会在最后一个转角处安装过孔。您可以使用设计规则默认使用特定过孔。由于部分过孔需要经过检查过程，您不能默认设置它们；它们会根据层切换情况自动选择。

**层切换条件**

交互式布线中的层切换操作对于布线命令和动态布线编辑器是相同的。

当您切换层时，必须满足几个要求才能放置过孔。首先，层切换必须是合法的钻孔对，即起始和结束层号。此检查影响多层板。通过点击**设置>钻孔对**菜单项根据您的预计制造计划建立对。一旦输入钻孔对，如果您连接的两个层与制造方案不匹配，您会收到警告。

有关设置通孔与部分过孔的更多信息，请参见过孔设置。

**层切换方法**

在布线时有几种方法可以安装过孔并切换层：

- 如果您主要在两个层之间工作，在选项对话框>**布线**类别>常规子类别第 1542 页将它们设置为默认"层对"。您也可以使用第 83 页的 PL 无模命令。在布线时，右键单击并选择**层切换**弹出菜单项或按 F4 键。

- 键入第 83 页的 L 无模命令，新层号，然后按 Enter 键。

- 右键单击并选择**层**弹出菜单项。这将打开无模命令窗口，其中已为您输入 L 命令。在 L 命令后，键入新层号，然后按 Enter 键。

- 在标准工具栏的层列表中，选择新层。

放置的过孔类型由过孔对话框设置决定。您也可以使用第 83 页的 V 无模命令。


### 布线时更改过孔类型

在布线过程中，您可以更改 `SailWind Layout` 用于添加过孔的过孔类型。

🏃‍♂️‍**操作步骤**

1. 在布线过程中，右键单击并选择**过孔类型**弹出菜单项。
   
   过孔对话框出现。您可以保持过孔对话框打开以快速从一种过孔类型切换到另一种。
   
2. 在过孔模式区域点击一种过孔类型。

3. 如果过孔是通孔，在过孔列表中选择要使用的过孔类型。

   如果您点击自动，`SailWind Layout` 会根据布线规则第 1666 页对话框中网络允许的过孔类型以及钻孔对设置第 1337 页对话框中层切换合法的过孔类型来选择过孔类型。如果有多个过孔类型同时满足这两个条件，产品会使用较小的钻孔直径和/或较小的焊盘尺寸。

4. 点击**确定**。新过孔类型将一直使用，直到您更改它。

### 布线时更改走线宽度

当您更改走线宽度时，当前布线宽度从最后一个转角开始改变，之前的线段保持原始宽度。所有后续线段以新宽度绘制，直到到达网络中的下一个管脚。宽度保持与连接关联，直到您更改它。

网络的"推荐"走线宽度设置第 1167 页保持不变。如果您以部分布线结束并稍后使用它，您单独设置的宽度仍然有效。

🏃‍♂️‍**操作步骤**

1. 在布线过程中，键入第 83 页的 W 无模命令。这会更改选项对话框>**绘图**类别>文本和线子类别第 1553 页中的"默认宽度"设置。您也可以在网格/宽度对话框第 1398 页更改宽度。

2. 键入新宽度，然后按 Enter 键。状态栏上的线宽区域相应变化。


### 在另一层布线故障排除

您可以使用过孔在布线时切换到另一层，但许多规则或设置可能会阻止您在另一层布线。

如果遇到问题，以下是需要检查的事项列表：

- 过孔类型是否在选定层列表中？在规则层次结构的每个级别的布线规则第 1666 页中，您可以通过将过孔保留在选定过孔列表外来禁用过孔用于布线。

- 层是否在层偏置的选定层列表中？在规则层次结构的每个级别的布线规则第 1666 页中，您可以通过将层保留在层偏置区域的选定层列表外来禁用层用于布线。

- 选择过滤器中的层复选框是否已清除？在选择过滤器的层选项卡第 1708 页，您可以清除层的复选框。该层上的任何内容都不可选择 - 包括您尝试从中布线的过孔焊盘。

- 活动层是否没有显示在前面？在选项对话框>全局类别>常规子类别第 1531 页，您可以选择"活动层显示在前面"复选框以使层前置。然后您可以更轻松地选择该层上的项目。

- 是否有条件规则阻止此网络在此层上布线，或靠近这些组件？

### 在不同网络上结束走线

要在具有不同网络名称的线段上结束走线，请使用 `ECO` 工具栏布线命令。`SailWind Layout` 假定您有意将两个网络连接成一个，并将其视为工程变更。`SailWind Layout` 在数据库中将其记录为工程变更。

您必须分配一个新的网络名称：使用您刚组合的网络名称之一或使用第三个名称。有关说明，请参见"在 `ECO` 模式下添加布线"。

## 精细对象选择

在选择设计对象后，您可以使用额外的选择过滤器快捷方式。右键单击并选择一个选择快捷方式。

从电气对象选择网络 从对象选择管脚对 从网络选择类 从管脚对选择组 从线段/转角选择绘图对象

### 从电气对象选择网络

您可以快速选择电气对象的分配网络。电气对象包括走线对象、管脚、铜对象、平面和未布线。

🏃‍♂️‍**操作步骤**

1. 选择一个对象。

2. 右键单击并选择**选择网络**弹出菜单项，或按 F6 键。整个网络被选中，包括布线、连接和管脚。

### 从对象选择管脚对

您可以选择连接到管脚、走线段、转角、定位点或过孔的所有管脚对。

🏃‍♂️‍**操作步骤**

1. 选择一个对象。

2. 右键单击并选择**选择管脚对**弹出菜单项，或按 F5 键。

### 从网络选择类

*类*是具有共同设计规则集的网络集合。您可以使用图形或类规则对话框定义类。

有关类的更多信息，请参见"设计规则层次结构"。

如果您已创建网络类，可以快速选择其中的所有项目，如管脚、走线和未布线管脚对，或确定网络的类。

🏃‍♂️‍**操作步骤**

1. 选择一个网络。

2. 右键单击并选择**选择类**弹出菜单项。

### 从管脚对选择组

组是具有共同设计规则集的管脚对集合。您可以使用组规则对话框定义组。

有关组的更多信息，请参见"设计规则层次结构"。

🏃‍♂️‍**操作步骤**

1. 选择组的管脚对。

2. 右键单击并选择**选择组**弹出菜单项。组的所有管脚对都被选中。

### 从线段/转角选择绘图对象

您可以使用选择形状命令从其线段或转角中选择整个绘图对象。

🏃‍♂️‍**操作步骤**

1. 选择绘图线段或转角。

2. 右键单击并选择**选择形状**弹出菜单项。

## 布线后操作

`SailWind Layout` 提供详细工具帮助您清理或修改布线走线模式，执行完全重新布线，或保护布线免受进一步修改。

> [!tip] 如果您尝试修改物理设计重用中的布线对象，会出现消息"重用对象无法修改。请先断开重用"。点击**确定**取消编辑操作。但是，您可以从物理设计重用中复制走线模式。

要查看可能位于当前活动层走线下方的障碍物，请使用透明视图模式，第 83 页无模命令 T。

将走线段移动到另一层 使用布线或动态布线重新布线 使用草图布线重新布线 平滑走线段 更改焊盘入口角度 复制和粘贴走线模式 创建布线环路 移动走线段 移动过程中的走线推挤 删除走线段 取消布线连接到组件管脚的所有线段 更改现有走线的宽度 创建圆弧斜切 将走线转角转换为圆弧 拉伸命令 移动转角 移动过孔或定位点 删除悬空布线 分割走线 向走线段添加转角 向现有走线添加过孔 缝合过孔 向现有走线添加测试点 删除转角 删除过孔 固定过孔 删除斜切 从管脚对删除布线 将 SMD 焊盘连接到平面

### 将走线段移动到另一层

与其重新布线整个走线，您可以将走线段移动到另一层，并允许 `SailWind Layout` 自动在走线段的两端添加过孔。

🏃‍♂️‍**操作步骤**

1. 选择一个或多个连续的走线段。

2. 右键单击并选择**属性**弹出菜单项。

3. 在走线属性对话框中，从层列表中选择所需的层。

4. 点击**确定**。

👀‍**结果**

走线段移动到选定层，过孔自动放置在段端点。

如果没有发生任何变化，可能是违反了设计规则。例如，可能没有足够的空间放置过孔，或者您选择的层可能不允许走线。

### 使用布线或动态布线重新布线

您可以通过在任何现有走线上开始和结束新的替换走线来重新布线走线。您可以在线段、管脚和过孔上开始和结束重新布线。

**前提条件**

- 现有和新走线必须具有相同的网络名称。

- 网络必须启用铜共享。要启用铜共享，请使用网络的布线规则第 1666 页对话框并选择铜共享。要为所有网络启用共享，在规则对话框第 1674 页点击**默认**并在布线区域选择铜共享。

🏃‍♂️‍**操作步骤**

1. 在您想要开始重新布线的点选择走线段。

   > [!tip] 使用第 83 页无模命令 T 透明视图模式，查看可能位于当前活动层走线下方的障碍物。

2. 右键单击并选择**布线**或**动态布线**弹出菜单项。新走线从选择点开始。

   - 如果您重新布线具有锁定测试点的过孔或跳线管脚的线段，锁定的测试点不会被删除。测试点保持通过未布线连接。

   - 如果您尝试修改物理设计重用中的布线对象，会出现消息"重用对象无法修改。请先断开重用"。点击**确定**取消编辑操作。

3. 布线新走线段。当指针变为靶心时，您可以在走线上结束，当您将进行中的布线移动到您想要 T 连接的线段上时。如果您创建了连接环路，会出现"删除环路？"消息。点击**确定**删除高亮显示的段或点击**下一个**循环查看环路中的其他段。点击**确定**删除高亮显示的段。

4. 要完成布线，双击或右键单击并选择**完成**弹出菜单项。

### 使用草图布线重新布线

使用草图布线重新布线两个管脚之间的一组走线段。这里的管脚可以是组件管脚、过孔或定位点。

**限制和局限**

草图布线无法移动定位点，因此大多数方向错误或由于任何其他原因有定位点的走线都不符合草图重新布线的条件。

🏃‍♂️‍**操作步骤**

1. 键入第 83 页无模命令 drp 并按 Enter 键启用在线设计规则检查预防模式和**草图布线**按钮。

   更多信息请参见"开启设计规则检查"和"设计规则检查"。

2. 使用以下方法之一激活草图布线命令：

   - 对象模式选择您要编辑系列的第一个段，然后右键单击并选择**草图布线**弹出菜单项。

   - 动词模式在设计工具栏上，点击**草图布线**按钮，然后在您想要更改走线模式的走线段上点击。

   > [!danger] 
   如果您尝试修改物理设计重用中的布线对象，会出现消息"重用对象无法修改。请先断开重用"。点击**确定**取消编辑操作。

3. 出现一条随指针移动的细虚线。使用此线标记新走线的大致位置。您不必输入任何转角。

4. 点击指示草图布线的结束。这将完成走线，通过定义的路径布线。

### 平滑走线段

平滑会从走线中移除不必要的线段，并在可能时将九十度转角转换为四十五度转角。此选项仅在具有动态布线编辑许可选项时可用。

🏃‍♂️‍**操作步骤**

1. 键入第 83 页无模命令 drp 并按 Enter 键启用在线设计规则检查预防模式。

   更多信息请参见"开启设计规则检查"和"设计规则检查"。

2. 选择一个走线段。

3. 右键单击并选择**平滑**弹出菜单项。

> [!danger] 
如果您尝试修改物理设计重用中的布线对象，会出现消息"重用对象无法修改。请先断开重用"。点击**确定**取消编辑操作。

### 更改焊盘入口角度

在完成从管脚到管脚的布线连接后，您可以更改进入管脚的焊盘入口角度。

选项对话框>设计子类别第 1503 页中的走线/线角度设置确定完成走线时焊盘入口的角度。您也可以使用状态对话框中的走线/线角度。

🏃‍♂️‍**操作步骤**

1. 选择线段。

2. 右键单击并选择**焊盘入口**弹出菜单项。

最终线段改变其方向，并在可能时相应调整连接的线段。如果新的焊盘入口导致间距错误，该过程将被取消。

> [!danger] 
如果您尝试修改物理设计重用中的布线对象，会出现消息"重用对象无法修改。请先断开重用"。点击**确定**取消编辑操作。

### 复制和粘贴走线模式

您可以通过制作一个线段模式的示例，复制它，并将其粘贴到任何类似的连接上来复制重复的布线模式。选择包括路径中的层切换和过孔。

内存模式或 SMD 扇出是复制布线的理想应用。当您选择并复制走线或走线和过孔组合时，您启动了一个专门的操作，立即将选定布线的副本附加到指针，并允许您通过鼠标点击重复粘贴。

🏃‍♂️‍**操作步骤**

1. 选择从单个走线段到管脚对长度的任何内容。

   您的选择可以包括过孔。复制功能不适用于超过单个管脚对长度的走线模式。通过 Ctrl+点击选择多个项目。选择可以包括过孔。

2. 点击**编辑>复制**菜单项，或按 Ctrl+C。

   所有包含的线段和过孔被复制并附加到您的指针在移动模式。

3. 如果需要，右键单击并使用快捷菜单命令旋转或翻转副本。

4. 将指针定位到您想要粘贴的管脚位置。

   粘贴一个副本，另一个副本保持附加到指针，因此您可以再次粘贴。复制的走线只能粘贴到有效的电气连接：您不能粘贴到空白空间。如果复制的走线比目标管脚对短，则从副本的末端创建连接到该对的另一个管脚的连接。

   然后指针自动捕捉到与上次放置相同距离和方向的点。这使得安装重复走线模式变得容易。

5. 按 Esc 键取消进一步复制。


### 创建布线环路

您可以在不删除原有路径的情况下，沿同一网络从点到点重新布线。这会使新布线从现有布线分支出来，形成环路。

🏃‍♂️‍**操作步骤**

1. 在布线线段上指定要产生分支的位置。

2. 右键单击并选择**布线环路**弹出菜单项。

   新布线将从选择点开始。您也可以使用 Ctrl+J 快捷键启动布线环路功能。


   **限制条件：**

   如果您尝试修改物理设计复用中的布线对象，将显示消息"无法修改复用对象。请先解除复用"。点击**确定**取消编辑操作。

3. 为新布线的每个转角指定位置。

4. 指定环路分支重新接入现有布线的位置。

### 移动走线段

如需为其他布线对象腾出空间，您可以移动走线。

🏃‍♂️‍**操作步骤**

1. 选择走线段。

2. 使用以下任一方法开始移动：

	- 右键单击并选择**移动**弹出菜单项

	- 按 Ctrl+E

	- 选择走线段并拖动。使用"选项"对话框 > "全局"类别 > "常规"子类别（第 1531 页）选择拖放方法，或禁止指针拖动移动
	
	选择内容将附着到指针上。
	
3. 点击指定新的布线位置。


### 移动过程中的走线推挤

移动走线时，您可以使用快捷菜单启用或禁用走线推挤功能。如需推开相邻走线，在移动模式下右键单击并选择**推挤**弹出菜单项以启用推挤功能。

此功能需要安装动态布线编辑选项。

适用以下限制：

- 如果将 `DRC` 设置为"阻止"或"警告"，则重新定位走线时不能产生间距违规

- 如果移动连接到锁定测试点的过孔或管脚的走线，将出现警告对话框，通知您测试点的更改并提供选项。更多信息请参阅"修改连接到锁定测试点的布线"

• 如果您尝试修改物理设计复用中的布线对象，将显示消息"无法修改复用对象。请先解除复用"。点击**确定**取消编辑操作。

> [!tip] 使用透明视图模式（第 83 页的无模命令 T）可查看当前活动层走线下方的障碍物。

### 删除走线段

您可以删除走线段以恢复未布线连接。

🏃‍♂️‍**操作步骤**

1. 选择线段。

2. 按 Delete 键，或点击**编辑>删除**菜单项。删除走线段后，将恢复未布线连接线。

如果删除连接到测试点过孔的走线，除非测试点被锁定，否则过孔将随走线自动删除。如果测试点已锁定，则通过未布线保持连接。

如果尝试删除作为物理设计复用一部分的线段，状态栏将显示"该命令不能应用于复用元素"。

### 取消连接元件焊盘的所有线段

您可以取消连接元件每个管脚的第一段走线。使用"取消连接线段"命令重新布线终止于该元件的每个连接，或在设计中替换元件时使用。取消布线线段时，连接与布线相交处会出现标记。如果未布线线段终止于过孔，`SailWind Layout` 将在过孔与未布线管脚之间创建连接。

🏃‍♂️‍**操作步骤**

1. 选择要取消连接线段的元件。

2. 右键单击并选择**取消连接线段**弹出菜单项。

第一段走线将被取消布线，并在布线末端出现标记。

**限制条件：**

如果尝试取消作为物理设计复用一部分的线段布线，状态栏将显示"该命令不能应用于复用元素"。

👀‍**结果**

当您取消所有进入元件的最终线段布线时，在某些情况下可能看起来走线仍连接到焊盘。当最后两段线段在焊盘边界内结束时会出现这种情况。参见下图示例。

![](/layout/guide/32/_page_60_Picture_3.jpeg)

### 更改现有走线宽度

您可以在线段、管脚对或网络级别更改已布线走线的宽度。

> [!tip] 您也可以使用**编辑>查找**菜单项查找所有相同宽度的走线，选择它们并将其更改为新宽度。

🏃‍♂️‍**操作步骤**

1. 选择线段、管脚对或网络。

2. 右键单击并选择**属性**弹出菜单项。

3. 在"走线属性"（第 1757 页）、"管脚对属性"（第 1627 页）或"网络属性"对话框（第 1487 页）的"宽度"或"走线宽度"框中，输入新宽度并点击**确定**。

**限制条件：**

如果您尝试修改物理设计复用中的布线对象，将显示消息"无法修改复用对象。请先解除复用"。点击**确定**取消编辑操作。

### 创建弧线斜接

您可以通过对已布线的 90 度转角进行斜接来创建平滑的小弧线效果。如果需要自动为设计中的多个转角添加弧线，此功能非常有用。

如需手动添加弧线，请参阅"将走线转角转换为弧线"。

🏃‍♂️‍**操作步骤**

1. 点击**工具 > 选项**菜单项。打开"选项"对话框。

2. 在"设计"类别（第 1503 页）的"斜接"区域，点击"弧线"。

3. 设置比例。

   比例是弧线半径与走线宽度的比值；例如，对于 12 密耳的走线，比例 1 产生半径为 12；比例 2 产生半径为 24。

4. 要应用斜接，选择转角，右键单击并选择**添加斜接**弹出菜单项。

对于指定比例而言太短的走线段不会被斜接。您也可以选择一个或多个管脚对，右键单击并选择**添加斜接**。

**限制条件：**

如果您尝试修改物理设计复用中的布线对象，将显示消息"无法修改复用对象。请先解除复用"。点击**确定**取消编辑操作。

### 将走线转角转换为弧线

使用"转换为弧线"命令从两条相交的布线线段创建弧线。您可以手动将弧线拉到所需的半径。

如果需要自动为设计中的多个转角添加弧线，请参阅"创建弧线斜接"。

🏃‍♂️‍**操作步骤**

1. 点击**工具 > 选项**菜单项。出现"选项"对话框。

2. 在"设计"类别（第 1503 页）的"斜接"区域，使用"角度"值控制哪些走线转角将被转换为弧线。

   例如，如果"角度"框设置为 90 度，则只有形成小于或等于 90 度角的走线转角可以转换为弧线。

3. 选择走线的转角。

4. 右键单击并选择**转换为弧线**弹出菜单项。

   > [!warning] 
   如果您尝试修改物理设计复用中的布线对象，将显示消息"无法修改复用对象。请先解除复用"。点击**确定**取消编辑操作。

5. 移动指针调整新弧线的半径并点击完成。

👀‍**结果**

如果需要调整已创建弧线的半径或将弧线转回转角，选择弧线段，右键单击并选择"拉伸"（第 753 页）。

### 拉伸命令

使用拉伸命令拉伸弧线或斜接以及移动布线线段。

使用拉伸移动布线线段

拉伸弧线或斜接

#### 拉伸弧线或斜接

使用拉伸扩展或收缩走线段上的斜接或弧线。

🏃‍♂️‍**操作步骤**

1. 选择斜接线段或弧线。

2. 右键单击并选择**拉伸**弹出菜单项。对象将附着到指针。

   如果移动或拉伸连接到锁定测试点过孔或管脚的布线，将出现警告对话框，通知您测试点的更改并提供选项。更多信息请参阅"修改连接到锁定测试点的布线"。

   **限制条件：**

   如果您尝试修改物理设计复用中的布线对象，将显示消息"无法修改复用对象。请先解除复用"。点击**确定**取消编辑操作。

3. 移动指针扩展或收缩对象。点击两条线交点外部将弧线或斜接恢复为转角。

4. 点击完成。

#### 使用拉伸移动布线线段

使用拉伸移动端点有转角的直线布线线段。

> [!tip] 要修改绘图对象的弧线和斜接，请使用"拉弧"（第 640 页）和"移动斜接"（第 639 页）命令。

🙊**限制和约束**

不能使用拉伸移动端点有弧线的直线布线线段。

🏃‍♂️‍**操作步骤**

1. 选择走线段。

2. 右键单击并选择**拉伸**弹出菜单项。线段将附着到指针。

   如果移动或拉伸连接到锁定测试点过孔或管脚的线段，将出现警告对话框，通知您测试点的更改并提供选项。更多信息请参阅"修改连接到锁定测试点的布线"。


   **限制条件：**

   如果您尝试修改物理设计复用中的布线对象，将显示消息"无法修改复用对象。请先解除复用"。点击**确定**取消编辑操作。

3. 移动指针移动线段。转角角度保持不变，线段长度在拉伸过程中调整。如果将线段拉伸到另一线段的转角处，转角角度可能会改变。

4. 点击完成。


### 移动转角

您可以移动走线或绘图对象上的任何转角。

🏃‍♂️‍**操作步骤**

1. 选择要移动的转角。

2. 右键单击并选择**移动**弹出菜单项。

   移动绘图对象的转角时，也可以使用设计工具栏上的移动按钮。点击选择转角，它将附着到指针。


   **限制条件：**

   如果您尝试修改物理设计复用中的布线对象，将显示消息"无法修改复用对象。请先解除复用"。点击**确定**取消编辑操作。

3. 可选地，您可以右键单击并应用以下任一操作：

  - **转换为弧线** 将转角转换为弧线。转角变为弧线并保持附着到指针。将弧线移动到所需位置并点击完成。

  - **推挤** 移动选定转角时推开其他布线。

  - **正交**、**对角**或**任意角度** 选择角度设置。

  - **忽略间距** 忽略间距规则，无论"选项"对话框 > **设计**类别中的"在线 DRC"设置如何（第 1503 页）。

4. 用指针移动转角。

5. 点击将转角放置在新位置。


### 移动过孔或标记

您可以使用指针移动设计中的过孔或标记。

🏃‍♂️‍**操作步骤**

1. 选择过孔或标记。

2. 右键单击并选择**移动**弹出菜单项。

   如果移动作为锁定测试点的过孔，将出现警告对话框，通知您对测试点所做的更改并提供选项。更多信息请参阅"修改作为锁定测试点的过孔或虚拟管脚"或"修改连接到锁定测试点的布线"。


   **限制条件：**

   如果您尝试修改物理设计复用中的布线对象，将显示消息"无法修改复用对象。请先解除复用"。点击**确定**取消编辑操作。

3. 可选地，您可以右键单击并应用以下任一操作：

  - **推挤** 移动选定标记或过孔时推开其他布线。

  - **正交**、**对角**或**任意角度** 选择角度设置。

  - **忽略间距** 忽略间距规则，无论"选项"对话框 > **设计**类别中的"在线 DRC"设置如何（第 1503 页）。

4. 移动指针重新定位过孔或标记。如果将作为测试点的过孔移动到定义为测试点禁止区域的区域，并且 `DRC` 模式为 ON，将显示消息并清除测试点。

### 删除悬空布线

*悬空布线*是指未通过飞线连接到任何管脚的走线残段。相比之下，部分布线是未完成的布线，飞线仍然可见。

在 `SailWind Layout` 中，您可以通过从布线快捷菜单中选择"以过孔结束"来在过孔上结束布线。这将创建悬空过孔和悬空布线。

🏃‍♂️‍**操作步骤**

1. 选择设计中的一个或多个网络。

2. 右键单击并选择**选择悬空布线**弹出菜单项。

3. 按 Delete 键或右键单击并选择**取消布线**弹出菜单项。


**限制条件：**

如果您尝试修改物理设计复用中的布线对象，将显示消息"无法修改复用对象。请先解除复用"。点击**确定**取消修改操作。

### 分割走线

分割命令将选定的线段分成两段，并通过在分割位置添加第三段使其中一段随指针动态移动。

🏃‍♂️‍**操作步骤**

1. 使用以下方法之一开始分割：

	- 对象模式：选择走线段，右键单击并选择**分割**弹出菜单项。

	- 动词模式：在设计工具栏上点击**分割**按钮，然后选择走线段。
	
	线段动态附着到指针。当前角度模式设置影响附着线段的移动。
	
	**限制条件：**
	
	如果您尝试修改物理设计复用中的布线对象，将显示消息"无法修改复用对象。请先解除复用"。点击**确定**取消编辑操作。
	
2. 可选地，在分割走线时，您可以切换附着到指针的走线侧。在完成分割前，右键单击并选择**交换**弹出菜单项。指针将附着到线段的另一端。

3. 点击指定分割线段的位置。两条线段中的一条被分成两段。

4. 如果选择了动词模式，可以添加另一走线段的分割，或按 Esc 键取消分割模式。

### 向走线段添加转角

添加转角将选定的线段分成两段，并使两段线段随指针动态移动以创建新转角。

🏃‍♂️‍**操作步骤**

1. 使用以下方法之一开始转角：

	- 对象模式：选择走线段，右键单击并选择**添加转角**弹出菜单项。

	- 动词模式：在设计工具栏上点击**添加转角**按钮，然后选择走线段。
	
	线段动态附着到指针，转角位于指针位置。当前角度模式设置影响附着线段的移动。
	
	**限制条件：** 如果您尝试修改物理设计复用中的布线对象，将显示消息"无法修改复用对象。请先解除复用"。点击**确定**取消编辑操作。
	
2. 点击指定新转角的位置。

当在线 `DRC` 设置为"防止错误"且出现错误时（出现防护带，第 1832 页），转角将在最接近指示点的合法位置添加。

### 在现有走线上添加过孔

在选定位置为所选走线添加贯穿过孔。此操作不会改变当前层设置。

🏃‍♂️‍**操作步骤**

1. 选择要放置过孔位置的走线段、走线拐角或走线端点。

2. 右键单击并选择 **添加过孔** 弹出菜单项。

过孔将添加在您选择走线对象的位置。该过孔为普通过孔，未启用缝合(Stitching)或固定(Glued)设置。要为未布线连接、管脚对或网络添加走线，请参阅"添加缝合过孔"。

> [!warning] 
如果您尝试修改物理设计重用中的布线对象，将显示消息"无法修改重用对象。请先解除重用"。点击 **确定** 取消修改操作。

### 缝合过孔

使用缝合过孔可互连网络的铜区域，包括铜平面或 CAM 平面。


> [!warning] 
`SailWind Layout` 不将缝合过孔视为孤立过孔，在布线优化期间不会删除它们。如果使用"选择悬空走线"命令，它将选择缝合过孔。固定缝合过孔可防止在设计过程中选择并删除悬空走线时被删除。

#### 添加缝合过孔

必须将缝合过孔与网络关联。可以通过设计中选择对象的网络选择将它们添加到设计中。

缝合过孔与 `SailWind Layout` 中的许多命令交互：

- 在"查看网络"对话框中的"除已连接平面网络外的所有"选项会禁用嵌入铜平面或 CAM 平面中的缝合过孔的未布线显示。此外，长度最小化会计算缝合过孔的焊盘和钻孔以确定对缝合过孔的未布线可见性。

- 复制走线图案时，缝合过孔也会被复制。粘贴时，复制的缝合过孔会吸附到过孔网格上。

🏃‍♂️‍**操作步骤**

1. 选择设计中的网络(可以单击走线段、过孔、管脚、未布线、铜和铜平面)、管脚对或未布线。

2. 右键单击并选择 **添加过孔** 弹出菜单项，将新过孔附加到指针。

3. 单击放置缝合过孔。

   另一个缝合过孔将附加到指针。您可以重复放置过孔。如果所选网络的未布线可见，新的未布线将连接到缝合过孔。

4. 右键单击并选择 **取消** 弹出菜单项停止添加缝合过孔。

👀‍**结果**

当您向未布线、管脚对或网络添加过孔时，结果是一个启用了缝合设置的过孔。默认情况下，添加到设计中的缝合过孔在添加时始终具有缝合设置。添加到走线的过孔则没有。当您向走线段或走线拐角添加过孔时，结果是一个普通过孔(未固定)。更多信息，请参阅"在现有走线上添加过孔"。

您可以在执行 `ECO` 操作(如删除元件、删除连接和删除管脚)以及更改部件或取消布线操作期间防止删除缝合过孔。要保留缝合过孔，请在"选项"对话框 > "设计"类别 > 第 1503 页的"组编辑"区域中选择"保留缝合过孔"复选框。


#### 选择缝合过孔

必须先启用缝合过孔的选择，才能选择缝合过孔。

🏃‍♂️‍**操作步骤**

1. 未选择任何对象时，右键单击并选择 **筛选器** 弹出菜单项。

2. 在"选择筛选器"的 **对象** 选项卡中，选择"缝合过孔"复选框。清除其他对象类型的复选框以便更轻松地选择缝合过孔。

3. 单击 **关闭**。

4. 选择缝合过孔。

#### 更改缝合过孔类型

可以使用任何过孔类型作为缝合过孔，包括 SMD、通孔或部分过孔。如果默认过孔不正确，可以修改过孔类型。

🏃‍♂️‍**操作步骤**

1. 选择一个或多个缝合过孔。

2. 右键单击并选择 **属性** 弹出菜单项。

3. 在"过孔名称"列表中，选择正确的过孔。


> [!tip] 您可以使用"焊盘堆栈"对话框创建新过孔。

#### 删除缝合过孔

通过按键盘上的 Delete 键删除缝合过孔。

🏃‍♂️‍**操作步骤**

1. 选择第 1862 页上一个或多个要删除的缝合过孔。

2. 按 Delete 键。将打开一个对话框，显示消息"删除所有孤立过孔？"。点击 **是** 删除缝合过孔。

#### 将布线过孔转换为缝合过孔

添加到走线段、拐角或端点的过孔不被视为缝合过孔而是布线过孔。与缝合过孔类似，可以使用这些布线过孔互连网络的区域，但 `SailWind Layout` 不将它们视为普通过孔。启用缝合设置可将布线过孔变为缝合过孔。

🏃‍♂️‍**操作步骤**

1. 选择一个或多个过孔。

2. 右键单击并选择 **属性** 弹出菜单项。

3. 选择"缝合"复选框。

4. 单击 **确定**。


### 在现有走线上添加测试点

您可以沿路线的现有段或走线手动添加测试点。默认情况下，测试点不会固定在设计中。您可以从底部访问它们。

> [!tip] 您还可以将现有过孔、管脚或虚拟管脚设为测试点。请参阅以下对象属性对话框中的"测试点"复选框：过孔属性对话框、管脚属性对话框、第 1422 页的跳线管脚属性

🏃‍♂️‍**操作步骤**

1. 除非设计中使用的过孔也可用于测试点，否则创建第 329 页的过孔用作测试点。

2. 如果有多个过孔可用于设计，必须指定应用于测试点的过孔。

    a. 单击 **工具 > DFT 审核** 菜单项。

    b. 在第 1273 页的"DFT 审核"对话框中，选择"向现有走线添加测试点"复选框。必须选中此复选框才能在"使用测试点过孔"列表中选择测试点，但在 `SailWind Layout` 中向走线添加测试点不需要激活此选项。

3. 使用以下方法之一添加测试点：

    - 对象模式：选择走线段或拐角。向路线添加测试点时不能使用多重选择。右键单击并选择 **添加测试点** 弹出菜单项。

    - 动词模式：在设计工具栏上，单击 **添加测试点按钮**。选择要添加测试点的任何走线段或拐角。重复操作或右键单击并选择 **取消** 退出添加测试点模式。

4. 测试点已添加到路线中。

如果您尝试在定义为测试点禁入区的区域添加测试点且 `DRC` 模式设置为"防止错误"，将显示消息"测试点禁入区违规"且不会添加测试点。


> [!danger] 
如果您尝试修改物理设计重用中的布线对象，将显示消息"无法修改重用对象。请先解除重用"。点击 **确定** 取消编辑操作。

👀‍**结果**

当过孔或管脚被标记为测试点，并且在"选项"对话框 > **布线** 类别 > 常规子类别 > 第 1542 页中选中"显示测试点"复选框时，箭头标记会覆盖过孔：

![](/layout/guide/32/_page_70_Picture_10.jpeg)


### 删除拐角

您可以删除走线或绘图对象的拐角。

🏃‍♂️‍**操作步骤**

1. 选择拐角。

2. 按 Delete 键。连接在拐角处的两个段将合并为一个段。


> [!danger] 
如果您尝试修改物理设计重用中的布线对象，将显示消息"无法修改重用对象。请先解除重用"。点击 **确定** 取消编辑操作。


### 删除过孔

您可以通过选择过孔并按 Delete 键来删除过孔。

🏃‍♂️‍**操作步骤**

1. 选择过孔。

2. 按 Delete 键。过孔被删除，必要时会更改连接段的层。


> [!warning] 如果您尝试修改物理设计重用中的布线对象，将显示消息"无法修改重用对象。请先解除重用"。点击 **确定** 取消编辑操作。

### 固定过孔

固定过孔可防止其因任何原因被移动。

您可以固定过孔位置，将其建立为制造板上的测试点。针床测试设备的点与测试点位置匹配。因此，如果您重新设计和重新制造板，固定的测试点可防止过孔在新设计中移动，从而避免测试设备昂贵的重新加工。

🏃‍♂️‍**操作步骤**

1. 选择过孔，右键单击并选择 **属性** 弹出菜单项。

2. 选择"固定"复选框。

3. 单击 **确定**。

👀‍**结果**

如果同时选择"测试点"复选框，则会在测试点部分的报告文件中包含过孔位置。"测试点"复选框还指示过孔是否由自动布线器自动安装并固定为测试点。以此方式安装测试点会从路由器返回带有选中"固定"和"测试点"复选框的测试点。

### 删除斜接

斜接是替换拐角的对角线段或弧线。您可以从一个或多个已布线的管脚对、绘图路径或多边形中删除所有斜接。

🏃‍♂️‍**操作步骤**

1. 选择已布线的管脚对、绘图路径或多边形。

2. 右键单击并选择 **删除斜接** 弹出菜单项。所选路径中的所有斜接都将被删除并替换为 90 度拐角。

### 从管脚对删除布线

您可以删除已布线管脚对中的所有走线和过孔。

🏃‍♂️‍**操作步骤**

1. 选择管脚对。

2. 按 Delete 键。两个管脚之间的鼠线将替换已布线的管脚对。

### 将 SMD 焊盘连接到平面

将 SMD 焊盘布线到平面涉及在焊盘下方或附近放置一个到平面的过孔。

添加到平面网络的过孔会根据设计规则或焊盘堆栈接收平面层的热焊盘。更多信息，请参阅第 797 页的"设计规则与焊盘堆栈 - 热焊盘和反焊盘"。

**先决条件**

- 必须已创建用于设计的过孔类型。更多信息，请参阅"创建通孔过孔类型"和"创建部分过孔类型"。

- 过孔必须可用，且源层和目标层必须根据适用的第 1666 页的布线规则可用于布线。

🏃‍♂️‍**操作步骤**

1. 可选地，如果要扇出电源和地连接，可以隐藏除电源和地网络外的所有未布线连接，并为这些网络的焊盘指定独特颜色以快速识别设计中的它们：

    a. 单击 **视图 > 网络** 菜单项。

    b. 在"视图列表"列表中选择"默认"。

    c. 必要时选择"走线加以下未布线"复选框，在"查看未布线详细信息"区域中，单击 **无**。

    d. 在"按选择"列表中，单击"平面网络"。在"网络列表"中找到您的平面网络并将它们添加到"视图列表"。

    e. 选择平面网络，在"查看未布线详细信息"区域中，单击"除已连接平面网络外的所有"。这将显示完整的管脚到管脚连接和部分布线的铜走线，但不显示部分连接。

    f. 分别选择每个平面网络，在"按网络着色"区域中，为每个网络指定独特颜色。

    g. 单击 **确定**。
    
    除平面网络连接外的所有未布线连接都可见，并且这些网络的焊盘具有独特颜色。当您用过孔将它们链接到平面时，这些会关闭。
    
2. 使用以下方法之一添加过孔：

    - 扇出过孔：

        i. 从焊盘向外布设一小段走线。

        ii. 布线时，右键单击，指向 **结束过孔模式**，然后单击 **结束过孔** 弹出菜单项设置模式。

        iii. 右键单击并选择 **结束** 弹出菜单项以用过孔结束走线。走线以过孔结束。如果过孔路径上有平面区域，它将根据需要与热连接连接或添加反焊盘(如果不应该连接)。

    - 焊盘内过孔：

        i. 在"间距规则对话框"的"相同网络"区域中，SMD 到过孔的间距在规则层次结构的所需级别必须为 0(零)，才能使过孔放置在焊盘中。

        ii. 选择焊盘，右键单击并选择 **在 SMD 添加过孔** 弹出菜单项。过孔添加到 SMD 的中心。元件焊盘总是覆盖过孔，可能难以确定过孔是否实际在焊盘内。启用第 83 页的透明模式(T 模式命令)查看焊盘中的过孔。

👀‍**结果**

当您安装过孔(在焊盘下方或短距离外)时，如果将该管脚到管脚的未布线连接布线到平面层，则该连接的连接将消失。更多信息，请参阅"检查平面连接的连续性"。

## 高速和射频布线特性

阅读以下主题以了解有关布线时使用的射频特性的更多信息。

将走线转换为铜倒角路径 将走线转换为铜倒角路径后恢复走线 添加过孔屏蔽

### 将走线转换为铜倒角路径

将走线转换为铜倒角路径比简单地创建铜倒角路径有两个优势。您可以使用更强大的交互式布线器最初布线走线，当您将走线转换为倒角路径时，`SailWind Layout` 会自动分配网络。

🏃‍♂️‍**操作步骤**

1. 选择管脚对、多个管脚对或网络。

   未布线或部分布线的管脚对，或属于重用块的管脚对，将被排除在选择之外。

2. 右键单击并选择 **转换为倒角路径** 弹出菜单项。

   或者，您可以单击 RF 工具栏下的。

3. 在"将管脚对转换为倒角路径"对话框中，使用 Ctrl+单击、Shift+单击或 **全选** 和 **取消全选** 按钮作为快捷方式选择所需的管脚对。

   设计中选中的管脚对才会出现在"选中的管脚对"列表中。

4. 在"转换参数"区域的"多边形轮廓宽度"框中，键入铜轮廓的宽度值。

   由于铜是带有轮廓和填充创建的，您可以指定非常窄的轮廓宽度以实现非常尖锐的拐角。减小值可获得更尖锐的拐角，增大值可获得更钝的拐角。所有拐角都以等于轮廓宽度一半的半径圆角。

5. 使用以下方法之一指定走线宽度：

    - 选择"使用走线宽度"复选框以使用走线宽度作为倒角路径的宽度。存在多个走线宽度时，使用实际走线宽度。"选中的走线宽度"值显示在"转换参数"区域顶部，显示"选中的管脚对"列表中项目的走线宽度范围。

    - 清除"使用走线宽度"复选框并在"转换路径宽度"框中输入值。

6. 在"拐角倒角宽度比例"框中键入一个值，指定倒角拐角宽度与倒角路径宽度的比例。

   例如，如果比例为 1.0，倒角拐角的宽度与倒角路径相同。减小比例可获得更窄的倒角拐角。

7. 使用以下方法之一指定要倒角的拐角程度：

    - 清除"倒角度数小于或等于"复选框仅倒角小于 90 度(锐角)的角度。

    - 选择"倒角度数小于或等于"复选框指定 90 到 180 度之间的角度作为上限，低于此值的所有角度都将被倒角。小于 90 度的外角总是被倒角。

8. 单击 **确定**。走线转换为倒角路径，原始走线段取消布线。现有过孔保留并固定。


### 将走线转换为铜倒角路径后恢复走线

将原始走线转换为铜会取消布线走线。必须重新布线走线以替换倒角路径。

🏃‍♂️‍**操作步骤**

1. 使用"选择网络"选择筛选器选择网络。

2. 右键单击并选择 **选择倒角路径** 弹出菜单项。

   或者，您可以单击 RF 工具栏下的。

3. 按 Delete 键。

   倒角路径中的过孔不会被删除，因为它们在从走线转换为倒角路径时被固定。

4. 重新布线管脚对、管脚对或网络。

### 添加过孔屏蔽

过孔屏蔽是围绕已布线网络、管脚对或铜区域的缝合过孔集合。例如，您可能使用过孔屏蔽围绕网络以限制噪声敏感性。

例如：

![](/layout/guide/32/_page_76_Figure_1.jpeg)

🏃‍♂️‍**操作步骤**

1. 如果尚未设置屏蔽选项，请在"选项"对话框 > "过孔图案"类别 > 第 1556 页上设置。

   如果需要为屏蔽创建新的过孔类型，请参阅"过孔设置"。您的过孔图案设置将存储以供将来操作使用。只有在要更改先前选择的设置时才需要执行此步骤。

2. 选择网络、管脚对或铜区域。

   要为差分对添加过孔屏蔽，首先将筛选模式设置为网络或管脚对。然后选择组成差分对的两个网络或两个管脚对并围绕它们添加过孔屏蔽。例如：

   ![](/layout/guide/32/_page_76_Picture_7.jpeg)

   屏蔽操作对每个网络应用屏蔽；因此，差分对走线之间可能会出现不需要的过孔。如果发生这种情况，您需要删除这些过孔。

3. 右键单击并选择 **添加过孔屏蔽** 弹出菜单项。

   或者，您可以单击 RF 工具栏下的。

👀‍**结果**

过孔围绕选定的网络、管脚对或铜放置。如果有足够的空间放置过孔但没有出现过孔，您的 **视图 > 网络** 菜单项，第 1786 页的"视图详细信息"设置可能设置为不显示"走线加以下未布线"。

如果"设计规则检查"设置为"防止错误"，"添加过孔屏蔽"操作不会添加任何违反设计规则的过孔。

编辑走线时，`SailWind Layout` 不会更新过孔屏蔽中的过孔图案。编辑走线后，可能需要再次添加过孔屏蔽。如果是这种情况，在添加新的过孔屏蔽之前删除旧的过孔屏蔽。


## 布线对象属性

使用属性对话框对任何布线对象进行选择性修改。

修改网络属性 修改管脚属性 修改管脚对属性 修改走线拐角或钉头属性 修改过孔属性 修改走线段属性

### 修改网络属性

在网络属性对话框中，查看网络信息，控制网络和未布线的保护，控制走线宽度和电气网络状态。

🏃‍♂️‍**操作步骤**

1. 选择网络，右键点击**属性**弹出菜单项。

2. 在 1487 页的网络属性对话框中，必要时修改设置。

   如果网络是物理设计复用的一部分，此对话框中的某些选项将不可用。

3. 点击**确定**。


### 修改管脚属性

在管脚属性对话框中，查看管脚信息，并控制泪滴、平面散热和测试点状态。

🏃‍♂️‍**操作步骤**

1. 选择管脚，右键点击**属性** 弹出菜单项。

2. 在管脚属性对话框中，必要时修改设置。

   如果管脚对是物理设计复用的一部分，此对话框中的某些选项将不可用。如果您修改作为锁定测试点的管脚，可能会显示警告对话框，通知您对测试点所做的更改并提供选项。更多信息请参见"修改作为锁定测试点的过孔或虚拟管脚"。

3. 点击**确定**。

### 修改管脚对属性

在管脚对属性对话框中，查看管脚对信息，控制走线和未布线的保护，并控制走线宽度。

🏃‍♂️‍**操作步骤**

1. 选择管脚对，右键点击**属性** 弹出菜单项。

2. 在管脚对属性对话框中，必要时修改设置。

3. 点击**确定**。

### 修改走线拐角或钉头属性

在走线拐角或钉头属性对话框中，查看走线拐角或钉头信息，并修改坐标。

🏃‍♂️‍**操作步骤**

1. 选择走线拐角，右键点击**属性** 弹出菜单项。

2. 在 1744 页的钉头或走线拐角属性对话框中，必要时修改设置。

   如果拐角是物理设计复用的一部分，此对话框中的某些选项将不可用。如果在对话框打开时选择另一个走线拐角，所选拐角将更新信息。

3. 点击**确定**。


### 修改过孔属性

在过孔属性对话框中，查看过孔信息，修改坐标，更改过孔类型，设置固定、缝合、平面散热和测试点状态。

🏃‍♂️‍**操作步骤**

1. 选择过孔，右键点击**属性** 弹出菜单项。

2. 在过孔属性对话框中，必要时修改设置。

   如果过孔是物理环境复用的一部分，此对话框中的某些选项将不可用。如果在对话框打开时选择另一个过孔，信息将更新为所选过孔。如果您修改作为锁定测试点的过孔，可能会显示警告对话框，通知您对测试点所做的更改并提供选项。更多信息请参见"修改作为锁定测试点的过孔或虚拟管脚"。

3. 点击**确定**。

### 修改走线段属性

在走线属性对话框中，查看走线段信息，修改坐标，指定走线宽度，或更改走线段所在的层。

🏃‍♂️‍**操作步骤**

1. 选择走线段，右键点击**属性** 弹出菜单项。

2. 在走线属性对话框中，必要时修改设置。

   如果更改层，走线端点会自动添加过孔。如果在对话框打开时选择另一个走线段，信息将更新为所选走线段。如果走线是物理设计复用的一部分，此对话框中的某些选项将不可用。

3. 点击**确定**。

## 布线时的问题排查约束

当布线时受到设计规则约束时，可以查看对象所遵循的规则层次结构，并访问设计对象(类、网络、组、管脚对、组件或未布线)的规则。可以通过在设计中选择对象并显示其规则来实现。

例如，如果有为未布线连接关联的管脚对定义了特定规则，则会显示管脚对规则对话框。

🏃‍♂️‍**操作步骤**

1. 选择要显示其规则的对象。

2. 除非已经选择了管脚对或网络，否则右键点击**选择管脚对** 弹出菜单项。

3. 右键点击**属性** 弹出菜单项。

4. 在管脚对属性对话框的规则数据区域，查看管脚对获取设计规则的层级。

5. 点击**规则**按钮访问设计规则的管脚对层级。

如果需要访问层次结构的不同层级，关闭所有打开的对话框并点击**工具>规则**菜单项。

## 布线后的间距检查和验证

*走线间距*是允许的走线边缘与其他导电物品边缘之间的距离。可以运行验证检查以查找间距违规。

在间距规则对话框中分配间距值。如果安装了高级规则选项，可以在管脚对、管脚对组、网络类以及条件规则的所有 25 个层级上分配非默认间距。

使用**工具>验证设计**菜单项在设计文件中搜索间距违规。验证设计会标记每个违规并允许将视图居中显示在每个违规处。验证设计仅检查您选择在设计文件中显示的内容是否存在间距违规。如果要检查整个设计文件的间距违规，请确保所有对象都应用了颜色，并且设计文件中没有隐藏的内容。同时，通过缩放到所有项目可见的范围，将所有设计项目纳入视图。

为走线以及焊盘和过孔设置间距在"设计规则 1821 页"中描述。检查错误(间距错误、气隙错误和高速问题)在"验证设计"中讨论。

