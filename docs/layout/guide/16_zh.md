# 第 16 章 电气网络

阅读以下主题了解如何创建和管理电气网络。

## 电气网络创建

您可以将由分立元件连接的网络阵列关联起来，创建一个电气网络，您可以像对单个网络一样对其应用长度、差分对和匹配长度规则。电气网络的长度由组成它的网络和分立元件的长度总和构成。

下图展示了一个电气网络的简单示例。

![](/layout/guide/16/_page_1_Figure_4.jpeg)

![](/layout/guide/16/_page_1_Figure_5.jpeg)

有三种方法可用于创建和修改电气网络。

默认情况下这些方法是相互独立的（即您可以单独使用其中任何一种方法），因为它们交互的命令/属性默认允许您选择一种方法使用而忽略其他方法。选择一种方法并坚持使用是最简单的做法。如果在设计中混合使用方法，您需要了解这些方法如何交互，详见第 348 页的"电气网络创建的控制条件"。

通过选择网络创建电气网络 通过选择元件创建电气网络 通过元件参考标识前缀创建电气网络

### 通过选择网络创建电气网络

您可以通过选择网络并将其关联来创建电气网络。

**限制与约束**

- 平面网络不能成为电气网络的一部分

- 电气网络穿过的元件必须是分立的两管脚元件，或者是多管脚元件（如果所有管脚都连接到一个门且每个门正好有两个管脚）

1. 点击**设置 > 电气网络**菜单项

2. 在电气网络对话框（第 1361 页）中，为您的设计设置"每个电气网络的最大网络数"和"最大非平面网络管脚数"值

3. 在工作区中，选择要创建为电气网络的网络

4. 右键点击并选择**电气网络**弹出菜单项。或者，在网络属性对话框（第 1487 页）中，勾选"创建电气网络"复选框。所选网络将被创建为电气网络，且所有选定网络的网络属性"创建电气网络"复选框将被勾选

5. 每当创建、删除或更改电气网络时，设计中的所有电气网络都会重新生成。通过阅读输出窗口中的消息验证电气网络操作的结果是否符合预期

**结果**

结果与预期不同？：

- 如果超过了电气网络对话框（第 1361 页）中设置的最大阈值之一，预期的电气网络可能会被拆分、截断或根本未创建

- 某些网络无法创建为电气网络；例如，从电路板两侧选择的两个网络将勾选"创建电气网络"复选框，但不会创建电气网络

- 混合方法限制：如果所选网络连接的元件已被排除在电气网络创建之外，则没有电气网络可以通过它（如果元件或网络的"创建电气网络"和"允许电气网络创建..."复选框都被清除，则被排除在电气网络创建之外）。更多信息请参见第 348 页的"电气网络创建的控制条件"

### 通过选择元件创建电气网络

要基于所选元件创建电气网络，请使用元件上的连接物理网络来创建电气网络。

**限制与约束**

- 平面网络不能成为电气网络的一部分

- 电气网络穿过的元件必须是分立的两管脚元件，或者是多管脚元件（如果所有管脚都连接到一个门且每个门正好有两个管脚）

1. 点击**设置 > 电气网络**菜单项

2. 在电气网络对话框（第 1361 页）中，为您的设计设置"每个电气网络的最大网络数"和"最大非平面网络管脚数"值

3. 在工作区中，选择要创建为电气网络的元件

4. 右键点击并选择**电气网络**弹出菜单项。或者，在元件属性对话框中，勾选"创建电气网络"复选框。连接到所选元件的网络将被创建为电气网络，且所有选定元件的元件属性"创建电气网络"属性将被设置

5. 每当创建、删除或更改电气网络时，设计中的所有电气网络都会重新生成。通过阅读输出窗口中的消息验证电气网络操作的结果是否符合预期

**结果**

结果与预期不同？

- 如果超过了电气网络对话框（第 1361 页）中设置的最大阈值之一，预期的电气网络可能会被拆分、截断或根本未创建

- 混合方法限制：如果连接到所选元件的网络被排除在电气网络创建之外，则不能包含在电气网络中（如果元件或网络的"创建电气网络"和"允许电气网络创建..."复选框都被清除，则被排除在电气网络创建之外）。更多信息请参见第 348 页的"电气网络创建的控制条件"

### 通过元件参考标识前缀创建电气网络

您可以通过在电气网络对话框中指定网络穿过的元件的参考标识前缀来自动创建电气网络。

更多信息请参见电气网络对话框。

**限制与约束**

- 平面网络不能成为电气网络的一部分

- 电气网络穿过的元件必须是分立的两管脚元件，或者是多管脚元件（如果所有管脚都连接到一个门且每个门正好有两个管脚）

1. 点击**设置 > 电气网络**菜单项

2. 在电气网络对话框（第 1361 页）中，为您的设计设置"每个电气网络的最大网络数"和"最大非平面网络管脚数"值

3. 在"分立元件前缀"区域，输入应创建电气网络的元件的参考标识前缀。这将为所有具有指定参考标识前缀的元件创建电气网络。为了限制创建的电气网络数量，您可以为应创建电气网络的元件分配唯一的参考标识符，或者简单地通过在设计中选择元件来创建电气网络（第 339 页）

4. 点击**确定**。电气网络将基于新的或更改的指定参考标识前缀集重新生成

5. 每当创建、删除或更改电气网络时，设计中的所有电气网络都会重新生成。通过阅读输出窗口中的消息验证电气网络操作的结果是否符合预期

在重新生成过程中未更改的电气网络的规则（最小/最大长度、匹配长度组、差分对）将保留。更改（包括它们穿过的元件集的更改）或删除的电气网络：

- 失去其规则

- 从匹配长度组中移除

- 包含它们的差分对被移除

**结果**

结果与预期不同？

- 如果超过了电气网络对话框（第 1361 页）中设置的最大阈值之一，预期的电气网络可能会被拆分、截断或根本未创建

- 混合方法限制：如果任何选定的元件或连接到选定元件的任何网络已被排除在电气网络创建之外，则不能包含在电气网络中（如果元件或网络的"创建电气网络"和"允许电气网络创建..."复选框都被清除）

更多信息请参见第 348 页的"电气网络创建的控制条件"。

## 删除电气网络

您可以手动删除电气网络，或者如果它们是由电气网络对话框中的参考标识前缀分配创建的，则可以自动删除。

手动删除电气网络 自动删除电气网络

### 手动删除电气网络

选择设计中的电气网络进行删除。

**步骤**

1. 在工作区中，选择要删除的电气网络（第 345 页）

2. 右键点击并选择**删除电气网络**弹出菜单项。删除电气网络不会删除物理网络

**结果**

所选电气网络的所有网络的"创建电气网络"复选框将被清除。如果任何电气网络是通过元件（包括通过参考标识前缀）创建的，则这些网络的"允许通过元件创建电气网络"复选框也将被清除。

### 自动删除电气网络

您可以"自动"删除一组由参考标识前缀方法自动创建的电气网络。

**步骤**

1. 点击**设置 > 电气网络**菜单项

2. 在电气网络对话框（第 1361 页）中，删除关联元件的参考标识前缀

3. 点击**确定**

4. 每当创建、删除或更改电气网络时，设计中的所有电气网络都会重新生成。通过阅读输出窗口中的消息验证电气网络操作的结果是否符合预期

**结果**

由具有指定参考标识前缀的元件创建的电气网络将被删除、拆分或截断。

结果与预期不同？混合方法限制：

- 如果具有已删除参考标识前缀的元件勾选了"创建电气网络"复选框，物理网络将保留在电气网络中

- 如果具有已删除参考标识前缀的元件勾选了"允许通过参考标识前缀和网络创建电气网络"复选框，并且连接到两管脚元件（或连接到多管脚元件的单个门）的两个网络都勾选了"创建电气网络"复选框，则这些网络将保留在电气网络中

更多信息请参见第 348 页的"电气网络创建的控制条件"。

## 从电气网络创建中排除网络

您可以将单个网络排除在任何电气网络之外。

清除网络属性"创建电气网络"复选框和"允许通过元件创建电气网络"复选框，将所选网络从任何当前电气网络中移除，并防止通过元件（包括通过参考标识前缀）创建电气网络。更多信息请参见第 348 页的"电气网络创建的控制条件"。

**步骤**

1. 在工作区中，选择要从电气网络创建中排除的网络

2. 右键点击并选择**禁用电气网络创建**弹出菜单项。或者，在网络属性对话框中，清除"创建电气网络"和"允许通过元件创建电气网络"复选框

3. 每当创建、删除或更改电气网络时，设计中的所有电气网络都会重新生成。通过阅读输出窗口中的消息验证电气网络操作的结果是否符合预期

**结果**

所选网络将从现有电气网络中移除，且所有选定网络的网络属性"创建电气网络"和"允许通过元件创建电气网络"复选框将被清除。

## 从电气网络创建中排除元件

您可以防止单个元件（电气网络穿过的元件）创建电气网络。

如果您排除一个尚未成为电气网络一部分的元件，它不能成为通过网络或参考标识前缀创建的电气网络的一部分。此外，如果该元件已经是电气网络的一部分，它将被从电气网络中移除。

清除元件属性"创建电气网络"和"允许电气网络创建..."复选框，防止所选元件创建电气网络。更多信息请参见第 348 页的"电气网络创建的控制条件"。

**步骤**

1. 在工作区中，选择要从电气网络中排除的元件

2. 右键点击并选择**禁用电气网络创建**弹出菜单项。或者，在元件属性对话框中，清除"创建电气网络"和"允许通过参考标识前缀或网络创建电气网络"复选框

3. 所选元件将被排除在电气网络创建之外。如果一个元件是现有电气网络的一部分，它将被移除，即电气网络不再穿过它。从电气网络中移除元件会根据其配置和移除元件的位置拆分、截断或删除电气网络

4. 每当创建、删除或更改电气网络时，设计中的所有电气网络都会重新生成。通过阅读输出窗口中的消息验证电气网络操作的结果是否符合预期

**结果**

结果与预期不同？连接到被排除元件的网络可能仍通过其他元件成为电气网络的一部分。


## 通过网络取消电气网络创建

您可以取消或防止参与网络创建电气网络。

**步骤**

1. 在工作区或项目资源管理器中，选择要从电气网络中移除的网络

2. 右键点击并选择**属性**弹出菜单项

3. 在网络属性对话框（第 1487 页）中，在电气网络区域，清除"创建电气网络"复选框。所选网络将从现有电气网络中移除

   > [!tip] 如果您想完全从电气网络中排除网络，还需清除"允许通过元件创建电气网络"复选框。

4. 每当创建、删除或更改电气网络时，设计中的所有电气网络都会重新生成。通过阅读输出窗口中的消息验证电气网络操作的结果是否符合预期。

**结果**

结果与预期不同？混合方法限制 - 也通过元件和/或参考标识前缀方法成为电气网络一部分的网络仍保留在电气网络中。

## 通过元件取消电气网络创建

您可以取消或防止元件创建穿过它们的电气网络。

**步骤**

1. 在工作区或项目资源管理器中，选择要取消其电气网络创建的元件

2. 右键点击并选择**属性**弹出菜单项

3. 在元件属性对话框中，在电气网络区域，清除"创建电气网络"复选框。通过所选元件的电气网络创建将被取消

   > [!tip] 如果您想从任何方法中排除元件创建电气网络，还需清除"允许通过参考标识前缀和网络创建电气网络"复选框。

4. 每当创建、删除或更改电气网络时，设计中的所有电气网络都会重新生成。因此，您应始终通过阅读输出窗口中的消息验证电气网络操作的结果是否符合预期。

**结果**

结果与预期不同？混合方法限制 - 连接到选定元件且也通过网络和/或参考标识前缀方法成为电气网络一部分的网络仍通过选定元件保留在电气网络中。

## 选择电气网络

使用快捷菜单选择电气网络。

1. 在工作区中，选择要选择的电气网络中的一个网络

2. 右键点击并选择**选择电气网络**弹出菜单项

## 创建电气网络的匹配长度组

将电气网络收集到匹配长度组中并对组应用规则。

**步骤**

1. 点击**设置 > 设计规则**菜单项

2. 在规则对话框中，点击**电气网络**

3. 在电气网络规则对话框中，选择要包含在匹配长度组中的电气网络，然后点击**高速**按钮

4. 在高速规则对话框中进行适当设置，然后点击**确定**

## 创建电气网络的差分对

将电气网络添加到差分对中并对对应用规则。

**步骤**

1. 点击**设置 > 设计规则**菜单项

2. 在规则对话框中，点击**差分对**

3. 在差分对对话框中，选择**电气网络**选项卡

4. 选择组成差分对的电气网络：

	a. 从可用列表中选择第一个电气网络，然后点击顶部**选择**按钮

	b. 从可用列表中选择第二个电气网络，然后点击底部**选择**按钮

5. 点击**添加**

6. 根据需要设置差分对的属性，然后点击**确定**

## 创建或修改电气网络设计规则

设置或修改电气网络设计规则。默认情况下，电气网络没有规则。

1. 您可以一次为一个或多个电气网络分配规则。在访问规则类别之前，有两种方法可以选择电气网络：

	- 在设计中选择电气网络：

		i. 在设计区域中，选择要应用规则的电气网络中的一个网络。您也可以使用查找对话框查找网络，并在值字段中使用通配符过滤选择

		ii. 右键点击并选择**选择电气网络**弹出菜单项

		iii. 右键点击并选择**显示规则**弹出菜单项

	- 从电气网络规则对话框的列表中选择电气网络：

		i. 点击**设置 > 设计规则**菜单项

		ii. 在规则对话框中，点击**电气网络**

		iii. 在电气网络规则对话框中，在电气网络框中点击一个或多个电气网络。要显示所有电气网络，请清除"显示带规则的电气网络"复选框

2. 点击**高速**按钮

3. 在电气网络的高速规则对话框（第 1405 页）中，为选定的电气网络指定长度和/或匹配规则

**结果**

定义规则后，高速规则指示符（H）将出现在电气网络列表中选定的电气网络旁边。

## 清除电气网络规则

选择电气网络并将其规则设置恢复为默认值。默认情况下，电气网络没有规则。

**步骤**

1. 点击**设置 > 设计规则**菜单项

2. 在规则对话框中，点击**电气网络**

3. 在电气网络规则对话框中，在电气网络列表中选择一个或多个电气网络，点击**默认**，然后点击**是**。如果选定的电气网络没有分配规则，则默认按钮不可用。如果高速规则指示符（H）被移除且默认按钮不再可用，则您已成功重置网络规则

4. 关闭所有规则对话框返回设计

## 电气网络创建的控制条件

您可以使用三种方法之一创建电气网络。为了正确维护设置，请避免混合使用方法。

**控制电气网络创建的设置**

以下网络属性对话框（第 1487 页）设置控制电气网络的创建：

- **创建电气网络复选框** 创建电气网络，默认对所有网络清除

- **允许通过元件创建电气网络复选框** 允许所选网络通过其他方法添加到电气网络，默认对所有网络勾选。因此默认情况下，您可以使用三种方法中的任何一种创建电气网络

以下元件属性对话框（第 1191 页）设置控制电气网络的创建：

- **创建电气网络复选框** 创建电气网络，默认对所有元件清除

- **允许通过参考标识前缀和网络创建电气网络复选框** 允许所选元件通过其他方法添加到电气网络，默认对元件勾选。因此默认情况下，您可以使用三种方法中的任何一种创建电气网络

以下电气网络对话框（第 1361 页）参考标识前缀和设置控制电气网络的创建：

- **每个电气网络的最大网络数值** 默认值为 5

- **最大非平面网络管脚数值** 默认值为 25。虚拟管脚不包含在网络的管脚计数中

**电气网络创建所需条件**

分立元件及其连接的网络只有在满足以下条件 1 和 2 时才能成为电气网络的一部分：

1. 元件和网络属性设置满足以下条件之一：

	- 元件属性"创建电气网络"复选框被勾选且没有连接网络被排除在电气网络创建之外（如果元件或网络的"创建电气网络"和"允许电气网络创建..."复选框都被清除，则被排除在电气网络创建之外）

	- 网络属性"创建电气网络"复选框对两个网络都被勾选且元件未被排除在电气网络创建之外（如果元件或网络的"创建电气网络"和"允许电气网络创建..."复选框都被清除，则被排除在电气网络创建之外）

	- 元件"允许电气网络创建..."复选框被勾选且没有连接网络被排除在电气网络创建之外且元件的参考标识前缀在电气网络对话框中被指定（如果元件或网络的"创建电气网络"和"允许电气网络创建..."复选框都被清除，则被排除在电气网络创建之外）

2. 元件、其网络以及它将成为其中一部分的潜在电气网络符合电气网络对话框（第 1361 页）中的"每个电气网络的最大网络数"和"最大非平面网络管脚数"设置