# 第 39 章 设计错误检查

本章介绍检查设计错误的方法，涵盖验证设计流程以及设计测试(DFT)、设计制造(DFF)、CAM、热分析和 3D PCB 查看器提供的交互功能。

## 设计测试

为支持在线测试(ICT)流程，`SailWind Layout` 的 DFT 审计可帮助您管理在线测试点。通过您设置的参数，DFT 审计可以分析设计中的所有网络，自动为可访问(可适配)网络上的适当过孔和元件管脚分配测试点特性，为已布线的可适配网络添加测试点，并报告不可访问(不可适配)的网络。

对于不可适配网络，DFT 审计可以添加测试点过孔并将其放置在板框外。这些功能帮助您在设计的早期阶段考虑 ICT 需求，通过减少手动 DFT 审计的潜在迭代次数来提高生产效率。

要手动将元件管脚或过孔指定为测试点，您需要为该对象添加测试点设置。测试点可以是多管脚元件的一个管脚、单测试点元件的唯一管脚或一个过孔。

DFT 审计将过孔和元件管脚指定为测试点，而不是添加多个单管脚元件。因此，您可以避免将测试点信息反向标注到原理图。更多信息请参见"测试点定义"。

运行 DFT 审计时，`SailWind Layout` 会自动将设计传输到 `SailWind Router`。使用您在 `SailWind Layout` 中设置的参数，`SailWind Router` 会分析所有网络的可适配性，并为已布线的可适配网络添加测试点。请注意，`SailWind Router` 在 DFT 审计过程中可能会重新布线。当 `SailWind Router` 完成后，它会将设计传输回 `SailWind Layout`。对于 `SailWind Router` 确定为不可适配的网络，`SailWind Layout` 可以选择性地添加测试点，这些测试点放置在板边外。DFT 审计完成后，将显示 DFT 审计板报告。

要访问 DFT 审计，请点击工具菜单中的 DFT 审计。有关运行 DFT 审计的信息，请参阅执行测试点审计主题。


> [!danger] 
DFT 审计允许使用槽孔，但不会测试其可适配性。

虽然您可以在 `SailWind Layout` 或 `SailWind Router` 中运行 DFT 审计，但用于设置 DFT 审计选项的对话框取决于您运行的程序。更多信息请参阅"映射 `SailWind Layout` DFT 审计设置到 `SailWind Router`"。

测试点定义 DFT 相关选项 比较测试点 创建测试点 ASCII 文件 执行测试点审计 放置测试点 设置测试点特性 设置测试点分配资格 仅探测 PCB 顶面 修改作为锁定测试点的跳线管脚 修改作为锁定测试点的管脚 修改连接到锁定测试点的布线 修改作为锁定测试点的过孔或虚拟过孔 移动作为锁定测试点的过孔或虚拟过孔

按顺序移动带有锁定测试点的元件、组合或簇 移动、分散或对齐带有锁定测试点的元件、簇或组合

### 测试点定义 ಠ_ಠ

特定的测试点术语用于描述设置设计中测试点的各种参数。

图 117 显示了测试点的不同部分，表 126 描述了这些部分。

**图 117. 测试点的不同部分**

![](/layout/guide/39/_page_2_Figure_6.jpeg)

**表 126. 测试点的组成部分**



| 测试点部分 | 描述 |
|------------|------|
| 测试探针 | 也称为探针、钉、钉针或测试针。该对象通过测试夹具访问测试点，并在 PCB 上的测试点与测试设备之间建立接触。 |
| 测试夹具 | 连接到 ICT 设备的厚金属板，为每个 PCB 定制。测试夹具将测试探针精确地定位到 PCB 上各自的测试点。测试夹具可以设计为仅用于 PCB 的单侧(通常是底面)，或用于板的两侧(称为夹式夹具)。 |
| 测试点 | 您正在访问的网络上的点，通常是一个过孔或元件管脚。 |
| 头类型 | 测试探针上的头部样式或接触点类型。头部是探针与测试点接触的部分。您不能在 `SailWind Layout` 中设置头类型。 |
| 钉直径 | 分配给测试点过孔或管脚的 ASCII 字符串，等于探针直径。 |
| 钉编号 | 分配给探针的唯一标签。 |

### DFT 相关选项 ಠ_ಠ

除了通过 DFT 审计添加更多测试点功能外，`SailWind Layout` 还包含在其他功能中可用的附加功能来支持测试点。

这些测试点信息在特定的 `SailWind Layout` 主题中讨论，并且在处理测试点时遇到的任何对话框中都提供上下文相关帮助。下表显示了受影响的功能。

| 选项 | 影响 |
|------|------|
| 添加测试点 | 手动为现有过孔、跳线管脚或元件管脚添加测试点特性。 |
| ASCII I/O | 导出和导入测试点。 |
| 簇放置和簇选项 | 当您移动、分散或折叠带有锁定测试点的簇时提示您。 |
| CAM | 选择项目对话框显示测试点。NC 钻孔选项对话框绘制测试点位置。 |
| 比较测试点 | 比较两个文件中的测试点位置。 |
| `ECO` | 删除连接、删除网络、删除元件和更改元件以不同方式处理测试点。 |
| 结束测试点 | 手动在悬空布线上以测试点过孔结束布线。 |
| 查找 | 按测试点查找。 |
| 修改 | 如果您修改具有测试点特性的对象，则会提示您；例如，更改作为测试点的元件管脚的焊盘栈或更改过孔类型。请参阅修改过孔特性、自定义封装管脚的焊盘栈和修改管脚特性主题。 |
| 移动 | 如果您移动锁定的测试点，则会提示您。这包括所有移动命令，包括过孔、管脚、簇、组合或重新布线，以及旋转和翻转对象。请参阅移动元件、移动、分散或对齐带有锁定测试点的元件、簇或组合(第 873 页)、簇放置和移动走线段主题。 |
| 报告 | 测试点的扩展报告，包括更多关键字。 |
| 布线选项卡 | 显示测试点并锁定测试点位置。 |
| SPECCTRA 转换器 | SPECCTRA 转换器支持过孔禁止区和未使用管脚的网络。 |
| 验证设计 | 检查整个设计中的测试点探针违规。 |

**表 127. DFT 相关选项**

### 比较测试点

使用比较测试点功能可以比较当前文件和另一个文件中的 ASCII 格式的测试点设置。

1. 您需要设计文件旧版本的测试点 ASCII 文件。

   更多信息请参阅"创建测试点 ASCII 文件"。

2. 点击**工具 > 比较测试点**菜单项打开比较测试点对话框。

3. 定位或键入要比较的 ASCII 测试点文件的名称。

   您不需要键入*.asc*扩展名。

4. 点击**确定**。`SailWind Layout` 会创建打开文件的内部 ASCII 测试点列表，并将其与您指定的文件进行比较。

如果您比较的 ASCII 文件是 PowerPCB 2.x 之前的版本，或者 ASCII 文件中没有测试点部分，则会显示错误消息。创建另一个文件进行比较。

当存在差异时，输出错误文件*tpasc.lst*会打开并列出差异。

### 创建测试点 ASCII 文件

您可以在旧设计格式中创建 ASCII 测试点列表。

🏃‍♂️‍**步骤**

1. 在 `SailWind Layout` 中打开 *.pcb* 文件。

2. 点击**主页 > 导出**菜单项打开文件导出对话框。

3. 在文件名框中键入名称。

4. 点击**保存**，ASCII 输出对话框出现。

5. 从列表中选择 PowerPCB V3.0 格式。

6. 从单位列表中选择当前。

7. 点击**全选**以选择所有复选框。

8. 点击**确定**。

### 执行测试点审计

使用 DFT(设计测试)审计来管理用于支持在线测试(ICT)流程的测试点。测试点帮助您在设计的早期阶段满足 ICT 要求，并可以通过减少设计迭代来提高生产效率。

当您运行 DFT 审计时，`SailWind Layout` 会自动将设计传输到 `SailWind Router`。使用您在 `SailWind Layout` 中设置的选项，`SailWind Router` 会分析所有网络的可访问性，并为已布线的可访问网络添加测试点。请注意，`SailWind Router` 在 DFT 审计过程中可能会重新布线。当 `SailWind Router` 完成后，它会将设计传输回 `SailWind Layout`。对于 `SailWind Router` 确定为不可访问的网络，`SailWind Layout` 可以选择性地添加测试点，这些测试点放置在板边外。DFT 审计完成后，DFT 审计板报告出现。

😎**前提**

- 您必须在 `SailWind Layout` 中安装并授权 `SailWind Router` 才能运行 DFT 审计。无论 `SailWind Router` 授权中的层限制如何，您都可以运行 DFT 审计。

- 如果您使用 BGA，在运行 DFT 审计前先扇出 BGA。

🏃‍♂️‍**步骤**

1. 点击**工具 > DFT 审计**菜单项。

2. 在 DFT 审计对话框上，点击您想要修改测试点放置选项和特性的选项卡：

	- 选项(第 866 页)

	- 特性(第 867 页)

	- 分配(第 868 页)

3. 根据需要修改选项卡上的特性。

4. 点击**运行**。自动审计过程开始。


> [!tip] DFT 审计会遵守设计中定义的任何测试点禁止区。

### 放置测试点

在 DFT 审计对话框的**选项**选项卡上，您可以使用多个放置测试点的选项。选择最适合您当前设计要求的选项。

> [!tip] 为减少设计迭代，在设置 DFT 审计选项时请咨询您的自动化测试工程师。

🏃‍♂️‍**步骤**

1. 点击**工具 > DFT 审计**菜单项，然后选择**选项**选项卡。

2. 使用创建测试点区域中的选项定义如何创建测试点。

   您可以保留现有过孔特性，并为已布线的可访问网络添加测试点过孔。

3. 使用探针通孔区域中的选项设置探针过孔测试点特性。

4. 使用放置过孔点区域中的选项在网格上放置过孔测试点。

5. 使用可用钉直径区域中的选项指定测试点钉直径。

6. 使用最小焊盘探测尺寸区域中的选项设置最小焊盘面积。

设置过孔和元件管脚的最小焊盘探测尺寸，以确保有足够的焊盘面积供探针接触。


> [!tip] 在 DFT 中，虚拟过孔被视为元件管脚。

### 设置测试点特性

在 DFT 审计对话框的**特性**选项卡上，您可以使用多个测试点特性来指定测试点的许多物理特性。


> [!tip] 为减少设计迭代，在设置 DFT 审计选项时请咨询您的自动化测试工程师。

🏃‍♂️‍**步骤**

1. 点击**工具 > DFT 审计**菜单项，然后选择**特性**选项卡。

2. 使用探针最小距离区域中的选项指定探针与其他设计对象之间的最小距离。

   > [!tip] 探针与另一个设计对象之间所需的间距主要基于在线测试(ICT)流程使用的自动测试设备(ATE)的物理限制。从 ATE 夹具延伸出来的探针必须与 PCB 接触而不受任何障碍物的干扰。这意味着测试点必须与元件体、焊盘、安装孔和板边保持固定距离，并且它们之间也必须保持最小间距。

3. 通过在存根长度框中键入长度，指定使网络可被测试探针访问所需的走线存根的最大长度。

4. 使用多测试点网络区域中的选项指定网络上零个或多个钉针。

默认情况下，所有网络都设置为接收一个探针或钉针。如果您不希望网络上有任何钉针，请双击网络的钉针单元格并键入零(0)。如果您想更改网络接收的钉针数量，在多测试点网络区域中，为网络在钉针单元格中键入新值。

要仅显示没有钉针或有多个钉针的网络，请选择仅显示钉针不等于一的网络复选框。

要按不同列排序列表，请点击列表顶部的列标题。

### 设置测试点分配资格

使用**分配**选项卡可以防止或倾向于将测试点分配给元件或过孔类型。默认情况下，网络上的所有管脚都可用于测试针分配，并且作为测试点候选具有均匀权重。

> [!tip] 为减少设计迭代，在设置 DFT 审计选项时请咨询您的自动化测试工程师。

🏃‍♂️‍**步骤**

1. 点击**工具 > DFT 审计**菜单项，然后选择**分配**选项卡。

2. 要防止用作测试点，请选择排除复选框。

3. 要倾向于用作测试点，请选择偏好复选框。

4. 要应用均匀权重，请清除排除和偏好复选框。

要更改多行的复选框值，请选择行然后点击复选框。

要按特定列排序电子表格，请点击该列的标题。

### 仅探测 PCB 顶面

您可以将测试点探测限制为仅 PCB 顶面。这在准备测试设置时非常有用，当测试期间由于物理限制无法访问板的底部时。

🏃‍♂️‍**步骤**

1. 在板的底面创建测试点禁止区(第 465 页)。

2. 点击**工具 > DFT 审计**菜单项打开 DFT 审计对话框。

3. 点击选项(第 866 页)选项卡。

4. 在探针通孔区域中，选择探测顶面复选框。

5. 点击**运行**。

👀‍**结果**

DFT 审计忽略底面，因为它定义了测试点禁止区。仅探测 PCB 的顶面。

### 修改作为锁定测试点的跳线管脚

当修改或移动作为锁定测试点的跳线管脚时，会显示一条消息，指示对象已锁定，您需要确认设计意图。

🏃‍♂️‍**步骤**

您将通过以下方式之一修改锁定的测试点：

- 如果您修改作为锁定测试点的跳线管脚的焊盘栈，则会出现"其中一个跳线管脚被锁定为测试点。您要应用到跳线吗？"消息。点击以下之一：

	- **是** 应用更改并保持锁定测试点状态。

	- **否** 取消更改。

- 如果您移动作为锁定测试点的跳线管脚，则会出现"过孔标记为测试点。继续吗？"消息。点击以下之一：

	- **禁用锁定测试点** 关闭选项对话框 > **布线**类别 > 常规子类别(第 1542 页)中的锁定测试点复选框。

	- **确定** 允许您移动跳线管脚并保持测试点状态；跳线管脚在其新位置被锁定。

	- **取消** 取消移动。

### 修改作为锁定测试点的管脚

当修改作为锁定测试点的管脚时，会显示一条消息，指示对象已锁定，您需要确认设计意图。

🏃‍♂️‍**步骤**

您将通过以下方式之一修改锁定的测试点：

- 如果您修改元件管脚的焊盘栈，则会出现"您要将更改应用到所有具有 xxx 封装类型的元件还是仅选定的元件？"消息。点击以下之一：

	- **全部** 将更改应用到所有封装类型。

	- **选定** 将更改应用到选定的封装。

	- **取消** 取消更改。

- 如果元件管脚是锁定的测试点，当您点击全部或选定时，会出现"在焊盘栈更新中包含锁定的测试点吗？"消息。点击以下之一：

	- **是** 应用更改并保持锁定测试点状态。

	- **否** 取消更改。

### 修改连接到锁定测试点的布线

当修改连接到锁定测试点的布线时，会显示一条消息，指示对象已锁定，您需要确认设计意图。

🏃‍♂️‍**步骤**

如果您尝试移动或修改连接到作为锁定测试点的过孔的布线，则会出现"命令导致标记为测试点的过孔移动。继续命令忽略测试点或在修改布线期间保持它们锁定？"消息。点击以下之一：

- **禁用锁定测试点** 关闭选项对话框 > **布线**类别 > 常规子类别(第 1542 页)中的锁定测试点复选框。

- **确定** 执行修改并移动过孔与布线，忽略锁定的测试点设置。测试点将在其新位置重新锁定。

- **保持锁定** 执行修改但不移动过孔；保持锁定的测试点位置。您可以修改布线，但测试点过孔不会移动。

- **取消** 取消修改。

### 修改作为锁定测试点的过孔或虚拟过孔

当修改作为锁定测试点的过孔或虚拟过孔时，您可以选择修改焊盘栈，或分配不同的过孔类型。

修改作为锁定测试点的过孔或虚拟过孔的焊盘栈 为作为锁定测试点的过孔分配不同的过孔类型 为作为锁定测试点的虚拟过孔分配不同的过孔类型

#### 修改作为锁定测试点的过孔或虚拟过孔的焊盘栈

当修改作为锁定测试点的过孔或虚拟过孔的焊盘栈时，会显示一条消息，指示对象已锁定，您需要确认设计意图。

🏃‍♂️‍**步骤**

您将通过以下方式之一修改锁定的测试点：

- 如果您在焊盘栈特性对话框中修改过孔或虚拟过孔的焊盘栈，则会出现"您确定要更改所有 xxx 类型的过孔吗？"消息。点击以下之一：

	- **是** 应用更改。

	- **否** 取消更改。

- 如果过孔/虚拟过孔是锁定的测试点，则会出现"在焊盘栈更新中包含锁定的测试点吗？"消息。点击以下之一：

	- **是** 应用更改并保持锁定测试点状态。

	- **否** 对于过孔，取消更改。对于虚拟过孔，进行更改(即如同选择了是)。

👀‍**结果**

如果您不将测试点包含在更新中，则通过为测试点焊盘栈添加 TP_前缀来保留它们；例如，更改 STANDARDVIA 的焊盘栈时，测试点焊盘栈被重命名为 TP_STANDARDVIA。

#### 为作为锁定测试点的过孔分配不同的过孔类型

当为作为锁定测试点的过孔分配不同的过孔类型时，会显示一条消息，指示对象已锁定，您需要确认设计意图。

如果您通过在过孔特性对话框中选择新的过孔名称，为作为锁定测试点的过孔分配不同的过孔类型，则会出现"命令导致标记为测试点的过孔类型更改。继续吗？"消息。点击以下之一：

- **禁用锁定测试点** 关闭选项对话框 > **布线**类别 > 常规子类别(第 1542 页)中的锁定测试点复选框。

- **确定** 应用更改并保持测试点状态。

**取消** — 取消更改。

#### 为锁定测试点的虚拟过孔分配不同过孔类型

如果通过虚拟过孔特性对话框选择新的过孔名称，为作为锁定测试点的虚拟过孔分配不同的过孔类型，不会显示任何消息，更改将直接生效。

🏃‍♂️‍**步骤**

通过虚拟过孔特性对话框选择新的过孔名称，为作为锁定测试点的虚拟过孔分配不同的过孔类型。

### 移动作为锁定测试点的过孔或虚拟过孔

当移动作为锁定测试点的过孔或虚拟过孔时，将显示消息提示该对象已锁定，需要确认设计意图。

🏃‍♂️‍**步骤**

如果移动作为锁定测试点的过孔或虚拟过孔，将显示"过孔标记为测试点。继续操作？"消息。点击以下选项之一：

- **禁用锁定测试点** 在选项对话框 > 布线类别 > 常规子类别（第 1542 页）中关闭锁定测试点复选框。

- **确定** 允许移动过孔并保持测试点状态；过孔将在新位置锁定。

- **取消** 取消移动操作。

### 使用顺序移动功能移动包含锁定测试点的元件、组合或簇

当使用顺序移动功能移动包含作为锁定测试点的管脚的元件、组合或簇时，将显示消息提示该对象已锁定，需要确认设计意图。

🏃‍♂️‍**步骤**

使用顺序移动功能处理锁定测试点时，将发生以下情况之一：

- 如果为顺序移动选择的元件或组合包含作为锁定测试点的管脚，将显示"元件/组合 xxx 包含标记为测试点的管脚。继续？"消息。点击以下选项之一：

    - **是** 尽管是测试点仍移动元件。测试点将在新位置锁定。

    - **否** 跳过该元件或组合。

    - **取消** 取消移动序列。

- 如果为顺序移动选择的簇包含作为锁定测试点的管脚且折叠模式开启，将显示"簇 xxx 包含标记为测试点管脚的成员。继续？"消息。点击以下选项之一：

    - **是** 尽管是测试点仍移动簇。测试点将在新位置锁定。

    - **否** 跳过该簇。

    - **取消** 取消移动序列。

### 移动、分散或对齐包含锁定测试点的元件、簇或组合

当移动、分散或对齐包含作为锁定测试点的管脚的元件、组合或簇时，将显示消息提示该对象已锁定，需要确认设计意图。


> [!warning] 
此操作适用于旋转 90 度、旋转、翻面、径向移动、组旋转 90 度和翻转组。也适用于自动簇放置操作，如折叠簇和更改元件封装。

🏃‍♂️‍**步骤**

如果尝试移动包含作为锁定测试点的管脚的元件，将显示"元件管脚标记为测试点。继续操作？"消息。点击以下选项之一：

- **禁用锁定测试点** 在选项对话框 > **布线**类别 > 常规子类别（第 1542 页）中关闭锁定测试点复选框。

- **确定** 执行修改并移动元件，忽略锁定测试点设置。测试点将在新位置重新锁定。

- **取消** 取消修改。

## DFF，面向制造的设计

为支持制造设计规则，`SailWind Layout` 提供了通过验证设计进行的制造检查。此功能称为 DFF 审核（面向制造的设计），可检查 `SailWind Layout` 中的制造错误或从 CAM 产品 CAM350 反向标注错误。DFF 审核检测设计中的潜在错误，以便在电路板制造前识别这些问题。

`SailWind Layout` 中的检查使用 CAM 文档定义来确定是否存在制造错误。CAM 文档决定光绘输出并包括层复合、放大、抑制和其他掩模偏好。分析所有电气层以检查酸陷阱和铜片制造。为检查掩模片和阻焊桥制造，分析阻焊层。为检查丝印覆盖焊盘，将丝印层与阻焊层进行比较。

面向制造设计工作流程 使用 DFF 审核的流程 使用 CAM350 链接的 DFF 审核流程

### 面向制造设计工作流程 ಠ_ಠ

面向制造设计最好使用结构化工作流程来定义过程的各个步骤。

下表显示了审核设计制造的基本工作流程。

![](/layout/guide/39/_page_14_Figure_8.jpeg)

**图 118. 面向制造设计工作流程**

### 使用 DFF 审核的流程 ಠ_ಠ

可以使用 DFF 审核检测和解决任何制造错误。审核过程分析、验证并显示与您指定的特定检查相关的设计错误。

😎**前提**

需要 CAM350 链接许可证选项才能使用此功能。

1. 使用 `SailWind Layout`（第 253 页）和 `SailWind Router`（第 776 页）布局设计。

2. 创建 CAM 文档（第 934 页）。

3. 设置验证设计偏好以进行制造检查（第 894 页）。

4. 运行验证设计。

5. 使用布局编辑器与验证设计对话框一起查看和纠正制造错误。

6. 重复步骤 3 至 5 直到解决制造错误。

### 使用 CAM350 链接的 DFF 审核流程

如果在设计过程中使用 CAM350，可以使用 DFF 审核检测和解决任何制造错误。审核过程分析、验证并显示与您指定的特定检查相关的设计错误。

😎**前提**

需要 CAM350 链接许可证选项才能使用此功能。

🏃‍♂️‍**步骤**

1. 使用 `SailWind Layout`（第 253 页）和 `SailWind Router`（第 776 页）布局设计。
2. 创建 CAM 文档（第 934 页）。
3. 将 CAM 文档输出到 CAM350。
4. 设置验证设计偏好以进行制造检查（第 894 页）。
5. 运行验证设计。
6. 使用布局编辑器与验证设计对话框一起查看和纠正制造错误。
7. 使用 CAM350（第 876 页）查看错误。使用 `SailWind Layout` 纠正制造错误。
8. 重复步骤 3 至 7 直到解决制造错误。

## 导出到 CAM350

可以使用 CAM350 链接转换 `SailWind Layout` 设计。这允许在 CAM350 环境中对设计执行额外的设计分析。

😎**前提**

需要 CAM350 链接许可证选项才能使用此功能。

1. 创建 `SailWind Layout` 设计。

2. 点击**主页 > 导出**菜单项，在保存类型列表中选择 CAM350，然后点击**保存**。CAM350 对话框出现。

3. 选择模式以仅创建 CAM350 *.cam*文件，或创建文件并自动启动 CAM350。

4. 在层选项区域，选择将 PADS 设计细节转换到 CAM350 数据库的数量选项。

5. 多边形形状中的弧线（如覆铜平面）使用直线边近似。在弧线近似容差框中，输入实际弧路径与近似直线段之间的最小允许距离。这以适当的设计单位显示，在选项对话框 > **全局**类别 > **常规**子类别中设置。

6. 在 CAM350 文件名框中，输入*.cam*路径和文件名或点击浏览导航到位置。

   默认文件名和路径与当前设计文件名和路径相同。

7. 点击**确定**。

8. 在 CAM350 中运行制造过程。

👀‍**结果**

设计文件进入 CAM350 后，可以对设计执行 DFM 分析。如果存在 DFM 错误，可以反向标注（第 889 页）错误到 `SailWind Layout` 以识别和纠正它们。随后，可以生成新的 CAM350 数据库并验证所有 DFM 错误已纠正。然后可以在 `SailWind Layout` 或 CAM350 中创建 CAM 输出。

将 `SailWind Layout` 数据转换为 CAM350 *.cam*文件的处理例程检测错误和警告并将其报告到标准 `SailWind Layout` 错误文件（Layout.err）。

## 使用标记

可以使用标记定义和记录与设计相关的特定问题。这允许标注设计问题并轻松与同事或下游流程人员共享。

**添加标记 
**使用标记对话框导出标记** 
**使用文件 > 导出导出标记** 
**使用标记对话框导入标记** 
**使用文件 > 导入导入标记** 
**将设计对象链接到标记问题** 
**从标记问题取消链接设计对象**

### 添加标记

使用标记对话框记录设计问题。可以添加 2D 线标记以勾勒或突出显示问题位置。还可以将设计对象链接到标记。

😎**前提**

必须创建至少一个主题部分才能开始添加问题和 2D 线标记。

🏃‍♂️‍**步骤**

1. 点击**编辑 > 标记**菜单项。

2. 点击**添加主题**按钮添加主题。

   例如，在审查另一位设计师的设计时，发现几个丝印放置问题。可以将标记主题命名为 - 丝印。

3. 点击**添加问题**按钮添加问题。

   例如，第一个问题可能是参考标志 R54 的位置。可以将标记问题命名为 - R54 参考标志位置。

4. 点击**添加标记**按钮。

5. **右键**单击并选择选项后再添加 2D 线。


   > [!danger] 
   导出和重新导入时，2D 线标记的线宽或层位置不保留。

6. 绘制 2D 线以突出显示关注区域。

   例如，可以围绕有问题的参考标志绘制矩形。

7. 还可以将设计项目（第 881 页）链接到标记。

8. 通过选择以下方式之一保存标记：

    - 点击标记对话框中的**导出**按钮将标记导出到*.cle*加密协作文件。

    - 点击**主页 > 另存为**菜单项生成设计快照并创建匹配的*.cle*文件。

> [!warning] 点击**主页 > 保存**菜单项（或对话框上的**保存**按钮，或 Ctrl+S）时不保存标记。

👀‍**结果**

- 问题记录针对设计并准备共享。

- 标记采用任何给定层上 2D 线的颜色。


### 使用标记对话框导出标记

可以使用标记对话框导出标记以在 CAMCAD 和 visECAD 等其他软件工具中使用。标记导出到仅包含标记信息的简单*.cle*文件。

或者，可以导出包含大多数设计元素和标记的*.CCE*文件。参见"使用文件 > 导出来导出标记"。

🏃‍♂️‍**步骤**

1. 点击**编辑 > 标记**菜单项。

2. 在标记对话框中，点击**导出**按钮。

3. 在协作数据另存为对话框中，输入*.cle*文件的名称。

4. 点击**保存**。

### 使用文件 > 导出来导出标记

可以使用**主页 > 导出**命令导出标记以在 CAMCAD 和 visECAD 等其他软件工具中使用。标记导出到包含大多数设计元素和标记的*.CCE*文件。

或者，可以导出仅包含标记信息的简单*.cle*文件。参见"使用标记对话框导出标记"。

1. 点击**主页 > 导出**菜单项。

2. 在文件导出对话框中，在保存类型列表中点击协作文件(*.cle)或 CCE 文件(*.cce)。

3. 输入*.cle*文件或*.cce*文件的名称。

4. 点击**保存**。

👀‍**结果**

标记导出到文件中。如果在设计中将标记线放置在不同层上，此信息将被忽略，所有标记都导出到.cle 文件中的单个层。


### 使用标记对话框导入标记

可以使用标记对话框导入在 CAMCAD 或 visECAD 等其他软件工具中创建的标记。

🙊**限制**

标记对话框中存在的任何标记将在导入新数据前被删除。

🏃‍♂️‍**步骤**

1. 点击**编辑 > 标记**菜单项。

2. 在标记对话框中，点击**导入**按钮。

3. 在协作数据导入对话框中，浏览并选择要导入的*.clb*或*.cle*文件。

4. 点击**打开**。


### 使用文件 > 导入导入标记

可以使用**主页 > 导入**菜单项导入在 CAMCAD 或 visECAD 等其他软件工具中创建的标记。

🙊**限制**

标记对话框中存在的任何标记将在导入新数据前被删除。

1. 点击**主页 > 导入**菜单项。

2. 在文件导入对话框中，在文件类型列表中点击协作文件(*.clb, *.cle)。

3. 浏览并选择要导入的*.clb*或*.cle*文件。

4. 点击**打开**。

👀‍**结果**

- 标记对话框填充导入的协作数据。

- 从其他软件导入的一些形状在 `SailWind Layout` 中没有等效项（例如便签）。它们在 `SailWind Layout` 中尽可能准确地表示为 2D 线。

- 伴随任何导入形状的文本不位于设计中，但出现在标记对话框的文本框中。


### 将设计对象链接到标记问题

可以将设计对象链接到标记问题。可以链接元件、网络、过孔和绘图（板框、2D 线、禁止区）。

🏃‍♂️‍**步骤**

1. 在设计中选择一个或多个设计对象。

2. 在标记对话框中，**右键**单击标记并点击**链接选定**弹出菜单项。

👀‍**结果**

设计项目列在标记对话框的元素树中的每个元素类型下。


### 从标记问题取消链接设计对象

可以从标记取消链接项目并不再列在标记对话框的元素树中。

在标记对话框的元素树中，**右键**单击项目并点击**取消链接**弹出菜单项。


## 验证设计

可以使用验证设计对话框检查单个或所有设计错误。检查以下类型的错误：间距、连接性、高速、过孔数量、平面连接、测试点、制造、线绑定。不检查参考标志、元件类型或特性标签的间距违规。

**运行设计检查**

设计错误结果审查 排查设计验证错误 保存和打印错误结果 设置默认报告文件名 预览 CAM 文件中的制造错误 反向标注 CAM350 文件 为特定高速检查添加网络或类 设置间距检查 设置检查孤立缝合过孔 设置 Latium 检查

### 运行设计检查

可以使用验证设计对话框检查单个或所有设计错误：

🏃‍♂️‍**步骤**

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框的检查区域，选择检查选项。

3. 如果**设置**按钮可用（最大过孔数量和测试点检查不可用）：

    a. 点击**设置**指定检查的附加设置。

    b. 在设置对话框中指定设置然后点击**确定**。

4. 点击**开始**运行检查。

5. 检查过程完成后，可能会打开显示找到错误数量的消息窗口。点击**确定**。

👀‍**结果**

错误标记出现在设计中的错误位置，错误详细信息填充验证设计对话框。更多信息参见"解释错误标记"。

### 设计错误结果审查

使用验证设计检查错误标记并查看每个错误的描述。

读取错误详情 查看设计中的错误 解释错误标记

#### 读取错误详情

位置框中列出了某类检查的错误结果。列出的错误包含其(X,Y)坐标、层和错误类型。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项。

2. 从列表中选择一个错误。

   错误说明会显示在解释框中。

3. 查看位置列表中所选错误的更具体详细信息，包括任何冲突对象的信息。

4. 完成验证设计对话框操作后点击 **关闭**。

无论对话框是否打开，当前错误列表都会保留。错误标记会一直显示，直到点击清除错误按钮（仅清除标记而非实际错误）。

#### 查看设计中的错误

您可以在设计中查看错误标记。工作区中的错误标记指示错误类型。

😎**前提**

必须在显示颜色对话框中正确分配颜色才能看到错误标记。设计区域中的错误会按照显示颜色对话框中每层的错误复选框颜色显示。当在位置框中选择错误时，设计区域中的错误会以高亮颜色显示。

🏃‍♂️‍**步骤**

1. 打开验证设计数据库执行设计检查，并生成设计中出现的所有错误列表。
   
   具体操作请参见第 883 页的"运行设计检查"。

2. 保持第 1775 页的"验证设计对话框"处于打开状态，从位置列表中选择一个错误。

3. 设计窗口会自动平移至错误区域（除非您先选择了禁用平移选项）。

如果已放大设计视图，平移至错误区域的效果会更明显。

> [!tip] 如果您在验证设计对话框中选择了禁用平移复选框，则选择错误时设计区域不会自动平移。

无论对话框是否打开，生成的错误列表都会保留。如果关闭对话框，您可以在错误报告文件中查看列表。通过点击输出窗口中显示的链接可以访问报告文件。

> [!warning] 错误标记不会从设计中擦除，除非您点击 **清除错误**（仅清除错误标记而非实际错误）。您必须在设计中纠正错误。

#### 解释错误标记 ಠ_ಠ

验证设计后，错误标记会作为数据库对象插入 `SailWind Layout` 数据库中。`SailWind Layout` 数据库中存在的错误对象会传输到 `SailWind Router` 中，并在文件加载时转换为 `SailWind Router` 错误对象。


> [!tip] 在 `SailWind Router` 中，您可以将错误标记为已忽略。已忽略状态会使错误标记不可见，但错误仍保留在数据库中。`SailWind Layout` 支持存储错误的忽略状态；但是，只能在 `SailWind Router` 中分配或取消分配忽略状态。在 `SailWind Layout` 中，忽略的错误不会不可见。在 `SailWind Router` 中保存为不可见的忽略错误，在加载到 `SailWind Layout` 时将会可见。但是，在 `SailWind Layout` 中保存并在 `SailWind Router` 中加载后，忽略的错误仍保持为已忽略状态。

`SailWind Layout` 中的大多数错误对象都会转换为相同的 `SailWind Router` 错误对象。下表注释栏列出了这些转换的例外情况。

| 标记 | 错误类型 | 备注 |
|--------|---------------------------------|-------|
|        | 可测试性和连通性 |       |
|        | 高速设计 |       |
|        | 制造 |       |

| 标记 | 错误类型 | 备注 |
|--------|---------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|        | 最小/最大长度 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|        | 装配（仅限 Latium） | 组件高度错误在 `SailWind Router` 中变为装配错误。因此，当文件保存时，`SailWind Router` 中的装配错误会转换为 `SailWind Layout` 中的禁止区域错误。 |
|        | 钻孔到钻孔 | `SailWind Layout` 中的钻孔到钻孔错误在 `SailWind Router` 中变为制造错误。因此，当文件保存时，`SailWind Router` 中的钻孔到钻孔错误会转换为 `SailWind Layout` 中的钻孔到钻孔错误。钻孔到钻孔错误仅针对钻孔对中的一个层报告。 |
|        | 间距 | "本体到本体"错误在 `SailWind Layout` 中是间距错误。`SailWind Router` 不执行"本体到本体"检查，仅作为装配检查执行放置边框检查。因此，"本体到本体"错误不可能存在于 `SailWind Router` 中。`SailWind Layout` 中的"本体到本体"错误会转换为 `SailWind Router` 中的放置边框错误（由装配错误标记标识）。因此，当文件保存时，`SailWind Router` 中的放置边框错误会转换为 `SailWind Layout` 中的放置边框错误。提示"本体到本体"错误不会从 `SailWind Router` 返回。警告：当设计加载到 `SailWind Router` 时，`SailWind Layout` 的"本体到本体"间距规则值会转换为 `SailWind Router` 的"组件间最小间距"值。在 `SailWind Layout` 中，组件边框之间的间距是在定义组件本体边框的线条边缘之间执行的。在 `SailWind Router` 中，放置边框检查是使用创建放置边框的线条的中心线完成的。由于这些细微差异，满足 `SailWind Router` 中 `DRC` 间距要求的设计在返回 `SailWind Layout` 时可能需要重新检查。 |
|        | 禁止区域 | 组件高度错误在 `SailWind Router` 中变为装配错误。因此，当文件保存时，`SailWind Router` 中的装配错误会转换为 `SailWind Layout` 中的禁止区域错误。 |

| 标记 | 错误类型 | 备注 |
|--------|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|        | 板框 |                                                                                                                                                                                                                                                                                                  |
|        | 最大角度 |                                                                                                                                                                                                                                                                                                  |
|        | 最大过孔数 | 为每个有过孔过多的网络添加一个标记。                                                                                                                                                                                                                                            |
|        | Latium 检查 | Latium 错误标记表示您的设计中包含第 1835 页的 Latium 规则。您只能通过使用验证设计对话框中的 Latium 设计验证检查来检查这些规则。因此，为确保没有 Latium 错误，请运行 Latium 检查。 |

**表 128. `SailWind Layout`/Router 错误对象（续）**

### 排查设计验证错误 ಠ_ಠ

有不同类型的错误，如间距错误、子网错误和未连接平面管脚错误。正确解释它们将帮助您快速从设计中清除这些错误。

**间距错误**

间距错误可以报告同一网络的间距错误，错误解释为焊盘间距过小。

虽然没有特定的 SMD 到 SMD 和 SMD 到焊盘的间距规则，但会使用 SMD 到过孔的间距规则。

**子网错误**

连通性检查经常报告子网错误。

子网错误有几个原因：

- **未分配的网络** 网络未分配给平面区域。打开第 1328 页的平面区域形状特性，确保形状已分配网络。只能在形状处于边框模式时分配网络。

- **小型未布线** 在显示颜色设置对话框中关闭所有层。为连接分配一个明亮的颜色并在设计中搜索未布线。

> [!tip] 您可能会发现连接到管脚的连接没有完全布线到焊盘中心。如果在焊盘和走线之间分配不同的颜色并启用透明模式以查看焊盘"下方"的走线，也更容易发现这些情况。

- **未镀层的组件管脚** 检查第 1566 页的组件管脚的焊盘栈特性，确保已选择镀层复选框。

- **没有平面散热的过孔或焊盘** 打开第 1779 页的过孔特性或第 1632 页的管脚特性对话框，确保已选择平面散热复选框。

完整平面检查与同层连通性检查也会显示仅由孤立平面引起的子网错误。更多信息请参见"平面检查设置"。

**未连接平面管脚错误**

平面检查有时会报告未连接平面管脚错误。

未连接平面管脚错误有几个原因：

- 未镀层的管脚或过孔

- 平面层上焊盘尺寸大于钻孔尺寸加钻孔余量的管脚

- 未设置散热特性的管脚

### 保存和打印错误结果

您可以打印错误结果，或者在当前默认文本编辑器中查看错误结果。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项。

2. 要在默认文本编辑器中查看最近运行的报告结果，点击 **查看报告**。您可以从默认文本编辑器打印或保存结果。


### 设置默认报告文件名

运行验证设计检查时，会为每种检查类型创建一个具有唯一名称的报告文件。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项。

2. 要为每种报告类型指定默认文件名，点击 **报告文件**。

这将打开另存为对话框，您可以在其中命名要运行的报告（如果不希望使用报告类型的默认参考名称）。

如果不为报告指定唯一名称，它将始终保存到默认文件名。

![](/layout/guide/39/_page_28_Picture_3.jpeg)

### 在 CAM 文件中预览制造错误

运行报告错误的制造检查后，您可以预览与错误关联的 CAM 层文档。仅当启用制造检查并列出错误时，预览按钮才可用。

😎**前提**

您需要 CAM350 Link 许可证选项才能使用此功能。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项。

2. 在位置框中选择一个错误。

3. 点击 **预览**。

👀‍**结果**

CAM 预览对话框打开。

> [!tip] 由于错误标记不会添加到 CAM 文档中，因此在点击预览前放大设计区域会有所帮助。如果 CAM 预览未在同一区域打开放大视图，您可以点击 Cam 预览窗口中的工作区按钮以匹配工作区视图。

> [!warning] 
在 CAM 预览窗口中，点击 **设置** 可更改预览区域中指定文档的预览设置。

### 反向标注 CAM350 文件

反向标注从解析指定的 CAM350 文件以查找 DFM 错误开始。对于文件中列出的每个错误，会在错误位置向 `SailWind Layout` 数据库添加一个错误标记。

😎**前提**

- 您需要 CAM350 Link 许可证选项才能使用此功能。

- 在解析 CAM350 文件前，会清除 `SailWind Layout` 数据库中的现有 DFM 错误标记。

🏃‍♂️‍**步骤**

1. 在 CAM350 中执行 DFM 错误分析并保存文件。

2. 在 `SailWind Layout` 中打开设计文件。

3. 点击 **工具 > 验证设计** 菜单项。

4. 在验证设计对话框的检查区域中，选择制造选项。

5. 点击 **设置**。

6. 在制造检查设置对话框中选择标注 DFF 错误选项。

7. 输入保存 DFM 错误的 CAM350 文件的名称或浏览选择该文件。

8. 在验证设计对话框中点击 **开始**。第 885 页的 DFM 错误标记会出现在设计中存在错误的任何位置。它们也会出现在位置列表中并带有位置信息。

9. 纠正现有错误并重新生成 CAM350 数据库。

### 为特定高速检查添加网络或类

您可以对网络或类运行特定的电动力学检查。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项。

2. 在验证设计对话框的检查区域中，选择高速选项。

3. 点击 **设置**，然后点击 **添加网络** 或 **添加类**。

4. 选择一个网络或类，然后点击 **确定**。

> [!tip] 您可以使用 Ctrl+点击选择多个项目。可以使用 Shift+点击或拖动光标选择一个范围。


### 设置间距检查

使用间距检查设置对话框指定在间距验证期间要检查哪些间距。


> [!danger] 间距检查仅应用于工作区视图中当前缩放级别可见的设计对象，并且仅应用于颜色已开启的那些设计对象。如果您已放大或关闭了对象，则间距检查会忽略它们。

🙊**限制**

- 间距检查仅检查设计的可见区域。

- 不检查参考标志符、元件类型和特性标签的间距违规。

- 间距检查不检查与 2D 线的间距。

- 不对 CAM 平面执行间距检查。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项。

2. 在验证设计对话框的检查区域中，选择间距选项，然后点击 **设置**。

3. 选择要启用的任何间距检查类型旁边的复选框，然后点击 **确定**。


> [!tip] 锐角会在电路板制造过程中在导电对象之间产生焊桥。


### 设置检查孤立缝合过孔

在设计验证期间，您可以使用连通性检查报告孤立布线过孔和孤立缝合过孔。

（孤立缝合过孔是指未连接到任何填充边框或铜区域的缝合过孔。）但是，要让检查报告孤立缝合过孔，您必须首先将其设置为忽略与 CAM 平面的连接。

1. 点击 **工具 > 验证设计** 菜单项。

2. 在验证设计对话框的检查区域中，选择连通性选项，然后点击 **设置**。

3. 在连通性检查设置对话框中，选择忽略 CAM 平面连接以检查孤立缝合过孔复选框，然后点击 **确定**。

👀‍**结果**

验证设计时，检查操作会报告孤立缝合过孔作为错误，并在设计中标记它们，以及检查期间发现的其他错误。

### 设置 Latium 检查

Latium 检查使用 `SailWind Router` 中包含的 Latium 技术执行高级设计检查。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项。

2. 在验证设计对话框的检查区域中，选择 Latium 设计验证选项，然后点击 **设置**。

3. 选择"网络到所有"复选框以检查每个网络或层次级别上的间距规则与任何其他障碍物类型。

4. 选择板框复选框以检查板框和板切割的间距规则。

5. 选择板外文本复选框以检查板外文本并将所有板外文本实例标记为间距错误。

6. 选择禁止区域复选框以检查禁止区域限制违规。

7. 选择同一网络复选框以检查沿同一网络的对象之间的间距，如间距规则对话框中所指定。

   更多信息请参见"设计规则层次结构"。

8. 选择钻孔到钻孔复选框以检查所有钻孔之间的间距。焊盘栈钻孔尺寸加上钻孔余量值计算镀孔的直径。

   > [!tip] 钻孔到钻孔错误仅针对钻孔对中的一个层报告。

9. 选择线宽复选框以检查超过最小和最大宽度的走线，如间距规则对话框中所指定。

   更多信息请参见"设计规则层次结构"。

10. 选择放置边框复选框以检查边框与边框之间的间距，考虑以下因素：

    - 在默认层模式下，检查层 20 上的边框与边框之间的间距，而非电气层。

    - 在增加层模式下，检查层 120 上的边框与边框之间的间距。
    
    > [!tip]     
    您可以在层 20（或 120）上创建不完全匹配实际组件边框的边框。通过在该层上设置更大的边框，您可以为其他目的保留组件附近的区域。此检查确保该区域保持开放。
    
11. 选择过孔在 SMD 处复选框以检查过孔在 SMD 限制违规。

    更多信息请参见"焊盘入口规则对话框"。

12. 选择差分对复选框以检查差分对限制违规。

    更多信息请参见"创建差分对设计规则"。

13. 选择走线长度复选框以检查长度限制违规。

    更多信息请参见"高速规则对话框"。

14. 选择测试点复选框以检查设计上的测试点。

    测试点检查探针间距、用于探测的最小过孔/焊盘尺寸、SMD 管脚探测、组件侧组件管脚上的测试点、每个网络的测试点计数设置和钉直径设置，并将这些设置与 DFT 审核程序中的设置进行比较。更多信息请参见"执行测试点审核"。

👀‍**结果**

Latium 设计检查执行时有以下限制：

- 不检查参考标志符、元件类型和特性标签的间距违规。

- Latium 设计验证仅对设计的可见区域执行间距检查。当检查与板框的间距时，对象的边缘会与板框的中心线进行检查。

- 钻孔到钻孔错误仅针对钻孔对中的一个层报告。

- 无论您在 Latium 检查设置对话框还是验证设计对话框上启用检查，测试点检查都是相同的。如果您计划执行 Latium 设计验证，可以通过将测试点检查与其他 Latium 检查一起运行来消除 `SailWind Layout` 和 `SailWind Router` 之间的额外设计传输。


## 制造检查

使用制造检查设置对话框可启用制造检查，或从现有 CAM350 数据库加载 DFF 错误并标注到设计中。


> [!warning] 
您需要 CAM350 Link 许可证选项才能使用此功能。

制造检查定义 高速(电动力学)检查设置 电动力学检查参数设置 平面检查设置 设置线键合检查 检查平面连接的连续性

### 制造检查定义 ಠ_ಠ

本节介绍制造检查设置对话框中的 DFF 审计选项。

酸蚀陷阱 铜箔碎片 焊桥 热焊盘不足 环形环 丝印覆盖焊盘 线宽/焊盘尺寸

#### 酸蚀陷阱

酸蚀陷阱是指由于蚀刻表面张力的作用，酸液会积聚在某个区域。这种酸会导致过度蚀刻，从而影响良率。酸蚀陷阱检查在所有 CAM 文档定义的可见电气层上运行。

酸蚀陷阱最大尺寸表示要标记的酸蚀陷阱的最大尺寸。被标记的"池"区域将小于此值(图 119)。

**图 119. 酸蚀陷阱最大尺寸**

![](/layout/guide/39/_page_34_Picture_8.jpeg)

酸蚀陷阱最大角度为 1 至 89 度。任何形成小于此角度的铜元素(走线、焊盘或层上存在的任何其他对象)都将被标记为酸蚀陷阱(图 120)。

**图 120. 酸蚀陷阱最大角度**

![](/layout/guide/39/_page_34_Picture_11.jpeg)

#### 铜箔碎片

铜箔碎片是指铜层中非常狭窄可能会剥落的区域。此检查检测设计中电气层和复合层上的潜在碎片。

铜箔碎片(图 121)应尽可能消除，以防止在蚀刻过程中产生缺陷。

最小铜箔表示要标记的铜箔碎片的最大尺寸。此检查标记宽度小于此值的碎片。此检查在所有 CAM 文档定义的可见电气层上运行。

**图 121. 铜箔碎片**

阻焊层中的阻焊碎片是指阻焊层非常狭窄可能会剥落的区域。这些碎片漂浮并可能落在需要焊接的区域，导致不良板。

最小阻焊(图 122)表示要标记的碎片的最大尺寸。此检查标记宽度小于此值的碎片。此检查在顶部和底部阻焊层上运行(如果 CAM 文档定义为可见)。

**图 122. 最小阻焊尺寸**

![](/layout/guide/39/_page_35_Figure_6.jpeg)

#### 焊桥

创建阻焊层时，焊盘的开口可能过大并暴露相邻走线或其他导电物体。因此，在制造过程中，该焊盘的铜可能会变得太近并与相邻物体形成桥接。焊桥通常由阻焊数据创建时的问题引起。

使用的 CAD 系统可能无法验证所创建的内容是否有效。

最小间隙(图 123)是焊料可以在同一阻焊开口内桥接并与相邻物体形成连接的最大距离。如果相邻物体距离焊盘超过此距离，即使被阻焊层暴露，也不会被识别为桥接。

![](/layout/guide/39/_page_35_Figure_11.jpeg)

![](/layout/guide/39/_page_35_Figure_12.jpeg)

**896 SailWind 布局指南与参考**

#### 热焊盘不足

许多设计都受到负片 CAM 平面热焊盘问题的困扰，因为 CAD 系统没有验证热焊盘是否与覆铜平面形成良好连接。

热焊盘不足制造检查验证每个与负片 CAM 平面的热连接是否有效，或者是否被太近或重叠的相邻数据限制-实际上"饿死"了连接。此检查在所有 CAM 文档定义的可见 CAM 负片平面层上运行。

热焊盘最小间隙是热焊盘辐条旁边不能被另一物体阻挡的区域百分比。任何更小的开口都被认为是"不足"的。

![](/layout/guide/39/_page_36_Figure_5.jpeg)

**图 124. 热焊盘不足**

热焊盘最小辐条数是不能被另一物体阻挡的热焊盘辐条数量。任何更少将被认为是"不足"的。辐条数指定为 EVERY(意味着所有辐条都不能被阻挡)或 1 到 4 的整数。

#### 环形环

环形环区域允许您通过比较不同层上的数据来设置环形环检查。此测试检查两层之间的大小和偏移。

这些检查(如下表所述)确保观察到适当的间隙，以缓解板制造过程中的生产问题。要测试的层来自 CAM 文档和焊盘堆叠数据。此区域提供焊盘、阻焊和钻孔检查的选择。当分析钻孔尺寸的环形环时，不考虑工具>选项>设计选项卡上的钻孔超尺寸设置。

**表 129. 环形环检查**

| 环形环检查类型  | 检查内容                                                                                                                                                                                                                                                     |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 环形环-焊盘到阻焊 | 焊盘与其阻焊开口之间的间隙。偏移和环形环根据指定的间隙值进行检查。此检查在顶部和底部电气层上针对其关联的阻焊层运行。 |
| 环形环-钻孔到阻焊 | 钻孔与其阻焊开口之间的间隙。偏移和环形环根据指定的间隙值进行检查。此检查在顶部和底部钻孔层上针对其对应的阻焊层运行。 |
| 环形环-钻孔到焊盘  | 钻孔与其关联焊盘之间的间隙计算为<焊盘尺寸-钻孔尺寸>。偏移和环形环根据指定的间隙值进行检查。此检查可以在任何指定的电气层上运行。             |


#### 丝印覆盖焊盘

丝印覆盖焊盘检查允许您设置用于比较丝印层与顶部和底部电气层数据的间隙。此检查分析两层之间的大小和偏移。

要测试的层来自 CAM 文档和焊盘堆叠数据。此检查针对顶部和底部电气层及其关联的丝印层运行。

**图 125. 比较丝印层上的数据**

#### 线宽/焊盘尺寸

线宽/焊盘尺寸检查运行电气层的最小线宽和最小焊盘尺寸检查。

线宽检查检测设计中电气层上的小电气走线。最小线宽表示要标记的走线的最大尺寸。宽度小于此值的走线将被标记。此检查在所有 CAM 文档定义的可见电气层上运行。

焊盘尺寸检查在板制造前检测设计中电气层上的小焊盘。最小焊盘表示要标记的焊盘的最大尺寸。直径小于此值的焊盘将被标记。此检查在所有 CAM 文档定义的可见电气层上运行。

### 制造检查类型

制造检查用于验证设计是否可制造，并消除设计中的典型制造问题。

#### 运行制造检查

制造检查用于分析设计并报告可能在制造过程中产生缺陷的潜在制造问题。使用制造检查结果验证设计的制造完整性。

😎**前提**

制造检查需要某些 CAM 文档，如下所列。您可考虑在运行制造检查前创建这些文件。

- 检查酸蚀陷阱需要所有电气层 CAM 文档

- 检查铜箔碎片需要所有电气层 CAM 文档

- 检查阻焊碎片需要顶部和底部阻焊层 CAM 文档

- 检查阻焊桥需要顶部和底部电气及阻焊 CAM 文档

- 检查热焊盘不足需要所有负片 CAM 平面层 CAMD 文档

- 检查最小环形环需要所有电气层和阻焊层 CAM 文档

- 检查丝印覆盖焊盘需要顶部和底部阻焊及丝印 CAM 文档

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框中，在检查区域选择制造选项，然后点击**设置**。

3. 选择要运行的检查类型并设置所需参数。

#### 检查酸蚀陷阱

使用此检查标记酸液会积聚的小区域。此检查在 CAM 文档定义的所有可见电气层上运行。

🏃‍♂️‍**步骤**

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框中，在检查区域选择制造选项，然后点击**设置**。

3. 选择酸蚀陷阱复选框。

4. 在最大尺寸框中，输入要检测的酸蚀陷阱的最大值。

   被标记的"池"区域将小于此值。

5. 在最大角度框中，输入走线、焊盘或层上存在的任何其他数据的最大角度。

任何形成小于此角度的项目都将被标记为酸蚀陷阱。

#### 检查铜箔碎片

使用此检查标记铜箔碎片和阻焊碎片区域。此检查比较顶部阻焊层与顶部电气层以及底部阻焊层与底部电气层(如 CAM 文档所定义)。

🏃‍♂️‍**步骤**

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框中，在检查区域选择制造选项，然后点击**设置**。

3. 选择碎片复选框。

4. 在最小铜箔框中，输入铜箔碎片的最小值。

   此检查标记面积小于此值的碎片。

5. 在最小阻焊框中，输入阻焊碎片的最小值。

此检查标记宽度小于此值的碎片，检查顶部和底部阻焊层(如果可见)。

#### 检查热焊盘不足

使用此检查标记相邻数据重叠热焊盘辐条的无效热焊盘。


> [!danger] 
热焊盘不足仅在(负片)CAM 平面上检查。

🏃‍♂️‍**步骤**

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框中，在检查区域选择制造选项，然后点击**设置**。

3. 选择热焊盘不足复选框。

4. 在最小间隙框中输入热焊盘辐条不能被另一物体阻挡的百分比。

   任何更小的开口将被认为是"不足"的。

5. 在最小辐条数列表中，选择不能被另一物体阻挡的热焊盘辐条的最小允许数量。

任何更少将被认为是"不足"的。

#### 检查线宽/焊盘尺寸

使用此检查标记过小的走线和焊盘。检查 CAM 文档定义的所有电气层。

🏃‍♂️‍**步骤**

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框中，在检查区域选择制造选项，然后点击**设置**。

3. 选择线宽/焊盘尺寸复选框。

4. 在最小线宽框中，输入最小线宽值。此检查标记宽度小于此值的走线。

   此检查在所有可见电气层上运行。

5. 在最小焊盘框中，输入最小焊盘尺寸。此检查标记直径小于此值的焊盘。

   此检查在所有可见电气层上运行。

#### 检查丝印覆盖焊盘

使用此检查标记 CAM 文档定义的顶部和底部层上丝印覆盖焊盘。

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框中，在检查区域选择制造选项，然后点击**设置**。

3. 选择丝印覆盖焊盘复选框。

4. 在最小间隙框中，输入丝印特征与阻焊暴露区域之间的最小允许距离。

#### 检查环形环

使用此系列检查标记顶部和底部层的最小环形环，比较电气、钻孔和阻焊层。

🏃‍♂️‍**步骤**

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框中，在检查区域选择制造选项，然后点击**设置**。

3. 选择环形环复选框以启用焊盘到阻焊、钻孔到阻焊和钻孔到焊盘检查。

4. 焊盘检查选项系列被启用以进行进一步定义。

#### 焊盘到阻焊

使用焊盘到阻焊检查标记焊盘与其阻焊开口之间的最小间隙距离。偏移和环形环根据指定的间隙值进行检查。此检查比较顶部电气层与顶部阻焊层或底部电气层与底部阻焊层。

🏃‍♂️‍**步骤**

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框中，在检查区域选择制造选项，然后点击**设置**。

3. 选择焊盘到阻焊复选框。

4. 在框中输入最小间隙值。

5. 在层列表中，选择用于检查的层。

#### 钻孔到阻焊

使用钻孔到阻焊检查标记钻孔与其阻焊开口之间的最小间隙距离。偏移和环形环根据指定的间隙值进行检查。此检查比较顶部钻孔层与顶部阻焊层或底部钻孔层与底部阻焊层。

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框中，在检查区域选择**制造**选项，然后点击**设置**。

3. 选择钻孔到阻焊复选框。

4. 在框中输入最小间隙值。

5. 在**层**列表中，选择用于检查的层。

#### 钻孔到焊盘

使用钻孔到焊盘检查标记钻孔与其关联焊盘之间的最小间隙距离。偏移和环形环根据指定的间隙值进行检查。此检查在每个指定层上运行。

🏃‍♂️‍**步骤**

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框中，在检查区域选择制造选项，然后点击**设置**。

3. 选择钻孔到焊盘复选框。

4. 在框中输入最小间隙值。

5. 在层列表中，选择用于检查的层。

#### 检查焊桥

使用此检查标记阻焊桥接。焊料可以在同一阻焊开口内桥接并与相邻物体形成连接。如果相邻物体距离焊盘超过此距离，即使被阻焊层暴露，也不会被识别为桥接。

此检查比较顶部阻焊层与顶部电气层或底部阻焊层与底部电气层(如 CAM 文档所定义)。

🏃‍♂️‍**步骤**

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框中，在检查区域选择制造选项，然后点击**设置**。

3. 选择焊桥复选框。

4. 在最小间隙框中输入最小间隙值。

5. 在**层**列表中，选择用于检查的层。

#### 标注 DFF 错误

如果使用 CAM350 检查制造错误，可以从 CAM350 文件加载 DFF 错误。

🏃‍♂️‍**步骤**

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框中，在检查区域选择制造选项，然后点击**设置**。

3. 如果尚未选择，点击标注 DFF 错误选项。

4. 在 CAM350 文件名框中，输入*.cam*路径和文件名或点击**浏览**导航到要反向标注 DFF 错误到 `SailWind Layout` 进行设计验证的文件位置。

运行检查时将生成文件。


### 高速(电动力学)检查设置

使用电动力学检查对话框为单个网络和类或整个设计启用高速检查。


> [!warning] 
运行电动力学检查前，必须在层设置对话框中指定平面层。对于双层板，临时将其中一层标识为平面层。

#### 启用高速检查

您可以启用对整个设计的检查，或者如果您需要对某些网络或类进行特定检查，可以将它们添加到任务列表。您可以为任务列表中的每个项目启用不同的检查。

🏃‍♂️‍**步骤**

1. 点击**工具 > 验证设计**菜单项。

2. 在验证设计对话框中，在检查区域选择高速选项，然后点击**设置**。

3. 如果需要将特定网络或类添加到任务列表，点击**添加网络**或**添加类**。

   > [!tip] (N)添加到任务列表中是网络的项，(C)添加到是类的项。

4. 从任务列表中选择一个项目以启用该项目的速度检查。

5. 选择要启用的检查类型的复选框。

   要同时为多个网络或类定义检查，请在列表中选择多个项目。如果两个选定项目之间存在冲突值，复选框将变暗但可以清除和选择。

6. 对每个剩余项目重复步骤 2 和 3。

#### 删除任务

您可以从任务列表中删除特定网络和类 - 删除自定义检查项

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择高速选项，然后点击 **设置**

3. 在任务列表中选择任务并点击 **删除**

#### 设置电动力学检查参数

除了激活电动力学检查外，您还可以设置电动力学检查参数。使用参数对话框输入 PCB 的物理特性，自定义检查项并设置报告详细级别。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择高速选项，然后点击 **设置**

3. 点击 **参数**


#### 设置设计规则

您可以从电动力学检查对话框访问设计规则。使用规则对话框输入高速规则，如最小和最大长度、平行和串联检查的间隙，以及其他限制条件，如短线长度和菊花链连接。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择高速选项，然后 点击 **设置**

3. 如果需要编辑或分配检查规则，点击 **规则** 按钮快速访问规则对话框


#### 重用电动力学检查设置

您可以重用您的电动力学检查设置。可以保存当前电动力学检查任务、参数和规则设置。

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择高速选项，然后点击 **设置**

3. 点击 **保存** 或 **另存为** 将设置保存到 *.edp 文件

4. 点击 **打开** 从 *.edp 文件恢复设置


#### EDC 参数设置

使用 EDC 参数对话框定义全局规则，如层厚度和铜厚。您还可以指定设计验证报告的详细程度。

设置层定义 设置平行检查细节 设置菊花链报告细节 设置其他检查细节 包括段坐标 在段报告中 仅列出违规项 从计算中排除焊盘下/内的段

#### 设置层定义

您可能已经在层设置对话框中设置了层定义，但此重复的层厚度表允许您进行修改或首次设置定义。在运行电动力学检查前设置这些定义。

> [!warning] 板厚是当前设计单位中材料和层厚度的总和。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择高速选项，然后点击 **设置**

3. 在电动力学检查对话框中，点击 **参数**

4. 如果层设置不正确，使用 **层** 按钮轻松访问层设置对话框，您可以在其中定义层特性、名称和功能


   在运行电动力学检查前，您必须在层设置对话框中指定平面层。对于双层板，临时将其中一层标识为平面层。

5. 对于每个介电材料层，双击类型单元格选择"层"是预浸料还是基板层

   虽然这是一个较长的过程，但您可以点击方框，然后点击编辑，而不使用双击方法。

6. 对于每层，双击厚度单元格并输入值

   如果不需要涂层，将厚度设置为零。

7. 对于介电材料层，双击介电单元格并输入介电常数值

   您可以按重量或设计单位查看和编辑铜厚。点击您想要的铜厚单位：

    - 重量 (oz) 铜的重量，每平方英尺

    - 设计单位 与当前数据库测量单位相同的测量单位

#### 设置平行检查细节

您可以选择平行和串联检查的检查范围和报告范围。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择高速选项，然后点击 **设置**

3. 在电动力学检查对话框中，点击 **参数**

4. 在平行区域，在检查对象列表中选择检查范围，从以下选项中选择：

   - 网络/管脚对 检查整个网络或管脚对的平行和串联规则

   - 段 仅检查单个段的平行和串联规则

5. 在平行区域，在报告细节列表中选择报告范围，从以下选项中选择：

   - 仅网络名称 仅显示网络名称和违规项

   - 干扰源/受害者 显示特定干扰源和受害者网络

   - 段 除了干扰源和受害者网络外，还显示段坐标和层

#### 设置菊花链报告细节

您可以为短线(菊花链)检查选择报告范围。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择高速选项，然后点击 **设置**

3. 在电动力学检查对话框中，点击 **参数**

4. 在菊花链区域，在报告细节列表中选择报告范围，从以下选项中选择：

   - 仅网络名称 包括 T 点数量和网络是否菊花链连接

   - 短线 包括每个组内的管脚组，每个组的总短线长度，T 点数量以及网络是否菊花链连接

   - 管脚对 包括所有管脚对的管脚到管脚长度，所有管脚对的总长度相加形成短线，T 点数量以及网络是否菊花链连接

   - 段 包括所有轨道拐角的坐标和层，所有管脚对的管脚到管脚长度，所有管脚对的总长度相加形成短线，T 点数量以及网络是否菊花链连接

#### 设置其他检查细节

您可以为设计验证过程中的其他检查设置各种设置，如电容、阻抗、延迟和长度。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择高速选项，然后点击 **设置**

3. 在电动力学检查对话框中，点击 **参数**

4. 在其他检查区域，在检查对象列表中选择长度和延迟规则的检查范围，从以下选项中选择：

   网络/管脚对 — 检查整个网络或管脚对的长度和延迟规则

   段 — 检查单个段的长度和延迟规则

5. 在其他检查区域，在报告细节列表中选择电容、阻抗、延迟和长度的报告范围，从以下选项中选择：

   网络 — 包括网络的起始和结束管脚，以及电容、阻抗、延迟和长度的网络值

   管脚对 — 包括管脚到管脚点，管脚对值，以及电容、阻抗、延迟和长度的网络值

   段 — 包括单个段的坐标和电容、阻抗、延迟和长度的段值

6. 选择包括铜检查框，将带有信号名称的铜多边形包括在电容计算中

7. 选择使用场求解器计算检查框，计算传输线的电气参数，如：阻抗、延迟(每单位长度)和电容(每单位长度)

更多信息，请参阅 PADS HyperLynx SI/PI 用户指南。

#### 在段报告中包括段坐标

您可以在段报告中包括段坐标，其中在平行、菊花链或其他检查部分的报告细节中选择了段。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择高速选项，然后点击 **设置**

3. 在电动力学检查对话框中，点击 **参数**

4. 选择报告段坐标检查框

#### 仅列出违规项

您可以在高速报告中仅列出包含违规项的项目。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择高速选项，然后点击 **设置**

3. 在电动力学检查对话框中，点击 **参数**

4. 选择仅报告违规项检查框

#### 从计算中排除焊盘下/内的段

您可以从计算中排除焊盘下的走线段。布线时，走线会布入焊盘中间。这最后一段被排除在外。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择高速选项，然后点击 **设置**

3. 在电动力学检查对话框中，点击 **参数**

4. 选择移除焊盘下段检查框


#### 平面检查设置

使用混合平面设置对话框设置平面检查类型。

仅检查热连接 检查间隙和网络连接 检查同层连接

#### 仅检查热连接

您可以检查设计中的分割/混合平面热连接。使用此检查查找没有设置热特性的管脚或过孔，或查找不在平面区域内的管脚(热连接不会连接)。可以在跳线管脚、管脚或过孔特性对话框中设置热特性。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择平面选项，然后点击 **设置**

3. 点击"仅检查热连接"

4. 点击 **确定**

5. 点击验证设计对话框中的 **开始** 运行检查


> [!tip] 没有设置热特性的布线管脚不会标记为错误。


#### 检查间隙和网络连接

您可以检查设计中的分割/混合平面间隙和网络连接错误。如果分割/混合平面在设计中没有连接，平面将在检查运行前被填充。

😎**前提**

在检查间隙和网络连接前，层设置对话框中分配给平面层的每个网络必须存在平面区域。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择平面选项，然后点击 **设置**

3. 点击 **检查间隙和连接**

4. 点击 **确定**

5. 点击验证设计对话框中的 **开始** 运行检查


> [!tip] 平面层上的焊盘检查镀层，平面层上大于钻孔尺寸加钻孔过大的焊盘尺寸，或与平面网络的连接。

#### 检查同层连接

确保平面区域在分割/混合平面层上是连续的。特定网络的平面区域必须相互接触，而不会转到另一层。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择平面选项，然后点击 **设置**

3. 点击检查间隙和连接

4. 选择同层连接检查框

5. 点击 **确定**

6. 点击验证设计对话框中的 **开始** 运行检查

![](/layout/guide/39/_page_52_Picture_14.jpeg)


#### 设置线键合检查

使用线键合检查设置对话框指定在线键合验证期间检查哪些线键合规则。

🏃‍♂️‍**步骤**

1. 点击 **工具 > 验证设计** 菜单项

2. 在验证设计对话框中，在检查区域选择线键合选项，然后点击 **设置**

3. 选择要启用的检查类型旁边的检查框，然后点击 **确定**

未检查的规则在线键合报告中显示为"未设置"。

> [!danger] 
除非您选择规则并输入值，否则不会检查规则。


#### 检查平面连接是否连续

在验证设计中运行连续性检查时，如果没有发现错误，网络检查会连接。

运行平面检查，查看连接焊盘栈中是否存在平面层的连接焊盘，例如；焊盘尺寸是否大于 0 或钻孔尺寸是否超过焊盘尺寸？对于 SMD 焊盘链接，检查焊盘到过孔连接是否连接到平面。