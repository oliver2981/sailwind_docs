# 创建库元件

您可以使用库管理器和 PCB 封装编辑器在 SAILWIND 库中创建构成元件类型的库元素。

**本课程内容：**

- 理解 SailWind 元件类型与 PCB 封装
- 创建 PCB 封装
- 为 PCB 封装添加禁止区域
- 分配 PCB 封装属性
- 为 PCB 封装添加属性标签
- 创建新元件类型
- 使用封装向导创建 PCB 封装

🙊**限制**

本教程需要具备"绘图编辑"、"常规编辑"和"库编辑器"许可选项。在帮助菜单中点击**已安装选项**以确认您是否可以继续。

😎**前提**

如果 `SailWind Layout` 尚未运行，请先启动程序。

## 理解 SailWind 元件类型与 PCB 封装 \{#1}

**元件类型**

在将元件添加到设计之前，它必须作为 SailWind 元件类型存在于库中。一个元件类型由三个元素组成：

- 原理图符号（在库中称为 Logic decal）
- 元件封装（在库中称为 PCB decal）
- 电气参数（如管脚编号和门电路分配）

以 `SailWind Layout` 元件类型 7404 为例：

| 元素         | 描述                                                         |
| ------------ | ------------------------------------------------------------ |
| 元件类型名称 | 7404                                                         |
| 逻辑封装     | INV（反相器）                                                |
| PCB 封装      | DIP14（14 管脚双列直插封装）                                  |
| 电气参数     | 六个逻辑门（A 至 F）使用 14 个管脚中的 12 个包含一个电源管脚和一个接地管脚。 |

您可以在 `SailWind Logic` 或 `SailWind Layout` 中创建元件类型，但逻辑封装只能在 `SailWind Logic` 中创建，PCB 封装只能在 `SailWind Layout` 中创建。

**PCB 封装编辑器**

PCB 封装是元件的物理表示，通常称为*封装*。PCB 封装包含多个代表元件管脚的焊盘和一个元件边框。您可以在 PCB 封装编辑器中创建 PCB 封装。

在工具菜单中，点击 PCB 封装编辑器。

进入 PCB 封装编辑器后，会显示文本标签和 PCB 封装原点标记：

- **NAME** 文本标签是**元件位号**的占位符。
- **TYPE** 文本标签是**元件类型名称**的占位符。在封装中放置这些标签的位置决定了当使用该 PCB 封装的元件添加到设计时，位号或元件类型显示的位置。
- 原点标记标识了元件的原点，用于在 `SailWind Layout` 中移动、旋转或定位元件。封装原点也被自动装配和贴片机引用。

## 创建 PCB 封装 \{#2}

在以下练习中，您将通过添加新焊盘、元件边框和分配焊盘栈，为下图所示的 26 管脚连接器创建 PCB 封装。

![](/layout/tutorial/2/_page_1_Figure_10.jpeg)

**添加焊盘**

定义 PCB 封装的第一步是为元件的每个管脚添加焊盘。每个焊盘按添加顺序编号，焊盘编号即为其管脚编号，例如焊盘 1 为管脚 1，焊盘 2 为管脚 2，依此类推。

1. 点击**绘图**按钮 > **端点**按钮 **。**

   当"添加端点"对话框打开时，接受默认设置并点击确定。此时进入添加焊盘模式，每次点击鼠标都会在点击位置添加一个新焊盘。

2. 输入**g50**并按**Enter**，将设计网格设置为 50。
3. 输入**gd50**并按**Enter**，将显示网格设置为 50。
4. 将指针移动到封装原点标记上，点击以在原点添加第一个焊盘。
5. 将指针移动到 **X50,Y50** 位置（参考状态栏的 X,Y 坐标显示），点击添加第二个焊盘。

**使用"分布和重复"添加多个端点**

您可以使用"分布和重复"命令快速复制对象（如焊盘）形成重复模式。

2. 右键点击并选择**选择端点**。
3. 点击第一个端点。
4. 按住 Ctrl 键点击添加第二个端点到选择集。
5. 右键点击并选择**分布和重复**。
6. 在"分布和重复"对话框中，点击**线性**选项卡。
   
    > [!TIP]
    >
    > "径向布局"许可选项可启用极坐标和径向布局选项卡。
7. 选择**向右**为方向，设置数量为**12**，距离为**100**，然后点击**确定**。
   
    > [!NOTE]
    >
    > 自动添加 24 个新焊盘完成连接器管脚布局。

**分配焊盘形状和尺寸**

定义封装的下一步是分配焊盘形状和尺寸，这通过焊盘栈编辑器完成。

1. **设置 > 焊盘栈**。
2. 从"形状:尺寸:层"列表中选择 **<安装层>**（Mounted Side）。
   
    > [!TIP]
    >
    > `Mounted Side` 是印刷电路板上安装元件的正面或背面。
3. 在参数区域，点击**圆形**焊盘形状按钮。
4. 在参数区域，通过在直径框（Diameter）中输入 **55** 来更改焊盘直径。
5. 在钻孔尺寸框（Drill Size）中输入 **28**。
6. 为其他层更改焊盘形状和尺寸，从"形状:尺寸:层"列表中选择 **<内层>** （Inner Layers）和 **<对立面>** （Opposite Side），并将每层的焊盘直径（Diameter）设置为**55**。

    > [!TIP]
    >
    > 内层是印刷电路板顶层和底层以外的设计层，可能是布线层、平面层或两者的组合。对立面是印刷电路板上与安装面相对的外层。

7. 点击**确定**。

    > [!TIP]
    >
    > 如果钻孔不可见，输入 **do** 并按 **Enter**。do 无模命令可切换钻孔边框显示设置。

**创建元件边框**

使用 2D 线条绘图工具创建元件边框。

1. **绘图 > 2D 线** **。**
2. 右键点击并选择**矩形**。

3. 输入**s -100 100**（s, 负 100, 空格, 100）并按**Enter**，将指针定位到边框的左上角。
4. 不移动指针，按**空格键**开始新的矩形多边形。
5. 将指针移动到 **X1350,Y -50** 位置。
6. 点击完成多边形。

## 为 PCB 封装添加禁止区域 \{#3}

在 `SailWind Layout` 中，您可以将某个区域定义为过孔、走线和其他设计对象的禁止区域。可以在 PCB 上或 PCB 封装内定义禁止区域。

在本练习中，您将为连接器定义过孔禁止区域。

1. **禁止区域**按钮。

2. 右键点击并选择**矩形**。
3. 将指针定位到边框的左上角，点击开始绘制禁止区域矩形。
4. 将指针移动到边框的右下角，点击完成多边形。
5. 在"添加绘图"对话框的限制区域，勾选**过孔和跳线**复选框以分配禁止区域限制。
6. 在层列表中点击**<所有层>**将禁止区域分配到所有层。
7. 点击**确定**完成禁止区域定义。

## 分配 PCB 封装属性 \{#4}

在 `SailWind Layout` 中，您可以为元件或元件类型分配属性，如制造商零件编号、公司零件编号、高度和其他元件特定信息。您也可以为 PCB 封装分配属性。

**添加高度属性**

1. **编辑**菜单 > **属性管理器**。

2. 如果 Geometry.Height 属性不在列表中：

   a) 在"封装属性"对话框中，点击**浏览库属性**。

   b) 在"浏览库属性"对话框中，点击**刷新**更新属性列表以查看库中所有使用的属性。

   c) 在属性列表中点击**Geometry.Height**，然后点击**确定**将高度属性添加到封装。

3. 双击值框，输入**300**（当前单位为密耳，即 0.300 英寸）。

4. 点击**关闭**。

## 为 PCB 封装添加属性标签 \{#5}

您可以在设计中以文本标签形式显示属性。您还可以添加额外的标签以满足位号的不同尺寸和位置要求。每个标签的可见性和位置在布局编辑器中管理。

您可以通过在 PCB 封装中添加占位标签来预定义属性标签的位置。这些占位标签将成为布局编辑器中新增或可见标签的默认位置。

**为封装添加位号标签**

在本练习中，您将为连接器封装添加装配图位号标签。使用"添加新标签"命令将标签添加到 PCB 封装。

1. 点击添加新标签按钮 。

    > [!NOTE]
	>
    > 点击"添加新标签"按钮后，新标签会出现在当前 Name 标签下方，并打开"添加新封装标签"对话框。
   
2. 在属性列表中，点击**Ref.Des.**将新标签分配为附加位号标签的占位符。
3. 在显示列表中，点击**值**，仅启用属性值的显示。
4. 通过在 X 框中输入**600**，Y 框中输入**150**来更改标签位置。在水平和垂直对齐列表中点击**居中**。
5. 在层列表中，点击**顶层装配图**将文本分配到顶层装配图层。
6. 点击**确定**关闭对话框并完成标签添加。

   > [!TIP]
   >
   > 如果在"显示颜色设置"对话框中没有为"顶层装配图"层上的对象分配颜色，新标签将不会显示。

   **例外：** 位号颜色由 Pin Num.标签选项控制，而非属性。元件类型颜色由 Type 标签选项控制，而非属性。

**定位其他标签**

将 Name 和 Type 标签定位在封装中文本不会被遮挡的位置。

1. 选择按钮。

2. 未选择任何对象时，右键点击并选择**选择文本/绘图**。
3. 选择每个标签，按**Ctrl+E**移动。
4. 将它们放置在教程开头"创建 PCB 封装"部分所示的大致位置。
5. 点击完成移动。

**保存 PCB 封装**

您已在 `SailWind Layout` 中创建了第一个 PCB 封装。将其保存到库中。

1. 点击保存按钮 **。**
2. 在"保存 PCB 封装到库"对话框中，点击**…\preview**库。
3. 在 PCB 封装名称框中输入**26pinconn**。
4. 点击**确定**并确认可能出现的覆盖文件提示。

## 创建新元件类型 \{#6}

现在您已完成教程所需的 PCB 封装，接下来将使用元件类型编辑器为新的 26 管脚连接器创建元件类型。

**分配常规参数**

创建连接器元件类型的第一步是将其定义为连接器并分配 PCB 封装。

1. **主页**菜单 > **库**。
2. 要在 preview 库中创建新元件类型，在库列表中点击**…\preview**。
3. 点击**元件**按钮。
4. 点击**新建**。
5. 在"元件信息"对话框中，点击**常规**选项卡。
6. 在逻辑系列列表中滚动并选择**CON**系列类型，这将为此元件类型设置默认位号前缀 J。
7. 要将元件类型定义为连接器，在选项区域勾选"特殊用途"复选框，并点击**连接器**。

**分配 PCB 封装**

下一步是为元件类型分配 PCB 封装。

1. 点击**PCB 封装**选项卡。
2. 在库列表中点击**…\preview**库。
3. 在筛选框中输入**26p\***并点击**应用**。
4. 在未分配封装列表中点击**26PINCONN**封装。
5. 点击**分配**将封装移动到已分配封装列表。

**添加元件类型属性**

您可以在 PCB 封装中添加属性标签。对于元件类型，您需要添加属性及其对应的值。可以直接在属性单元格中输入属性，或从 SailWind 库中的所有属性列表中选择。

![](/layout/tutorial/2/_page_5_Picture_28.jpeg)

在本练习中，您将从库中为连接器元件类型添加属性。

1. 点击**属性**选项卡。
2. 点击**添加**。
3. 点击**浏览库属性**。
4. 在"浏览库属性"对话框中，点击**Description**属性并点击**确定**。
5. 双击值单元格。
6. 在值单元格中输入**CONNECTOR, RIBBON, 26 PIN**。
7. 再次点击**添加**，重复上述步骤添加以下属性和值：

| 属性            | 值       |
| --------------- | -------- |
| Cost            | （留空） |
| Part Number     | MGEG26R  |
| Manufacturer #1 | ACME     |
| Manufacturer #2 | （留空） |

**分配 CAE 封装**

现在为元件类型分配逻辑封装。

1. 点击**连接器**选项卡。
2. 点击**添加**。
3. 从特殊符号单元格中点击**浏览**按钮。
4. 在"浏览特殊符号"对话框中，选择**…\misc**库中的**EXTIN**符号，点击**确定**。
5. 双击管脚类型单元格。
6. 在列表中点击**源**将输入管脚分配为源。
7. 再次点击**添加**，从新增的特殊符号单元格中点击**浏览**按钮。
8. 在"浏览特殊符号"对话框中，选择**…\misc**库中的**EXTOUT**符号，点击**确定**。
9. 双击管脚类型单元格。
10. 在列表中点击**负载**。

**保存元件类型**

现在元件类型定义已完成，保存新元件类型。

1. 点击**确定**。
2. 在"保存元件类型到库"对话框中，导航到**…\preview**库，将元件类型命名为**26pinconn**，点击**确定**。确认可能出现的覆盖文件提示。
3. 在库管理器对话框中，点击**关闭**。

## 使用封装向导创建 PCB 封装 \{#7}

PCB 封装编辑器提供对话框驱动的 PCB 封装向导。这些向导提供自动化工具，可自动创建标准封装图案。

**创建 SOIC 封装**

现在您已体验了使用 PCB 封装编辑器中的交互工具创建 PCB 封装，接下来将使用 PCB 封装编辑器中的自动化工具创建下图所示的 SO28 PCB 封装。

1. 在绘图工具栏中，点击向导按钮 **。**

2. 在"封装向导"对话框中，点击**双列**选项卡。

3. 在封装区域的器件类型部分，点击**SMD**。

4. 在方向部分，点击**水平**。

5. 在管脚区域输入以下内容：

     a. 在管脚数量框中输入**28**

     b. 在宽度框中输入**24**

     c. 在长度框中输入**90**

     d. 在管脚间距框中输入**50**

6. 在行间距区域，点击**中心到中心**并在值框中输入**450**。

7. 在**管脚 1 形状**和**管脚形状**部分，均点击**椭圆形**。

8. 在布局边框区域，在宽度框中输入**600**，在高度框中输入**800**。

10. 在散热焊盘区域，取消勾选**创建**复选框。

10. 点击**确定**。PCB 封装将自动创建。

      > [!NOTE]
      >
      >  您只需几个简单步骤就创建了一个 28 管脚 SOIC。

11. 在文件菜单中，点击**退出封装编辑器**返回布局编辑器。
12. 不要保存设计副本。

**您已完成元件创建教程。**

![](/layout/tutorial/2/_page_7_Figure_22.jpeg)

![](/layout/tutorial/2/_page_7_Figure_24.jpeg)