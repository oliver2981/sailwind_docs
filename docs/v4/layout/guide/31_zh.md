# 第31章 铜平面操作

*铜平面*是一个封闭的、不自交的多边形，提供对全局必需网络（如电源和地）的访问。一个设计可能使用多个铜平面。大多数PCB设计将平面放置在仅用于平面的内层上，尽管您也可以将它们放置在外层。平面区域可以占据其所在层的全部或部分。两个或多个部分平面可以占据一个层，每个服务于不同的网络。这种配置称为*分割平面*。

铜平面上可以有绝缘走线和过孔穿过平面区域，只要走线不分割平面破坏连接性。

您可以使用绘图工具在667页手动创建平面区域，或使用创建铜平面功能在668页自动创建，以板轮廓为参考。在将层标识为分割/混合平面层并为层分配网络后，您可以添加平面区域。

更多信息请参见779页的"铜形状和铜平面之间的差异"，以及683页的"分割/混合平面层"。

以下主题描述了创建铜平面的方法以及如何为它们分配网络。它们还提供了与铜平面填充、分割平面区域、热连接和故障排除相关的详细信息。

手动创建铜平面 自动创建铜平面 自定义设计规则热焊盘 自定义设计规则反焊盘 将网络关联到铜平面 为分割/混合平面层分配网络 控制铜平面中热焊盘的显示 系统提示的铜平面填充 铜平面填充故障排除 热焊盘结果故障排除 铜平面与板轮廓之间的间距 分割/混合平面层 分割平面的创建 自动分离铜平面 嵌入式铜平面 创建铜平面切口 分配铜平面热属性 保存时丢弃铜平面数据 连接到铜平面的焊盘连接显示

## 手动创建铜平面

使用铜平面创建一个铜区域，避免与其关联网络不连接的物体，同时与连接到其关联网络的物体建立热连接。

填充的铜平面会自动与不共享相同网络分配的走线、引脚和其他物体保持间距。

更多信息请参见779页的"铜形状和铜平面之间的差异"。

**步骤**

1. 在绘图工具栏上，点击**铜平面**按钮。
2. 右键点击并点击命令以更改绘图对象的值。更多信息请参见"在创建绘图对象前设置值"。
3. 使用以下方法之一创建形状：
   - 创建圆形绘图对象
   - 创建多边形或路径绘图对象
   - 创建矩形绘图对象
4. 在显示的添加绘图属性对话框1328页中：
   - a. 通过在网络列表中选择网络名称来分配网络；或者您可以点击**通过点击分配网络**按钮并点击连接到网络的绘图对象。
   
   当您在分割/混合层上创建铜平面时，可以选择"仅显示平面网络"复选框，将网络限制为仅在层设置中分配给分割/混合平面层的网络。

   - b. 对铜平面属性进行其他适当的更改。
5. 点击**确定**。
6. 查看结果形状。
   - 如果焊盘与铜之间的热焊盘或反焊盘间隙不正确，请参见669页的"自定义设计规则热焊盘"或670页的"自定义设计规则反焊盘"。
   - 如果形状边缘不正确，请参见615页的"绘图形状的边缘精度"。
   - 如果需要修改形状，请参见"绘图对象属性"。
   - 如果要重新开始，请参见"删除绘图段或对象"。

**相关主题**

填充铜平面

## 自动创建铜平面

您可以通过复制板轮廓的形状来创建铜平面。生成的形状比轮廓按比例缩小，并包括板轮廓中存在的斜角或小凹口。

**步骤**

1. 在标准工具栏上，在层列表中将活动层设置为非平面层或分割/混合平面层。
2. 选择板轮廓。
3. 右键点击并点击**创建铜平面**弹出菜单项。
4. 在添加绘图对话框中，在网络分配区域，使用网络下拉列表或**通过点击分配网络**按钮为铜平面分配网络。

您可以使用"仅显示平面网络"复选框将网络列表限制为仅在层设置中分配给层的网络。您也可以从下拉列表中选择"无"，稍后再关联网络。如果列表中仅显示"无"，则表示在层设置中尚未将网络分配给分割/混合平面层。当您为铜平面分配网络时，与这些网络关联的焊盘如果位于适当的多边形内，将获得热指示器。

**提示** 当您使用创建铜平面时，可能会收到一条错误消息，指示625页的自交多边形。这是因为生成的平面区域比板轮廓按比例缩小，软件无法使用指定的线宽在板轮廓中创建小的斜角和/或凹口。通过减小板轮廓与平面之间的距离来纠正此错误。在**工具 > 选项**（菜单项），**铜平面**类别，**填充和填充**子类别中，为自动分离间隙设置输入较小的值。或者，您可以为铜平面使用较小的线宽（如果选择此方法，您还需要减小铜填充网格以匹配，以保持铜平面的实心填充。生成更多填充线会消耗更多内存，如果线宽大大减小，可能会减慢操作速度）。

**相关主题**

填充铜平面

## 自定义设计规则热焊盘

您可以自定义铜平面内引脚、虚拟引脚和过孔的默认热焊盘。默认热焊盘取决于热焊盘选项的辐条设置以及引脚焊盘或过孔焊盘与铜之间的铜到焊盘或铜到过孔间距规则值。

**步骤**

1. 选择**工具 > 选项**菜单项，然后选择**铜平面**类别，再选择**热焊盘**子类别以查看1514页的热焊盘选项。

有单独的设置用于钻孔（通孔）和SMT（表面贴装）焊盘。

2. 在辐条宽度框中设置辐条的宽度。
3. 在辐条最小值框中设置允许的最小辐条数。
4. 对于每个焊盘形状，设置辐条的方向。

**提示**

如果您只想在过孔上填充，可以在铜平面的属性中启用一个选项。参见"填充和填充选项对话框"中的"在过孔上填充"复选框。

5. 如果您希望路由的焊盘也具有热连接，请选择"为路由组件焊盘添加热焊盘"复选框。
6. 打开1674页的设计规则。在设计规则层次结构的任何适用级别中，在1167页的间距规则中，根据设计需要设置铜到焊盘和铜到过孔的值。

**结果**

- 填充铜平面后，如果任何焊盘接收的辐条少于最小辐条值，则会生成*therm.err*报告。例如，如果焊盘与铜平面的边界相交，可能无法创建所有四个辐条。
- 填充铜平面后，如果任何焊盘未能接收到热焊盘，请使用选择过滤器检查焊盘上的走线残段。如果选择了"为路由组件焊盘添加热焊盘"复选框（在选项对话框中，**铜平面**类别，**热焊盘**子类别），连接到焊盘的小残留走线段会阻止焊盘接收热焊盘。将选择过滤器设置为走线、拐角和钉以选择和移除连接到焊盘的走线段。

## 自定义设计规则反焊盘

您可以自定义铜平面内引脚、过孔或钻孔周围出现的默认反焊盘。默认反焊盘取决于铜到焊盘、铜到过孔或铜到钻孔间距规则值，用于焊盘、过孔焊盘或钻孔与铜之间的间距。您可以将间距值应用于铜平面的网络或焊盘/过孔的网络。

**步骤**

1. 点击**设置> 设计规则**菜单项。
2. 在1674页的设计规则对话框中，在设计规则层次结构的任何适用级别中，在1167页的间距规则中，根据设计需要设置铜到焊盘、铜到过孔和铜到钻孔的值。

![](/layout/guide/31/_page_3_Picture_13.jpeg)

**提示** 通过将间距应用于铜平面的网络而不是焊盘，您可以影响铜平面内的所有焊盘、过孔和钻孔。但通过将间距应用于焊盘和过孔的网络而不是铜平面，您可以实现不同的反焊盘间距。或者您可以使用组合 - 将一般最小间距应用于铜平面的网络，并将较大的间距应用于需要较大反焊盘的物体的网络。

**结果**

- 当您处理反焊盘时，涉及两个网络。如果您没有得到预期的结果，请确保所涉及的其他网络的间距值不与您已更改的值冲突。较大的间距值始终具有优先权。
- 对于通孔引脚和过孔，如果选择了"使用设计规则进行热焊盘和反焊盘"复选框，则应用铜到钻孔值。
- **工具 > 选项**（菜单项），**铜平面**（类别），**热焊盘**（子类别）选项"移除未使用的焊盘"和"使用设计规则进行热焊盘和反焊盘"都会影响反焊盘的间距。

**相关主题**

自定义设计规则热焊盘

## 将网络关联到铜平面

您可以在设计过程中的任何时候将网络与铜平面关联。这使您可以在创建时灵活地为铜平面分配网络，或者创建铜平面，然后在将来的某个时间将特定网络与铜平面关联。

**步骤**

1. 选择铜平面轮廓。
2. 右键点击并点击**属性**弹出菜单项。
3. 从**网络**列表中选择一个网络。
4. 点击**确定**。

**示例**

使用绘图属性对话框将网络关联到铜平面，如果：

- 您在将网络分配给层设置对话框中的铜平面之前创建了铜平面。
- 当您分割铜平面时，您从"为所选多边形分配网络"对话框中选择"无"。
- 您希望将不同的网络关联到铜平面。

## 为分割/混合平面层分配网络

定义平面层后，您可以将适当的网络分配给这些层，以建立设计中所需的连接性。

使用层设置对话框中的分配网络为一个或多个网络分配分割/混合平面层。

**步骤**

1. 点击**设置> 层定义**菜单项。
2. 选择一个分割/混合平面层并点击**分配网络**按钮。
3. 从所有网络列表中选择一个网络。

![](/layout/guide/31/_page_5_Picture_5.jpeg)

**注意：** 您可以根据需要将网络分配给多个层。

4. 点击**添加**将网络移动到分配的网络列表框。
5. 重复上述步骤以关联其他网络。
6. 点击**确定**关闭平面层网络对话框。
7. 点击**确定**关闭层设置对话框。

**相关主题**

手动创建铜平面

自动创建铜平面

分割平面的创建

## 控制铜平面中热焊盘的显示

使用选项对话框 > **铜平面**类别 > **热焊盘**子类别来控制热信息的显示。

更多信息请参见"分配铜平面热属性"。

使用"活动层前置"复选框在**工具 > 选项**（菜单项），**全局**（类别），1531页的常规子类别中查看热焊盘和反焊盘间距的更多细节。当选择此复选框时，当当前层是分割/混合平面层时，可以看到焊盘或过孔形状的小轮廓。如果热焊盘显示属性设置正确，热焊盘图形会出现在属于铜平面网络的所有引脚和过孔上。

![](/layout/guide/31/_page_6_Picture_1.jpeg)

**图80. 活动层设置禁用（上）和启用（下）**

![](/layout/guide/31/_page_6_Picture_3.jpeg)

## 系统提示的铜平面填充

当您使用某些命令操作时，系统会提示您填充铜平面。填充提示在您验证设计或运行CAM生成命令时出现。

**验证设计**

当您使用**工具 > 验证设计**菜单项，并执行铜平面检查（并在设置中选择"检查间距和连接性"选项）时，软件会检查正确的设置，如果需要，创建铜平面（如果仅分配了一个网络）。然后软件会提示您自动填充铜平面。更多信息请参见"验证设计"。

**运行CAM**

当您在分割/混合平面层上运行CAM时，软件会检查正确的设置，如果需要，创建铜平面。然后软件会提示您自动填充铜平面。更多信息请参见"创建所有输出"。

## 铜平面填充故障排除

铜平面填充需要特别注意，以确保连接性与设计意图匹配。

**解决方案**

以下情况可能会阻止铜平面填充。

**铜平面内没有网络的焊盘**

确保至少有一个分配给铜平面的网络的焊盘位于形状内。

**铜平面内没有钻孔焊盘**

通常，非钻孔焊盘的默认设置是不启用平面热焊盘属性。为非钻孔焊盘启用平面热焊盘属性，允许它们通过热焊盘连接到铜平面。选择焊盘，右键点击并点击**属性**弹出菜单项。在引脚属性对话框中，选择平面热焊盘复选框。这会导致系统根据层和网络重新检查哪些引脚应该获得平面热焊盘。

**铜平面内没有焊盘或过孔启用了平面热焊盘属性**

为焊盘和过孔启用平面热焊盘属性，允许它们通过热焊盘连接到铜平面。选择焊盘，右键点击并点击**属性**弹出菜单项。在引脚属性对话框中，选择平面热焊盘复选框。这会导致系统根据层和网络重新检查哪些引脚和过孔应该获得平面热焊盘。对过孔重复此过程。

**未定义铜平面**

确保您可以看到铜平面的轮廓。

**多个铜平面相交或定义在彼此之上**

其中一个铜平面必须具有优先权，您必须创建另一个平面的切口。您可能会受益于启用"在嵌入式铜平面周围创建切口"选项，通过选择**工具 > 选项**菜单项，铜平面（类别），1511页的"填充和填充"子类别找到。有关为铜平面提供填充优先权的信息，请参见"填充和填充选项对话框"中的填充优先权设置。填充优先权数字对于内部嵌套的铜平面应该最低，对于外部铜平面应该最大。

**您在铜平面区域填充时修改了铜平面轮廓**

使用无模命令PO将平面区域返回到基本平面轮廓，然后修改轮廓的形状。

**您有嵌入式/嵌套铜平面**

您必须首先创建最大的铜平面，然后创建较小的内部铜平面。（只要您选择**工具 > 选项**菜单项，然后**铜平面**（类别），**填充和填充**（子类别），然后"在嵌入式铜平面周围创建切口"复选框，这会自动分配正确的填充优先权并在较大的分割平面内创建所需的铜平面切口。）

如果您忽略了选择"在嵌入式铜平面周围创建切口"选项，或者您只是首先创建了内部铜平面区域，则铜平面区域具有冲突的填充优先权值并且无法填充。您必须决定铜平面应填充的顺序，并相应地调整它们的填充优先权。有关为铜平面提供填充优先权的信息，请参见"填充和填充选项对话框"1381页中的填充优先权设置。如果您只有一个内部铜平面，有一种更快的方法可以给它更高的填充优先权。使用PO无模命令将平面返回到轮廓模式。选择平面区域形状，右键点击并点击**前置**弹出菜单项。系统识别新的填充优先权并填充铜平面。

**走线或引脚阻止填充与同一网络的任何焊盘连接**

您必须释放当前宽度和网格设置的填充空间，以流动并至少与同一网络的一个焊盘通过热焊盘连接。

**您的最小填充区域设置太大**

在**工具 > 选项**（菜单项），**铜平面**（类别），1511页的"填充和填充"子类别中，检查"最小填充区域"并确保输入的值不大于铜平面大小。

**您的禁止区域限制了铜平面**

为所有层的禁止区域分配颜色，并确保它们不限制铜平面的位置和层。

**您隐藏了填充**

确保填充可见。**工具 > 选项**（菜单项），**铜平面**（类别），1511页的"填充和填充"子类别，在填充视图区域，点击正常而不是无填充。

**您将热焊盘选项设置为不连接**

确保钻孔和非钻孔焊盘在1514页的热焊盘选项中有正交、对角线或填充设置。

**您已经路由到位于平面区域内同一网络的所有可用焊盘**

<span id="page-8-0"></span>如果与填充或平面同名的网络已经路由，请确保在1514页的热焊盘选项中选择了"为路由组件焊盘添加热焊盘"复选框。

## 热焊盘结果故障排除

当您填充（填充/浇注）铜平面时，热焊盘错误报告（*therm.err*）可能会出现在您的默认文本编辑器中。当铜平面内的焊盘根据您在**工具 > 选项**菜单项，铜平面（类别），热焊盘（子类别）中的设置未接收到最小数量的辐条时，会出现此文件。

**热焊盘错误报告**

报告部分说明是否有少于100%甚至50%的热焊盘延伸。在每个部分下方，列出了参考标识符与引脚号（如果是组件焊盘）、焊盘坐标位置以及实际生成的热焊盘辐条数量。

例如：

```
钻孔焊盘
热焊盘延伸少于50%
热焊盘辐条生成器报告
在主组件侧：
J1.5 (455, 650) # = 2
```

这表示参考标识符J1的引脚5，坐标455, 650仅生成了2个热焊盘辐条。此焊盘所需的热焊盘辐条应为4个或更多。热焊盘辐条数量减少可能有多种原因，例如走线太靠近焊盘的间距问题，或者铜平面轮廓宽度和填充网格对于铜在组件引脚之间填充来说太大等。

**解释热焊盘结果**

您可以解释热焊盘结果以检测设计中的问题热焊盘问题。

如果结果不符合预期，请考虑以下事项：

- 如果大量焊盘和/或过孔生成了零个热焊盘辐条，则可能存在未填充的铜平面。更多信息请参见"铜平面填充故障排除"。
- 如果只有少数焊盘或过孔生成了零个热焊盘辐条，并且没有明显的障碍阻止它们的创建，您可能遇到这些焊盘或过孔未启用平面热焊盘属性的情况。为这些焊盘和过孔启用平面热焊盘属性，允许它们通过热焊盘连接到铜平面。选择焊盘，右键点击并点击**属性**弹出菜单项。在引脚属性对话框中，选择平面热焊盘复选框。这会导致系统根据层和网络重新检查哪些引脚和过孔应该获得平面热焊盘。对过孔重复此过程。

## 铜平面与板轮廓之间的间距

许多因素会影响您构建铜平面的方式以及它们与设计中其他物体的关系。

**平面边缘退缩**

对于任何平面区域，希望填充的平面边缘稍微从板的边缘退缩。这可以防止平面边缘在板修剪过程中暴露，并消除平面意外短路到另一个设计或包装物体的可能性。在自动生成平面区域时，您必须考虑两个重要测量：

- 板轮廓与平面区域轮廓之间的距离
- 板轮廓与填充后平面区域内的铜（填充轮廓）之间的距离

**板轮廓**

绘制的2D线表示板轮廓。选项对话框的**文本和线**类别中的默认宽度设置确定生成时的线宽。您可以通过选择板轮廓并在绘图属性对话框中更改宽度来更改板轮廓宽度。

用于表示板轮廓的线旨在作为视觉参考，指示设计工作区以及CAM图中的板周长。更改此线的宽度不会改变板的尺寸，因为实际的板边缘位于此2D线的中心线上。

**平面区域浇注轮廓**

您可以通过定义其浇注轮廓来创建平面区域。当您创建平面区域浇注轮廓时，您指定表示形状可见边界的线的宽度。此轮廓的外边缘表示形状填充时铜的最大范围。板到铜间距规则影响设计如何引用此形状的边缘，并可以在需要时修改铜填充的范围。

有关如何创建平面区域浇注轮廓的更多信息，请参见615页的"绘图形状的边缘精度"。

**自动分离间隙**

您可以将单个平面区域形状分割为两个或多个形状。当您分割平面区域时，您可以通过为自动分离间隙指定一个值来控制这些多个平面区域形状之间的所需间距（选择**工具 > 选项**菜单项并点击**铜平面**类别 > **填充和填充**子类别以访问此设置）。

用于创建平面区域浇注轮廓的线是绘图对象并具有宽度。如果您为自动分离间隙指定了一个值，则此值用于计算这些线边缘之间的距离。因此，如果您为自动分离间隙指定25 mil的值，平面区域浇注轮廓将彼此相隔25 mil的距离。此距离是用于绘制平面区域形状的线外边缘之间测量的。

![](/layout/guide/31/_page_11_Figure_1.jpeg)

**图81. 自动分离间隙**

![](/layout/guide/31/_page_11_Picture_3.jpeg)

**警告：**

当同一层上存在多个平面区域时，填充优先权分配确定最终分离间隙（参见填充优先权设置）。

当使用板轮廓形状自动生成平面区域时，自动分离间隙在用于确定平面区域从板边缘退缩的距离的计算中被考虑。

**限制：**

如果为自动分离间隙指定0的值，则在此计算中使用10 mil的不可编辑系统默认值。

有关如何创建分割平面的更多信息，请参见683页的"分割/混合平面层"。

**平面区域浇注轮廓从板轮廓退缩**

绘制板轮廓的线是绘图对象，因此它具有宽度，因此任何与板轮廓共享边界的平面区域使用自动分离间隙值来确定它们必须从板边缘退缩的最小距离。

此退缩距离是从用于绘制板轮廓的线的内边缘测量的。由于板边缘位于定义板轮廓的线的中心，此线宽度的一半在板边缘内部，因此产生的平面区域浇注轮廓退缩距离是自动分离间隙指定的值加上用于绘制板轮廓的线宽度的一半的总和。

**示例：** 如果板轮廓宽度为10 mil，自动分离间隙设置为25 mil，则产生的平面区域浇注轮廓退缩距离将是自动分离间隙值（25 mil）加上线宽度值的一半（5 mil），总共距离板边缘30 mil。

![](/layout/guide/31/_page_12_Figure_1.jpeg)

**图82. 平面区域浇注轮廓从板轮廓退缩**

**例外示例：** 如果没有为自动分离间隙指定值，系统使用系统默认值并将平面区域浇注轮廓放置在用于绘制板轮廓的线的内边缘10 mil处，因此产生的平面区域浇注轮廓退缩距离将是系统默认值（10 mil）加上线宽度值的一半（5 mil），总共距离板边缘15 mil。

![](/layout/guide/31/_page_12_Figure_4.jpeg)

![](/layout/guide/31/_page_12_Figure_5.jpeg)

**平面填充填充轮廓从板轮廓退缩**

当平面区域靠近板边缘时，设计规则中的板到铜间距值通常控制平面填充填充轮廓退缩。但是，如果确定平面区域浇注轮廓退缩的计算结果值大于板到铜设计规则，则它具有优先权。

平面区域根据以下条件填充：

1. 如果板到铜值大于自动分离间隙加上板轮廓宽度的一半，则平面填充边界（填充轮廓）被退缩，铜填充从板边缘退缩到等于板到铜间距值的距离。
2. 如果在板到铜间距中设置的值等于或小于自动分离间隙加上板轮廓线宽度的一半，则平面填充边界不减小，区域填充到现有的平面形状边缘。

有关平面填充填充轮廓如何填充的更多信息，请参见617页的"铜和铜平面的填充"

**平面填充从板轮廓退缩的示例**

SailWind Layout根据各种设计条件计算平面填充退缩距离。下表提供了如何计算平面填充退缩距离的示例。

| 参数                  | 示例A | 示例B | 示例C | 示例D |
|-----------------------|-------|-------|-------|-------|
| 板轮廓宽度            | 10 mil | 10 mil | 10 mil | 10 mil |
| 自动分离间隙          | 25 mil | 0     | 25 mil | 0     |
| 板到铜                | 50 mil | 50 mil | 0     | 0     |
| 结果                  |       |       |       |       |
| 到浇注轮廓的距离      | 30 mil | 15 mil | 30 mil | 15 mil |
| 到填充轮廓的距离      | 50 mil | 50 mil | 30 mil | 15 mil |

**表110. 确定平面填充退缩距离的示例数据**

**示例A**

板到铜值大于计算的平面区域浇注轮廓退缩，因此板到铜值用于填充轮廓退缩。

![](/layout/guide/31/_page_14_Figure_1.jpeg)

**图84. 平面退缩示例A**

**示例B**

板到铜值大于计算的平面区域浇注轮廓退缩（使用自动分离间隙默认值），因此板到铜值用于填充轮廓退缩。

![](/layout/guide/31/_page_14_Figure_5.jpeg)

**图85. 平面退缩示例B**

**示例C**

板到铜值等于或小于计算的平面区域浇注轮廓退缩，因此平面区域浇注轮廓退缩值用于填充轮廓退缩（与浇注轮廓重合）。

![](/layout/guide/31/_page_15_Figure_1.jpeg)

**示例D**

板到铜值大于计算的平面区域浇注轮廓退缩（使用自动分离间隙默认值），因此板到铜值用于填充轮廓退缩。

![](/layout/guide/31/_page_15_Figure_4.jpeg)

**图87. 平面退缩示例D**

**警告：**

由于填充操作可以减少实际填充区域，填充操作后始终检查平面连接性，以确保没有不连续性或热焊盘不足。

## 分割/混合平面层

SailWind Layout支持创建分割和混合平面层。分割平面层是具有一个或多个具有不同网络分配的隔离铜区域的平面层。混合平面层是具有一个或多个铜平面和任意数量信号路由的平面层。

在许多设计中，通常需要为电压和地网络创建大的铜区域。为此，创建一个专用于单个网络（通常是电源或地网络）的内部层。尽管通常有一个平面层专用于单个网络，但具有多个电压要求的设计需要您将平面层分离或分割为隔离区域。在设计非常密集的设计时，您可以使用分割/混合平面层进行正常信号路由。

**设置> 层定义**菜单项包括一个用于标识分割/混合平面层的选项，2-D绘图命令包含用于创建封闭形状以定义铜平面和空隙（无铜区域）的选项。当您在标识为分割/混合平面层的层上路由时，会自动在走线和引脚对周围创建间距：走线实际上是通过铜平面犁过的。

铜平面操作还充分利用了设计规则驱动的间距和热焊盘生成。当您创建带有嵌入式走线的铜平面时，它们的间距可以基于自定义热焊盘间距、设计规则间距或全局间距。

<span id="page-16-1"></span>如果您使用分割/混合平面并且还使用SPECCTRA进行路由，请参见"SPECCTRA和分割/混合平面"。

## 分割平面的创建

您可以在分割/混合平面层上创建多个铜平面。

有三种推荐的方法来分割平面层：

- **创建多个铜平面** 更多信息请参见667页的"手动创建铜平面"和668页的"自动创建铜平面"。
- **自动分离铜平面** 使用自动平面分离工具将覆盖整个层或大区域的铜平面分割为两个或多个铜平面。更多信息请参见683页的"自动分离铜平面"。
- **创建嵌入式铜平面** 在另一个铜平面内嵌入一个铜平面。更多信息请参见685页的"嵌入式铜平面"。

## 自动分离铜平面

使用**自动分离**按钮将铜平面分割为两个新的铜平面。使用自动分离，您可以从铜平面的一侧绘制路径到同一平面的另一侧。此路径定义了两个新铜平面之间的分离中心，并将铜平面分割为两个不同的形状。

**限制和局限性**

• 您必须开始和结束在同一铜平面多边形上的分离。

**步骤**

1. 在标准工具栏上，在层列表中点击分割/混合平面层。
2. 使用以下方法之一：
   - 对于对象模式，右键点击并点击**选择任何对象**弹出菜单项。点击铜平面段上的分割起点。右键点击并点击**自动分离**。
   - 对于动词模式，在标准工具栏上，点击**绘图工具栏**按钮。在绘图工具栏上，点击**自动铜平面分离**按钮。点击以指示铜平面多边形周边上的起始位置。
3. 在铜平面轮廓上的结束点双击以完成自动分离命令。

分配网络到所选多边形对话框显示并自动选择一个新的铜平面。对话框中出现的网络名称是在层设置中分配给分割/混合层的网络名称。

4. 从选择现有网络区域，点击一个网络分配给所选铜平面。

这分配网络，取消选择铜平面，并选择另一个铜平面。

![](/layout/guide/31/_page_17_Picture_10.jpeg)

**提示** 自动分离路径的任何段都不能在多边形之外，否则会出现消息"所有段必须在铜平面多边形内"。

5. 为另一个铜平面点击一个网络。这分配网络，取消选择铜平面并关闭对话框。

![](/layout/guide/31/_page_17_Picture_13.jpeg)

**提示** 使用**工具 > 选项**（菜单项），铜平面（类别），1511页的填充和填充（子类别），自动分离间隙选项定义两个铜平面之间的距离。

6. 如果出现消息"无法缩小多边形#1"或"无法缩小多边形#2"，则将每个新多边形缩小线宽的一半。在此操作期间发生错误（可能是自交）。

## 嵌入式铜平面

嵌入式铜平面使您能够在特定层上创建多个铜平面，并控制它们的构造如何相互交互。

您可以使用以下方法之一嵌入铜平面（在一个铜平面内创建另一个铜平面）：

从最外层到最内层区域创建嵌入式铜平面 通过优先排序、添加切口和组合创建嵌入式铜平面

### 从最外层到最内层区域创建嵌入式铜平面

创建嵌入式铜平面时，从最外层区域到最内层区域工作，以确保所有区域按预期填充。

**步骤**

1. 通过绘制铜平面创建最外层铜平面，如"手动创建铜平面"和"自动创建铜平面"中所述。
2. 使用绘图工具栏上的**铜平面**按钮创建内部铜平面。
3. 继续嵌套铜平面，直到您定义了层的所有嵌入式铜平面。

![](/layout/guide/31/_page_18_Picture_11.jpeg)

**提示** 嵌入式铜平面会自动前置，以便正确填充。要分配不同的填充优先权，请参见"填充和填充选项对话框"。

### 通过优先排序、添加切口和组合创建嵌入式铜平面

如果您在创建最外层铜平面之前绘制最内层铜平面，则无法确保正确填充。为确保嵌入式铜平面的正确填充，您可以执行两种方法之一：您可以更改嵌入式铜平面的填充优先权，或者您可以在嵌入式铜平面的外围创建铜平面切口，然后将其与外部铜平面组合。

**步骤**

选择以下之一：

- 选择嵌入式铜平面，右键点击并点击**前置**弹出菜单项。这将嵌入式铜平面设置为较低的"填充优先权"，确保它在外部铜平面之前填充。
- 或者，执行以下步骤：
  - i. 在所有嵌入式铜平面的外围创建铜平面切口。（更多信息请参见创建铜平面切口。）
  - ii. 选择铜平面切口多边形形状。
  - iii. 按下Ctrl键并选择下一个外部铜平面。
  - <span id="page-19-0"></span>iv. 右键点击并点击**组合**弹出菜单项。

## 创建铜平面切口

铜平面切口是一个封闭的、不自交的多边形，定义铜平面内的空隙。创建切口涉及将铜平面形状与铜平面切口形状组合。

![](/layout/guide/31/_page_19_Picture_7.jpeg)

**提示** 您可以在铜平面之前创建切口，或者在铜平面之前创建切口。

**限制和局限性**

- 尽管在填充轮廓模式下似乎会在铜平面的边缘或轮廓中创建空隙，但铜平面切口实际上不会改变铜平面轮廓。创建铜平面轮廓作为多边形形状以在轮廓中创建特征。
- 您必须将铜平面切口放在与铜平面相同的层上。

**步骤**

1. 在绘图工具栏上，点击**铜平面切口**按钮。
2. 为铜平面创建一个或多个切口区域。

参见"创建绘图对象"获取更多信息。

3. 右键点击并点击**选择形状**。

![](/layout/guide/31/_page_19_Picture_17.jpeg)

**提示** 如果您无法看到铜平面形状内的切口，因为形状已填充，请输入无模命令**PO**将铜平面返回到浇注轮廓显示模式。一旦您将切口与铜平面组合，您将需要重新填充铜平面。

4. 拖动一个框以组选择铜平面和切口。

![](/layout/guide/31/_page_19_Picture_20.jpeg)

**注意：** 某些情况下不允许拖动组选择框。相反，使用Ctrl +点击选择铜平面和切口。

5. 右键点击并点击**组合**弹出菜单项。
6. "填充铜平面"780页。

铜平面区域内的切口区域自动移除。如果您需要移动或编辑铜平面或切口，请注意您对铜平面形状（移动、旋转、斜接等）的任何修改也会影响组合的切口。您可能需要先取消组合。有关说明，请参见643页的"取消组合绘图对象"。

**结果**

![](/layout/guide/31/_page_20_Picture_5.jpeg)

**警告：**

从VX.2.3开始，铜填充到完成的切口轮廓的内边缘，而不是中心线。在VX.2.3之前，切口会增长线宽的一半，因为铜会填充到其中心线而不是作为预期边界的内边缘。

当您绘制切口形状时，绘制的几何图形以单屏幕像素线显示。

![](/layout/guide/31/_page_20_Picture_9.jpeg)

**图88. 绘制形状时的切口轮廓**

完成后，轮廓使用实际线宽，但完全位于绘制几何图形的外围之外，以帮助在填充前可视化切口。

![](/layout/guide/31/_page_21_Picture_1.jpeg)

**图89. 绘制和显示轮廓的复合**

一旦铜被浇注，它会浇注到绘制几何图形的外围 - 切口显示轮廓的内边缘。

![](/layout/guide/31/_page_21_Picture_4.jpeg)

**图90. 围绕切口几何图形的浇注**

## 分配铜平面热属性

热焊盘设置自动分配给设计中的所有焊盘堆栈。

使用引脚属性1632页、过孔属性1779页和跳线引脚属性1422页对话框中的平面热焊盘复选框来确定焊盘堆栈是否是合格的热焊盘候选。如果您不希望焊盘堆栈的任何层上有任何类型的热焊盘，请关闭平面热焊盘复选框。

更多信息请参见"生成热焊盘"。

**相关主题**

<span id="page-22-0"></span>控制铜平面中热焊盘的显示

## 保存时丢弃铜平面数据

如果需要，您可以丢弃铜平面数据，并在保存设计文件时仅保存平面多边形。

**步骤**

1. 点击**工具 > 选项**菜单项，**铜平面**（类别），**填充和填充**（子类别）。
2. 在保存到PCB文件区域，选择"铜平面多边形轮廓"选项并点击**确定**。
3. 点击**工具 > 铜平面管理器**菜单项以填充铜平面780页。
4. 保存设计。

"丢弃铜平面数据对话框"1314页出现。

5. 点击**继续**仅保存铜平面多边形。点击**全部保存**保存所有铜平面数据并更改未来保存的选项。

## 连接到铜平面的焊盘连接显示

您可以隐藏分配给铜平面的网络的连接线（鼠线或未路由连接）。平面网络通常是电源或地网络；隐藏它们可以帮助清理设计空间，并减少需要更困难路由的连接。

平面网络连接可以通过通孔引脚直接连接到铜平面，或通过扇出（短走线末端带有过孔）连接。这些网络通常不需要长走线，并且在部件的战略放置中通常不重要 - 除非它们所连接的铜平面仅在板的某个区域。您可以使用查看网络对话框隐藏设计中任何或所有网络的未路由连接。

更多信息请参见"查看网络对话框"。