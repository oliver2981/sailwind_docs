# Chapter 15 Via Setup
Read the following topics to learn more about the setup of vias.

For information about adding virtual pins to nets in your design, see Virtual Pins.

Defining Drill Pairs Creation of Vias Editing a Via Type Deleting a Via Type Tented Vias With Solder Mask Troubleshooting Via Usage

## Defining Drill Pairs
A *drill pair* is a pair of layer numbers specifying the starting layer and ending layer of a drilled hole. If you want to use one or more partial vias in your design, you must define a drill pair for each layer change specified in a via type.

Define drill pairs before you define partial via types or begin routing; after you define your drill pairs, SailWind Layout prevents you from performing actions (such as defining a via type, or making a layer change during routing) that do not conform to a defined drill pair.

If you are using both through-hole and partial vias in your design, you must also create an "all-layers" drill pair for the through-hole default via type; after any partial via type has been created, SailWind Layout requires that a drill pair be defined for all via types, including the through-hole default.

**Procedure**

- 1. Click the **Setup> Drill Pairs** menu item.
- 2. In the Drill Pairs Setup Dialog Box, click **Add** to add a line to the Drill Pairs list.
- 3. Select the starting layer from the Starting Layer list. The layer number is automatically indicated to the left of the list.
- 4. Select the ending layer from the Ending Layer list. The layer number is automatically indicated to the left of the list.
- 5. Repeat Steps 2 through 4 to add any additional drill pairs. You can change the starting or ending layer of a drill pair, or delete drill pairs.
- 6. Click **OK** to save the drill pairs.

![](/layout/guide/15/_page_0_Picture_15.jpeg)

**Tip** You can use up to 30 electrical layers when adding a partial via in default layer mode. You can use up to 64 electrical layers when adding a partial via in increased layer mode.

**Related Topics**

Creating a Partial Via Type

Creating a Through-hole Via Type

Drill Pairs Setup Dialog Box

Creating a Non-Drilled Single-Layer Via Type for Virtual Pins

## Creation of Vias
You can create three basic via types: Through-hole, Partial, and Non-drilled Single-Layer (the Partial via type includes both blind and buried vias).

Creating a Through-hole Via Type Creating a Partial Via Type Creating a Non-Drilled Single-Layer Via Type for Virtual Pins

### Creating a Through-hole Via Type
You can create a through-hole via type to use for vias and/or virtual pins.

**Prerequisites**

If any partial drill pairs exist in your design, an "all-layers" drill pair must also exist before you perform this procedure. See "Defining Drill Pairs".

**Procedure**

- 1. Click the **Setup> Pad Stacks** menu item.
- 2. In the Pad Stacks Properties Dialog Box, in the Pad Stack Type area, click Via.
- 3. Click **Add Via** to add a line to the Decal name list. A list of all previously defined via types appears in the Decal Name list.
- 4. In the Vias area, in the Name box, type the name of the new via.
- 5. Click Through to indicate that this is a Through-hole via type.
- 6. If needed, customize the pads for individual layers, as follows:
	- a. Select the layer from the "Sh: Sz: Layer: list". For more information, see "Pad Stack Default Layers" and "Control of Solder Mask and Paste Maskon page 209".
	- b. In the Parameters area, specify the settings on all three **Pad**, **Thermal**, and **Antipad** tabs. The style of pad used is selected automatically in the design depending on the situation. The thermal and antipad styles are used when the pad is located within a plane. For more informations, see "Design Rule Versus Pad Stack - Thermals and Antipads" on page 797.
	- c. Repeat Steps a and b for other layers, as needed.
- 7. Click **OK** to save the new via type.

**Related Topics**

Pad Sizes and Pad Stacks

Creating a Partial Via Type

Editing a Via Type

Creating a Non-Drilled Single-Layer Via Type for Virtual Pins

**Defining Drill Pairs**

Pad Stacks Properties Dialog Box

### Creating a Partial Via Type
You can create a partial via type to use for vias and/or virtual pins.

Partial vias can be either a blind viaor buried via.

For more information, see "Creating a Through-hole Via Type" and "Creating a Non-Drilled Single-Layer  Via Type for Virtual Pins".

**Prerequisites**

A drill pair specifying the starting and ending layers for the new partial via type must exist. For more information, see "Defining Drill Pairs".

**Procedure**

- 1. Click the **Setup> Pad Stacks** menu item.
- 2. In the Pad Stacks Properties Dialog Box, in the Pad Stack Type area, click Via.
- 3. Click **Add Via** to add a line to the Decal name list. A list of all previously defined via types appears in the Decal Name list.
- 4. In the Vias area, type the name of the via type in the Name box.
- 5. Click Partial to indicate that this is a blind or buried via type.
- 6. Select the starting and ending layers from the Start Layer and End Layer lists.
- 7. If necessary, customize the pads for individual layers, as follows:
	- a. Select the layer from the "Sh: Sz: Layer:" list. For more information, see "Pad Stack Default Layers" and "Control of Solder Mask and Paste Mask".
	- b. In the Parameters area, specify the settings on all three **Pad**, **Thermal**, and **Antipad** tabs. The style of pad used is selected automatically in the design depending on the situation. The thermal and antipad styles are used when the pad is located within a plane. For more information, see "Design Rule Versus Pad Stack - Thermals and Antipads" on page 797.
	- c. Repeat Steps a and b for other layers, as needed.
- 8. If the partial via will be laser drilled, you can select the Laser check box to use the "Laser drill oversize" value in the Options Dialog Box, Design Category, for verifying spacing.
- 9. Click **OK** to save the new via type.

**Results**

If you are unable to use the new partial via type, check the following in the Default Routing Rules:

- Is your new via type in the Selected vias list and available for use in the design?
- Are both the from and to layers listed in the Selected layers list and available for routing?

**Related Topics**

Editing Pad Stacks

Creating a Through-hole Via Type

Editing a Via Type

Creating a Non-Drilled Single-Layer Via Type for Virtual Pins

Defining Drill Pairs

Pad Stacks Properties Dialog Box

### Creating a Non-Drilled Single-Layer Via Type for Virtual Pins
You can create a non-drilled (single-layer) pad via type to be used by virtual pins. You must create one of these for each layer on which you will use virtual pins. Use the Through via setting to create a single pad non-drilled via type.

**Procedure**

- 1. Click the **Setup> Pad Stacks** menu item.
- 2. In the Pad Stacks Properties Dialog Box, in the Pad Stack Type area, click Via.
- 3. Click **Add Via** to add a line to the Decal name list. A list of all previously defined via types appears in the Decal Name list.
- 4. In the Vias area, in the Name box, type the name of the new via type.
- 5. Click Through. You must use this setting to create a non-drilled via type.
- 6. From the "Sh: Sz: Layer:" list, select the layer on which virtual pins using this via type will be installed. For more information, see "Pad Stack Default Layers".
- 7. In the Parameters area, specify only the settings on the Pad tab. (The thermal and antipad styles are used only when the pad is located within a plane, and virtual pins are not allowed in plane nets.) For more information, see "Design Rule Versus Pad Stack - Thermals and Antipads" on page 797.
- 8. In the Drill size box, type 0 (zero).
- 9. For all other layers of the pad stack, in the Size box, type 0 (zero).
- 10. Click **OK** to save the new via type.

**Related Topics**

Creating a Through-hole Via Type

Creating a Partial Via Type

Adding a Virtual Pin to a Net

## Editing a Via Type
You can make changes to a via type and apply the changes to all objects that use that via type.

**Procedure**

- 1. Select a via or virtual pin.
- 2. Right-click and click the **Properties** popup menu item.
- 3. In the Via Properties on page 1779 or Virtual Pin Properties on page 1789 dialog box, click the **Pad Stack** button.
- 4. In the Pad Stacks Properties Dialog Box, click the via type to edit in the Decal Name list.
- 5. Change via settings as needed. Use the Parameters and Drill Size areas to reset the size and shape options.
- 6. When you finish making changes, click **OK**.
- 7. Click **Yes** to change all vias of the selected type.
- 8. Click **OK** to close the Via or Virtual Pin properties dialog box.

**Related Topics**

Editing Pad Stacks Creating a Through-hole Via Type Creating a Partial Via Type Creating a Non-Drilled Single-Layer Via Type for Virtual Pins Defining Drill Pairs Pad Stacks Properties Dialog Box

## Deleting a Via Type
Delete via types by deleting a via definition in the pad stacks.

**Procedure**

- 1. Click the **Setup> Pad Stacks** menu item.
- 2. In the Pad Stacks Properties Dialog Box, in the Pad Stack Type area click Via.
- 3. Click a via type name in the Decal Name list.
- 4. Click **Delete Via**.
- 5. Click **OK**.

**Related Topics Editing Pad Stacks Creating a Through-hole Via Type Creating a Partial Via Type**

Creating a Non-Drilled Single-Layer Via Type for Virtual Pins

Pad Stacks Properties Dialog Box

## Tented Vias With Solder Mask
You can cover vias with solder mask (a process known as "tenting" the via.)

While using an attribute to control soldermask openings is a quick method, you are unable to see the shapes in the design since they are generated when creating the gerber files. Adding custom solder mask shapes to pad stacks is more labor intensive but also allows the most control and customization of each pad stack. See the topics below for more information.

Tenting Vias By Adding a Custom Solder Mask Shape Tenting Vias By Adding an Attribute Verifying Via Tenting Results

### Tenting Vias By Adding a Custom Solder Mask Shape
Use the Pad Stacks dialog box to add a custom solder mask shape to one or both solder mask layers. Adding solder mask shapes to all pad stacks allows you to see solder mask openings in the design and also see when there are no openings in the solder mask. The Solder Mask layer also displays drill hole locations.

**Procedure**

- 1. On the **Setup** menu, click **Pad Stacks**.
- 2. In the Pad Stacks Properties Dialog Box, in the Pad Stack Type area, click **Via**.
- 3. Add a solder mask layer to the via type you want to be tented, as follows:
	- a. In the Decal name list click the name of the via type.
	- b. In the Vias area Name box, append "\_OPEN" to the via type name.
	- c. In the Sh: Sz: Layer area, click **Add**, and from the Add Layer dialog box select either Solder Mask Top or Solder Mask Bottom, and click **OK**.
	- d. With the new Solder Mask layer selected, set the pad diameter to the oversize required for the via.
	- e. If you need to add the other solder mask layer, repeat steps c and d.
- 4. Create a duplicate of the via type you just edited, as follows:
	- a. With the <VIA\_NAME>\_ OPEN via type selected, click the **Add Via** button, and click **Yes** when prompted to apply pad stacks information and to change all vias of type <VIA\_NAME>\_ OPEN.
	- b. In the Vias area, type "<ORIGINAL\_VIA\_NAME>\_TENTED".
	- c. In the Sh: Sz: Layer area, select a Solder Mask layer.
	- d. With the Solder Mask layer selected, set the pad diameter to zero.
- e. If you need to add the other solder mask layer, repeat steps c and d.
- f. Click **OK** to save the settings and close the dialog box.
- 5. Tent the vias in the design, as follows:
	- a. In the design, select the vias you want to be tented.
	- b. Right-click and click the **Properties** popup menu item.
	- c. In the Via Properties Dialog Box, in the Via Name list, select the name of the new tented via type.
	- d. Click **OK**.

**Results**

<span id="page-8-0"></span>To verify your results, perform the procedure in Verifying Via Tenting Results.

### Tenting Vias By Adding an Attribute
Use the Object Attributes dialog box to add an attribute that controls the solder mask openings. This is the quickest method, but you will be unable to see the shapes in the design â€” you have to create a CAM document to see them.

![](/layout/guide/15/_page_8_Picture_12.jpeg)

**CAUTION:**

If a solder mask shape exists in a solder mask layer of the via type pad stack, and the via type also has an assigned "CAM.Solder mask.Adjust" value, and you apply both values when creating the CAM document, the values are combined. See "Mask Hierarchyon page 209".

**Procedure**

- 1. In the design, select the vias you want to be tented.
- 2. Right-click and click the **Attribute** popup menu item.
- 3. In the Object Attributes Dialog Box, click the **Add** button.
- 4. From the drop-down list in the Attribute column, select CAM.Solder mask.Adjust.
- 5. Double-click in the edit box under the Value header, type a negative value that represents the via pad size, and press the Enter key. For example, enter -20 to tent a 20 mil via pad.
- 6. Click **Close**.

**Results**

<span id="page-8-1"></span>To verify your results, perform the procedure in Verifying Via Tenting Results.

### Verifying Via Tenting Results
You can verify the results of via tenting operations by previewing the solder mask area.

**Procedure**

- 1. Click the **File> CAM** menu item.
- 2. In the Define CAM Documents Dialog Box, click the **Add** button.
- 3. In the Add/Edit Document Dialog Box, from the Document Type list, select Solder Mask.
- 4. In the Layer Association dialog box, select the top/bottom layer.
- 5. In the Customize Document area, click the **Layers** button.
- 6. In the Select Items Dialog Box Selected list, select Solder Mask Top.
- 7. In the Items on Primary area, select the Vias check box.
- 8. Click the **Preview** button. The output will show openings for the "open" vias, but the "tented" vias will not appear.

## Troubleshooting Via Usage
Keep certain tips in mind when you try to place a via, and it fails, or you receive the message, "Via usage for this net is restricted."

- When partial viason page 330 are used, you must set up a drill pairon page 327 for all partial and through hole viason page 329 in the design.
- In the Routing Rules Dialog Box, you can specify the vias that are to be used at all levels of the design rules hierarchyon page 404. This can, for example, prevent you from using the wrong via on a specific net or pin pair.