# 第 10 章 电气网络

您可以将由分立元件连接的多个网络关联起来，创建一个电气网络，您可以像对单个网络一样对其应用规则。电气网络的总长度是其组成网络和分立元件长度的总和。

下图展示了一个电气网络的示例。

![](/router/guide/10/_page_0_Figure_3.jpeg)

**图 15. 电气网络的元件与网络**

长度规则、差分对规则和匹配长度规则都可以应用于电气网络，就像它们应用于单个网络一样。

## 电气网络的创建与修改

您可以根据设计需求创建或修改电气网络。

有三种方法可以创建和修改电气网络。

默认情况下，这些方法是相互独立的（即您可以单独使用任何一种方法），因为它们交互的命令/特性默认允许您选择使用一种方法而忽略其他方法。选择一种方法并坚持使用是最简单的做法。如果您想在设计中混合使用方法，必须首先理解这些方法如何交互，如[电气网络创建的约束条件](#Constraints-for-electrical-network-creation)所述。

### 一般限制与前提条件 ಠ_ಠ \{#General-limitations-and-prerequisites}

在创建电气网络之前，请考虑以下限制和前提条件。

以下限制适用于所有 3 种电气网络创建方法：

- 平面网络不能成为电气网络的一部分。

- 引脚数超过"最大非平面网络引脚数"字段指定限制的网络不能成为电气网络的一部分。

  > [!tip] 虚拟引脚不计入网络的引脚数。

- 如果电气网络的网络数超过"电气网络"对话框"每个电气网络的最大网络数"字段指定的限制，则不会创建该电气网络。

- 电气网络通过的元件必须是分立的两引脚元件，或符合以下条件的多引脚元件：

  - 所有引脚必须连接到门电路。

  - 每个门电路必须恰好有两个引脚。

  不符合这些条件的元件不能创建电气网络，即电气网络不能通过它。

以下前提条件建议用于所有 3 种电气网络创建方法。

在开始创建电气网络之前，您应确保在"电气网络"对话框（第 409 页）中为设计适当设置了"每个电气网络的最大网络数"和"最大非平面网络引脚数"字段。这些字段设置了电气网络中允许的网络数限制，以及电气网络中单个网络允许的引脚数限制。如果这些值设置不当，SailWind Router 不会创建原本可以创建的电气网络，或者软件会以不同于您预期的方式创建它们，如下所示：

- 如果潜在的电气网络超过"每个电气网络的最大网络数"限制，软件不会创建该电气网络。

- 如果潜在电气网络中的任何网络超过"最大非平面网络引脚数"限制，软件可能会拆分电气网络、截断它或根本不创建它，具体取决于故障网络的位置。

  > [!tip] 虚拟引脚不计入网络的引脚数。

更多信息，请参阅[电气网络创建的约束条件](#Constraints-for-electrical-network-creation)。

### 通过选择网络创建电气网络

如果您希望通过选择网络来创建电气网络，请使用此方法。


> [!tip] 每当您创建、删除或更改电气网络时，软件都会重新生成设计中的所有电气网络。因此，请始终通过阅读"输出窗口"中的消息来验证电气网络操作的结果是否符合预期。

🏃‍♂️‍**步骤**

1. 在工作区中，选择要组成电气网络的网络。

2. **右键**单击并选择弹出菜单中的**创建电气网络**。

   或者，在"网络特性"对话框的**电气网络**选项卡中，选中"创建电气网络"复选框。

👀‍**结果**

所选网络被组成电气网络，并且所有选定网络的"网络特性创建电气网络"复选框都被选中。

结果与预期不同？

- SailWind Router 可能拆分或截断了预期的电气网络，或者根本没有创建它，因为其一个或多个网络或元件不符合创建电气网络的[一般限制与前提条件](#General-limitations-and-prerequisites)。

- 某些网络不能组成电气网络；例如，从板子两侧选择的两个网络将选中"创建电气网络"复选框，但不会创建电气网络。

- **混合方法限制：** 如果所选网络连接的元件已被排除在电气网络创建之外，则它不能创建电气网络，即电气网络不能通过它。（如果元件或网络的"创建电气网络"和"允许电气网络创建..."复选框都被清除，则该元件或网络被排除在电气网络创建之外。）

更多信息，请参阅[电气网络创建的约束条件](#Constraints-for-electrical-network-creation)。

### 通过选择元件创建电气网络

如果您希望通过选择元件来关联其连接的网络以创建电气网络，请使用此方法。

> [!tip] 每当您创建、删除或更改电气网络时，SailWind Router 会重新生成设计中的所有电气网络。因此，请始终通过阅读"输出窗口"中的消息来验证电气网络操作的结果是否符合预期。

🏃‍♂️‍**步骤**

1. 在工作区中，选择要将其网络组成电气网络的元件。

2. **右键**单击并选择弹出菜单中的**创建电气网络**。

   或者，在"元件特性"对话框的**电气网络**选项卡中，选中"创建电气网络"复选框。

👀‍**结果**

连接到所选元件的网络被组成电气网络，并且所有选定元件的"元件特性创建电气网络"特性被设置。

结果与预期不同？

- SailWind Router 可能拆分或截断了预期的电气网络，或者根本没有创建它，因为其一个或多个网络或元件不符合创建电气网络的[一般限制与前提条件](#General-limitations-and-prerequisites)。

- **混合方法限制：** 如果您已将从所选元件连接的网络排除在电气网络创建之外，则该网络不能包含在电气网络中。（如果元件或网络的"创建电气网络"和"允许电气网络创建..."复选框都被清除，则该元件或网络被排除在电气网络创建之外。）

更多信息，请参阅[电气网络创建的约束条件](#Constraints-for-electrical-network-creation)。

### 通过元件参考编号前缀自动创建电气网络

如果您希望自动创建电气网络，请使用此方法指定网络通过的元件的参考编号前缀。

> [!tip] 每当您创建、删除或更改电气网络时，SailWind Router 会重新生成设计中的所有电气网络。因此，请始终通过阅读"输出窗口"中的消息来验证电气网络操作的结果是否符合预期。

😎**前提**

此过程为所有具有指定参考编号前缀并符合[一般限制与前提条件](#page-1-1)的元件创建电气网络。确保您计划分组到电气网络中的任何元件集的参考编号前缀是唯一的。

🏃‍♂️‍**步骤**

1. 单击**设置 > 电气网络**菜单项。

2. 在"每个电气网络的最大网络数"框中，输入电气网络中允许的最大网络数。

3. 在"最大非平面网络引脚数"框中，输入属于电气网络的网络允许的最大引脚数。引脚数超过此最大值的网络被视为平面网络，不包含在电气网络中。

   > [!tip] 虚拟引脚不计入网络的引脚数。

4. 在"分立元件前缀"区域，输入您希望创建电气网络的元件的参考编号前缀。

   > [!tip] 文本输入字段名称仅为方便起见；任何类型元件的前缀都可以输入到任何字段中。

👀‍**结果**

当您单击**确定**或**应用**时，电气网络会根据新的或更改的指定参考编号前缀集重新生成。

在重新生成过程中未更改的电气网络的规则（最小/最大长度、匹配长度组、差分对）将保留。更改（包括它们通过的元件集的更改）或删除的电气网络：

- 失去其规则

- 从匹配长度组中移除

- 包含它们的差分对被移除

结果与预期不同？

- SailWind Router 可能拆分或截断了预期的电气网络，或者根本没有创建它，因为其一个或多个网络或元件不符合创建电气网络的[一般限制与前提条件](#General-limitations-and-prerequisites)。

- **混合方法限制：** 如果任何选定的元件或连接到选定元件的任何网络已被排除在电气网络创建之外，则它不能包含在电气网络中。（如果 SailWind Router 清除了元件或网络的"创建电气网络"和"允许电气网络创建..."复选框，则该元件或网络被排除在电气网络创建之外。）

更多信息，请参阅[电气网络创建的约束条件](#Constraints-for-electrical-network-creation)。


## 电气网络的删除

您可以手动删除电气网络，或者如果您通过"电气网络"对话框自动创建了它们，则可以自动删除它们。

### 手动删除电气网络

您可以从工作区或项目资源管理器中手动移除电气网络。

> [!tip] 删除电气网络不会删除物理网络。

🏃‍♂️‍**步骤**

1. 在项目资源管理器或工作区中，选择要删除的电气网络。

2. **右键**单击并选择弹出菜单中的**删除**或**删除电气网络**。

👀‍**结果**

所选电气网络的所有物理网络的"创建电气网络"复选框被清除。如果任何物理网络也通过元件（包括通过参考编号前缀）被组成电气网络，则这些网络的"允许通过元件创建电气网络"复选框也被清除。

### 自动删除电气网络

您可以"自动"删除使用参考编号前缀方法创建的一组电气网络。


> [!tip] 每当您创建、删除或更改电气网络时，SailWind Router 会重新生成设计中的所有电气网络。因此，您应始终通过阅读"输出窗口"中的消息来验证电气网络操作的结果是否符合预期。

🏃‍♂️‍**步骤**

1. 选择**设置 > 电气网络**菜单项。

2. 删除不应创建电气网络的元件的参考编号前缀。

3. 单击**确定**。

👀‍**结果**

由具有指定参考编号前缀的元件创建的电气网络被删除、拆分或截断。

结果与预期不同？

- 混合方法限制：

  - 如果具有已删除参考编号前缀的元件也有"元件特性创建电气网络"复选框被选中，则该元件的网络仍保留在电气网络中。
  - 如果具有已删除参考编号前缀的元件有"允许通过参考编号前缀和网络创建电气网络"复选框被选中，并且连接到两引脚元件（或连接到多引脚元件的单个门电路）的两个网络都有"创建电气网络"复选框被选中，则这些网络仍保留在电气网络中。

  更多信息，请参阅[电气网络创建的约束条件](#Constraints-for-electrical-network-creation)。

## 从电气网络创建中排除网络

您可以选择物理网络将其排除在任何电气网络之外。

> [!tip] 此过程清除"网络特性创建电气网络"复选框和"允许通过元件创建电气网络"复选框，将所选网络从任何当前电气网络中移除，并防止通过元件（包括通过参考编号前缀）创建电气网络。更多信息，请参阅[电气网络创建的约束条件](#Constraints-for-electrical-network-creation)。


> [!danger] 每当您创建、删除或更改电气网络时，SailWind Router 会重新生成设计中的所有电气网络。因此，请始终通过阅读"输出窗口"中的消息来验证电气网络操作的结果是否符合预期。

🏃‍♂️‍**步骤**

1. 在工作区中，选择要从电气网络创建中排除的网络。

2. **右键**单击并选择弹出菜单中的**禁用电气网络创建**。

   或者，在"网络特性"对话框的**电气网络**选项卡中，清除"创建电气网络"和"允许通过元件创建电气网络"复选框。

👀‍**结果**

所选网络从现有电气网络中移除，并且所有选定网络的"网络特性创建电气网络"和"允许通过元件创建电气网络"复选框被清除。

## 从电气网络创建中排除元件

您可以防止单个元件创建电气网络——电气网络通过的元件。如果您排除尚未成为电气网络一部分的元件，则它不能成为通过网络或参考编号前缀创建的电气网络的一部分。此外，如果元件已经是电气网络的一部分，排除它会将其从电气网络中移除。

> [!warning] 此过程清除"元件特性创建电气网络"和"允许通过参考编号前缀或网络创建电气网络"复选框，防止所选元件创建电气网络。更多信息，请参阅[电气网络创建的约束条件](#Constraints-for-electrical-network-creation)。


> [!tip] 每当您创建、删除或更改电气网络时，SailWind Router 会重新生成设计中的所有电气网络。因此，请始终通过阅读"输出窗口"中的消息来验证电气网络操作的结果是否符合预期。

🏃‍♂️‍**步骤**

1. 在工作区中，选择要从电气网络创建中排除的元件。

2. **右键**单击并选择弹出菜单中的**禁用电气网络创建**。

   或者，在"元件特性"对话框中，清除"创建电气网络"和"允许通过参考编号前缀或网络创建电气网络"复选框。

👀‍**结果**

所选元件被排除在电气网络创建之外。如果元件是现有电气网络的一部分，则它被移除，即电气网络不再通过它。将元件从电气网络中移除会根据其配置和移除元件的位置拆分、截断或删除电气网络。

结果与预期不同？

- 连接到被排除元件的网络仍可能通过其他元件被组成电气网络。

## 通过网络取消电气网络创建

您可以取消或结束"通过网络创建电气网络"的方法。


> [!tip] 每当您创建、删除或更改电气网络时，SailWind Router 会重新生成设计中的所有电气网络。因此，请始终通过阅读"输出窗口"中的消息来验证电气网络操作的结果是否符合预期。

🏃‍♂️‍**步骤**

1. 在工作区或项目资源管理器中，选择要从电气网络中移除的网络。

2. **右键**单击并选择弹出菜单中的**特性**。

3. 在"电气网络"选项卡中，清除"创建电气网络"复选框。

   > [!tip] 如果您想完全将网络排除在电气网络创建之外，还需清除"允许通过元件创建电气网络"复选框。

👀‍**结果**

所选网络从现有电气网络中移除。

结果与预期不同？

- **混合方法限制：** 也通过元件和/或参考编号前缀方法被组成电气网络的网络仍保留在电气网络中。

## 通过元件取消电气网络创建

取消通过其通过的元件创建的电气网络的创建。

> [!tip] 每当您创建、删除或更改电气网络时，SailWind Router 会重新生成设计中的所有电气网络。因此，请始终通过阅读"输出窗口"中的消息来验证电气网络操作的结果是否符合预期。

🏃‍♂️‍**步骤**

1. 在工作区或项目资源管理器中，选择要取消其电气网络创建的元件。

2. **右键**单击并选择弹出菜单中的**特性**。

3. 在"电气网络"区域，清除"创建电气网络"复选框。

   > [!tip] 如果您想通过任何方法将元件排除在电气网络创建之外，还需清除"允许通过参考编号前缀和网络创建电气网络"复选框。

👀‍**结果**

通过所选元件创建电气网络的操作被取消。

结果与预期不同？

- **混合方法限制：** 符合以下标准的网络在整个所选元件中仍保留在电气网络中：

	- 网络连接到所选元件

	- 网络也通过网络和/或参考编号前缀方法被组成电气网络

## 选择电气网络 \{#select-electrical-net}

使用弹出菜单项选择电气网络。选择电气网络也会选择电气网络中的所有物理网络。

🏃‍♂️‍**步骤**

1. 在未选择任何内容的情况下，**右键**单击并选择弹出菜单中的**选择网络**。

2. 在工作区中，选择要选择的电气网络中的一个网络。

3. **右键**单击并选择弹出菜单中的**选择电气网络**。

   > [!tip] 您也可以在项目资源管理器中选择电气网络。

## 设置电气网络特性

使用"电气网络特性"对话框设置或修改电气网络特性。

🏃‍♂️‍**步骤**

1. 选择要设置其特性的电气网络。

2. **右键**单击并选择弹出菜单中的**特性**。

3. 在"电气网络特性"对话框中，在"电气网络"（第 411 页）和"长度"（第 413 页）选项卡中进行适当设置，然后单击**确定**。

## 创建电气网络的匹配长度组

您可以将电气网络分组以创建匹配长度组。

🏃‍♂️‍**步骤**

1. [选择电气网络](#select-electrical-net)

   > [!tip] 您也可以选择网络添加到组中。

2. **右键**单击并选择弹出菜单中的**创建匹配长度的网络组**。

3. 或者，在项目资源管理器中，选择电气网络并将其复制/粘贴或拖放到匹配长度网络组中，或拖放到"匹配长度网络组"组中。

## 创建电气网络的差分对

您可以选择电气网络并创建差分对。

🏃‍♂️‍**步骤**

1. [选择电气网络](#select-electrical-net)

2. **右键**单击并选择弹出菜单中的**创建差分电气网络**。

3. 或者，在项目资源管理器中，选择电气网络并将其复制/粘贴或拖放到"差分对"组中。

## 电气网络创建的约束条件 ಠ_ಠ \{#Constraints-for-electrical-network-creation}

许多条件约束着电气网络的创建。

电气网络的创建由以下对话框设置控制：

- "网络特性"对话框中的"创建电气网络"和"允许通过元件创建电气网络"复选框。

- "元件特性"对话框中的"创建电气网络"和"允许通过参考编号前缀或网络创建电气网络"复选框。

- 您在"电气网络"对话框中指定的参考编号前缀。

- "电气网络"对话框中的"每个电气网络的最大网络数"和"最大非平面网络引脚数"字段。

  > [!tip] 虚拟引脚不计入网络引脚数。

这些复选框的默认设置为：

- 为所有网络和元件默认清除创建电气网络的"创建电气网络"复选框。因此默认情况下，不创建任何电气网络。

- 为所有网络和元件默认选中允许所选网络或元件通过其他方法添加到电气网络的"允许电气网络创建..."复选框。因此默认情况下，您可以通过三种方法中的任何一种创建电气网络。

- "每个电气网络的最大网络数"默认值为 5。

- "最大非平面网络引脚数"默认值为 25。

分立元件及其连接的网络只有在以下条件 1 和 2 都为真时才会成为电气网络的一部分：

1. 您设置元件和网络特性以满足以下条件之一：

	- 设置"元件特性创建电气网络"且没有连接网络被排除在电气网络创建之外。（如果清除元件或网络的"创建电气网络"和"允许电气网络创建..."复选框，则该元件或网络被排除在电气网络创建之外。）

	- 为两个网络选中"网络特性创建电气网络"复选框且元件未被排除在电气网络创建之外。（如果清除元件或网络的"创建电气网络"和"允许电气网络创建..."复选框，则该元件或网络被排除在电气网络创建之外。）

	- 选中"元件特性允许电气网络创建..."复选框且没有连接网络被排除在电气网络创建之外。此外，元件的参考编号前缀在"电气网络"对话框中指定。（如果清除元件或网络的"创建电气网络"和"允许电气网络创建..."复选框，则该元件或网络被排除在电气网络创建之外。）

2. 元件、其网络以及它所属的潜在电气网络都符合创建电气网络的[一般限制与前提条件](#General-limitations-and-prerequisites)。