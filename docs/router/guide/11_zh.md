# 第 11 章 设置规则

设计规则允许您精确控制布线结果。通过多种设置，您可以指定设计对象之间的简单间距，或将规则扩展为包含网络、类组、管脚对和层之间的复杂关系。

## 设置设计（全局和默认）特性

当未选择任何对象时，使用"设计特性"对话框查看和修改设计特性。"设计特性"对话框设置全局规则特性。

🏃‍♂️‍**步骤**

1. 在未选择任何对象的情况下，点击**特性**按钮或右键点击并选择弹出菜单中的**特性**。

2. 点击要修改特性的设计特性标签页：

    - 间距（第 468 页）

    - 扇出（第 163 页）

    - 网格（第 167 页）

    - 设置布线层（第 168 页）

    - 层（第 168 页）

    - 焊盘入口（第 504 页）

    - 布线（第 189 页）

    - 同网络（第 519 页）

    - 测试点（第 521 页）

    - 拓扑（第 291 页）

    - 过孔偏置（第 169 页）

3. 根据需要修改标签页上的特性。

4. 点击其他标签页继续设置特性。

5. 完成后点击**确定**。

## 设计规则 ಠ_ಠ

设计规则允许您为设计对象分配约束。分配约束可以控制对象之间的间距、为特定层分配过孔、控制用于布线的层、设置对象（或对象组）之间的复杂关系，以及定义许多其他设计约束。

**硬规则与软规则**

设计规则有两种类型：*硬规则*和*软规则*。硬规则始终被遵循，即使会导致布线未完成。软规则在会导致布线未完成时会被忽略。

大多数规则永久性地属于硬规则或软规则；少数规则是可切换的——即可以从硬规则变为软规则，反之亦然。

**硬规则示例**

- 所有间距规则

- 所有过孔配置规则

**软规则示例**

- 扇出规则

- 组件层上的布线限制

**可切换的硬/软规则示例**

- 长度规则——硬/软性由选项对话框**调整**标签页中的"必要时忽略长度规则以完成导线"复选框控制。

- 同网络第一转角规则——硬/软性由设计特性对话框**焊盘入口**标签页中的"必要时忽略第一转角规则以完成导线"复选框控制。

## 规则层次结构

某些规则优先于其他规则。例如，管脚对规则覆盖组规则，组规则覆盖网络规则。这种结构称为*规则层次结构*。

默认规则位于第 1 级，优先级最低，代表规则层次结构的最低级别。电气网络规则位于第 34 级，优先级最高，代表规则层次结构的最高级别。

1. 默认

2. 带条件层规则的默认

3. 类

4. 带条件层规则的类

5. 网络

6. 带条件层规则的网络

7. 组

8. 带条件层规则的组

9. 管脚对

10. 带条件层规则的管脚对

11. 类对类

12. 带条件层规则的类对类

13. 网络对类

14. 带条件层规则的网络对类

15. 网络对网络

16. 带条件层规则的网络对网络

17. 组对类

18. 带条件层规则的组对类

19. 组对网络

20. 带条件层规则的组对网络

21. 组对组

22. 带条件层规则的组对组

23. 管脚对类

24. 带条件层规则的管脚对类

25. 管脚对网络

26. 带条件层规则的管脚对网络

27. 管脚对组

28. 带条件层规则的管脚对组

29. 管脚对管脚对

30. 带条件层规则的管脚对管脚对

31. 封装

32. 组件

33. 差分对

34. 电气网络

## 从 SailWind Layout 传递的设计规则 ಠ_ಠ

SailWind Layout 将设计中的大多数设计规则传递给 SailWind Router。在布线会话完成后，SailWind Router 将这些规则（及其任何修改）无缝传递回
SailWind Layout。

除了高速规则和[平面网络管脚对规则（第 159 页）](#page-6-0)外，SailWind Router 使用与 SailWind Layout
相同的设计规则（[表](#page-4-1) [52](#page-4-1)）。

| 规则 |       | 由 SailWind Layout 维护 | 由 SailWind Router 维护          |
|----|-------|-------------------------|-----------------------------------|
| 间距 | 间距    | 是                       | 是                                 |
|    | 体到体间距 | 是                       | 是<br>注意：<br>转换为<br>"组件间最小间距"<br>值 |
|    | 同网络   | 是                       | 是                                 |
|    | 线宽    | 是                       | 是                                 |
| 布线 | 长度最小化 | 是                       | 是                                 |
|    | 布线选项  | 是                       | 是                                 |
|    | 设置布线层 | 是                       | 是                                 |
|    | 过孔配置  | 是                       | 是                                 |
| 高速 | 并行性   | 是 (EDC)                 | 否                                 |
|    | 屏蔽    | 否                       | 否                                 |
|    | 高速    | 是 (EDC)                 | 否                                 |
|    | 长度匹配  | 是 (EDC)                 | 是                                 |
| 条件  | 所有组合  | 是                       | 是                       |
| 差分对 | 所有定义  | 否                       | 是                       |
| 测试点 | 探针到导线 | 是                       | 是                       |
|     | 探针到焊盘 | 是                       | 是                       |
|     | 测试点网格 | 是                       | 是                       |
|     | 分配    | 是                       | 是                       |

## SailWind Layout 设计规则与 SailWind Router 特性对比 ಠ_ಠ

在 SailWind Layout 中，您使用设计规则为设计对象分配约束。这些约束包括间距、过孔分配、层分配和其他复杂的设计对象关系。SailWind
Router 支持大多数相同的规则；然而，SailWind Router 将它们称为*特性*。

此表显示了 SailWind Layout 中特定设计规则的位置以及 SailWind Router 中相应特性的位置。

| SailWind Layout<br>设置 | SailWind Layout 对话框<br>框 | SailWind Router<br>设置 | SailWind Router<br>对话框 |
|-----------------------|--------------------------|-----------------------|------------------------|
| 间距                    | 默认规则,<br>间距规则            | 间距                    | 设计特性,<br>间距标签页         |
|                       | 默认规则,<br>间距规则: 体<br>到体   | 组件间最小间距               | 选项, 制造<br>类别           |
| 同网络间距                 | 默认规则,<br>间距规则            | 同网络间距                 | 设计特性,<br>同网络标签页        |
| 线宽                    | 默认规则,<br>间距规则            | 线宽                    | 设计特性,<br>布线标签页         |
| 拓扑                    | 默认规则, 布线<br>规则           | 拓扑                    | 设计特性,<br>拓扑标签页         |
| 布线选项                  | 默认规则, 布线<br>规则           | 布线选项                  | 设计特性,<br>布线标签页         |
| 设置布线层                 | 默认规则, 布线<br>规则           | 设置布线层                 | 设计特性,<br>设置布线层标签页      |

**表 53. SailWind Layout 与SailWind Router 之间的设计规则映射**

| SailWind Layout<br>设置 | SailWind Layout 对话框<br>框 | SailWind Router<br>设置 | SailWind Router<br>对话框          |
|-----------------------|--------------------------|-----------------------|---------------------------------|
| 过孔                    | 默认规则, 布线<br>规则           | 过孔配置                  | 设计特性,<br>过孔配置标签页                |
| 最大过孔<br>数量            | 默认规则, 布线<br>规则           | 最大过孔<br>数量            | 设计特性,<br>布线标签页                  |
| 测试点审核                 | DFT 审核, 特性               | 测试点                   | 设计特性,<br>测试点标签页                 |
| 测试点分配                 | DFT 审核, 分配<br>标签页        | 测试点分配                 | 组件<br>特性, 测试<br>点标签页            |
|                       |                          |                       | 项目浏览器, 过孔<br>类型特性, 测试<br>点标签页 |
| 无等效                   |                          | 层                     | 设计特性,<br>层标签页                   |
| 网格                    | 网格和捕捉选项,<br>网格标签页        | 网格                    | 设计特性,<br>网格标签页                  |

|  |  | 表 53. SailWind Layout 与SailWind Router 之间的设计规则映射（续） |  |
|--|--|-----------------------------------------------------|--|
|  |  |                                                     |  |

## 管脚对与平面网络 ಠ_ಠ

SailWind Router 不允许为平面网络定义管脚对规则或管脚对组规则。这些规则会影响 SailWind Router 性能，因为它们呈现了技术上复杂的场景。

如果在 SailWind Layout 中分配了平面网络管脚对，则在 SailWind Router 中打开设计后会删除这些规则。您不能在 SailWind Router
中分配这些规则。无论哪种情况，输出窗口都会显示以下消息：

- **对于平面网络管脚对规则** "管脚对规则不能在平面网络中分配。"

- **对于组中的平面网络管脚对** "管脚对不能包含在平面网络的组中。"

对于非平面网络，可以通过*SailWindRouter.ini*文件中的以下设置控制限制：

```
[General]

NonPowerNetMaxPinCount=50
```

通过此设置，如果一个网络有超过 50 个管脚，SailWind Router 会将其视为大型网络，并不支持其管脚对规则。

## 同网络规则 ಠ_ಠ

同网络规则指定网络中项目之间的最小间距。

一些同网络规则是永久性的硬规则；您可以使用设计特性对话框**焊盘入口**标签页中的"必要时忽略第一转角规则以完成导线"
复选框将其他规则设为硬规则或软规则。[表](#page-7-0) [54](#page-7-0)和[图 16](#page-7-1)显示了同网络中项目的不同规则类型。

| 间距规则   | 规则类型      | 描述                                                         |
| ---------- | ------------- | ------------------------------------------------------------ |
| 焊盘到转角 | 可切换的硬/软 | 非 SMD 焊盘与<br>第一个导线弯曲点之间的最小间距。            |
| SMD 到转角 | 可切换的硬/软 | 表面贴装焊盘<br>与第一个导线弯曲点之间的最小间距。           |
| SMD 到过孔 | 硬            | 表面贴装焊盘<br>与过孔之间的最小间距。                       |
| 导线到转角 | 可切换的硬/软 | 段与相邻导线段的<br>弯曲点之间的最小间距；例如，<br>当导线在 T型连接处分叉<br>且两条导线之一有弯曲点时。<br>导线到转角也用作导线到导线<br>规则。<br>导线到转角规则仅用于布线<br>且设计验证不检查此规则。 |
| 过孔到过孔 | 硬            | 过孔之间的最小间距。                                         |

**表 54. 适用于同网络项目的边到边间距值**

**图 16. 同网络规则**

![](/router/guide/11/_page_7_Figure_5.jpeg)

**第一转角规则**

第一转角规则确定在导线离开焊盘或过孔时如何强制执行间距。

有三种第一转角规则：

- 焊盘到转角（用于通孔管脚和过孔），

- 导线到转角，

- SMD 到转角

焊盘到转角和 SMD 到转角规则防止在小于最小转角规则的情况下向进入或离开焊盘的导线添加转角。焊盘到转角或 SMD
到转角规则还防止在添加第一个转角后导线过于接近焊盘。[图 17](#page-8-0) 和[图 18](#page-8-1) 显示了 SailWind Layout
和SailWind Router 中的第一转角规则。

![](/router/guide/11/_page_8_Figure_5.jpeg)

**图 17. SailWind Layout 中的第一转角规则**

**图 18. SailWind Router 中的第一转角规则**

![](/router/guide/11/_page_8_Figure_8.jpeg)

**导线到转角规则**

导线到转角规则类似于焊盘到转角规则，也用作导线到导线规则。在自动布线期间，SailWind Router
仅在避免导线未完成时违反此规则。您可以在平滑或优化过程中修复此类违规。

软件仅将导线到转角规则[（图 19](#page-9-1))用于布线；在设计验证期间不检查此规则。

**图 19. 导线到转角规则**

![](/router/guide/11/_page_9_Figure_2.jpeg)

## 焊盘入口规则 ಠ_ಠ

焊盘入口是进入或离开管脚的导线首次穿过焊盘边缘的点。您可以在设计特性设置中定义焊盘入口规则。

焊盘入口的质量由焊盘入口的角度衡量。完美的焊盘入口的焊盘角度等于或大于 90 度。[图 20](#page-9-2)显示了一个不理想的焊盘入口；下部焊盘入口角度大于
90 度，但上部焊盘入口角度小于 90 度。

![](/router/guide/11/_page_9_Figure_6.jpeg)

**图 20. 不理想的焊盘入口**

无论焊盘形状如何，都会尝试在所有进入管脚和过孔的导线上实现完美的焊盘入口。焊盘入口控制允许您选择焊盘出口类型（任意角度、侧面或转角）和软转角规则。有关更多信息，请参阅["硬规则与软规则"（第 155 页）](#page-2-1)。

SailWind Router 根据需要为完成导线使用不同的焊盘入口[（图 21）](#page-10-5)
。当允许所有焊盘入口类型（包括软第一转角规则）时，软件可获得最佳结果。软件仅为了完成导线而做出不理想或不理想的焊盘入口。

![](/router/guide/11/_page_10_Figure_1.jpeg)

为了维护管脚对规则，SailWind Router 不会在具有管脚对规则的网络上共享焊盘入口或出口。

## 拓扑限制 ಠ_ಠ

拓扑规则允许您指定网络拓扑类型以及是否允许设计中存在多个连接到过孔和导线。

从特性设置对话框的 **拓扑** 选项卡设置拓扑规则。适用以下限制：

- 除"最小化"拓扑类型外，"允许连接点"设置对其他所有拓扑类型均不可用

- "最大残桩长度"设置对"最小化"拓扑类型不可用

## 扇出规则 ಠ_ಠ

扇出规则指定管脚、SMD、过孔和导线的扇出类型、过孔放置以及多连接选项。您可以将扇出设置为无限长度，也可以指定最大长度。扇出规则是软规则，这意味着当遵循这些规则会导致一条或多条未完成布线时，SailWind
Router 会忽略这些规则。

## 封装规则 ಠ_ಠ

封装规则为使用特定封装的所有组件指定布线、焊盘入口、同网络、扇出、过孔配置和间距规则。

## 错误规则 ಠ_ಠ

错误规则指定在验证操作期间是否忽略错误。

## 间距规则 ಠ_ಠ

间距规则指定设计中各对象类型之间的最小允许空气间隙。

支持的对象类型包括：

- 导线

- 过孔

- 通孔焊盘

- 表面贴装(SMD)焊盘

- 铜箔

- 钻孔

- 文本

- 板边

**其他间距规则**

额外的间距规则用于保持元件本体与钻孔之间的间距。

[表](#page-11-1) [55](#page-11-1)总结了其他间距规则。

| 规则      | 描述                                                                                |
|---------|-----------------------------------------------------------------------------------|
| 元件间最小间距 | 用于定义每个元件放置边框的线中心线之间的距离<br>包括自动生成的放置边框<br>以及从 SailWind Layout 第 20 层<br>放置边框派生的边框。 |
|         | 注意：<br>当打开设计时，此值会填充<br>为 SailWind Layout 中"本体到本体"间距设计规则<br>的值。                    |
| 孔间最小间距  | 两个钻孔<br>之间的最小边到边间距                                                                |

**表 55. 包含的其他间距规则**

[表](#page-11-1) [55](#page-11-1)中的规则显示在选项对话框的 **制造** 选项卡上。

## 设置间距

使用特性设置对话框的 **间距** 选项卡查看和修改最小间距。

如果选择了对象，则设置该对象的间距特性。如果未选择任何对象，则设置整个设计的间距特性。

🏃‍♂️‍**步骤**

1. **右键**单击并选择 **特性** 菜单项；然后单击 **间距** 选项卡。

2. 在行标题中列出的对象与列标题中列出的对象之间的间距框中键入间距值。

   > [!tip] 要为整行或整列设置相同的值，请单击列标题、行标题或 **全部**。键入值并单击确定以应用该值。

3. 单击 **确定**。

## 网格规则 ಠ_ಠ

SailWind Router 为您提供了多种不同的网格类型，以帮助您在设计过程中的布局、布线和测试点阶段。

SailWind Router 使用以下五种布线网格：

- 测试点

- 过孔

- 扇出

- 元件

- 布线

SailWind Router 还有两个额外的网格，显示网格和铜箔填充网格，在布线过程中不使用。

使用设计特性对话框 **网格** 选项卡上的"对齐网格"设置布线网格。如果清除"对齐网格"复选框，则忽略网格设置。

布线网格为除元件、测试点、过孔和扇出操作期间添加的过孔之外的布线任务建立默认布线网格([图 22](#page-13-0))。

![](/router/guide/11/_page_13_Figure_2.jpeg)

如果导线拐角的至少一个坐标在网格上，则该拐角在网格上。如果导线段的两个端点在同一平面上都在网格上，则该段在网格上。[图 23](#page-13-1)
显示了导线拐角和导线段的布线网格。

![](/router/guide/11/_page_13_Figure_5.jpeg)

保持导线拐角在网格上的规则是软规则。如果无法将导线拐角放置在网格上，则将拐角放置在网格外以完成导线。

**网格统计报告**

您可以在输出窗口中创建网格统计报告，以报告管脚、过孔和导线段在网格上或网格外的情况。

在创建网格统计报告之前，必须为第 491 页上的布线网格选择"将对象对齐网格"复选框。这是生成报告中"网格外"
统计信息并在设计中的位置显示所有根据硬/软规则在网格外的管脚、过孔或导线段端点的标记所必需的。标记在屏幕重绘时消失。

**图 24. 网格统计网格外标记**

![](/router/guide/11/_page_13_Picture_11.jpeg)

网格统计报告使用以下快捷(无模式)命令运行：

- **GGS** 软网格统计：如果导线段的端点之一具有 X或 Y坐标在布线网格上，则认为导线段在网格上。

- **GGM** 中等网格统计。

- **GGH** 硬网格统计：如果导线段的端点之一具有 X和 Y坐标都在布线网格上，则认为导线段在网格上。

> [!tip]当网格设置为 00000_00000 时，无论"将对象对齐网格"设置如何，报告中的"对齐"值始终显示"关闭"。

**示例报告**

这是一个软网格统计报告的示例。

## 设置网格

使用 **网格** 选项卡查看和修改设计中的所有网格设置。

设置网格以将布线对象限制在特定的增量位置。下表列出了对象及其网格放置。

| 对象     | 放置在此网格上 |
|--------|---------|
| 导线拐角   | 布线      |
| 过孔，过孔对 | 过孔      |
| 测试点    | 测试点     |

**表 56. 对象与网格放置**

如果导线段的至少一个坐标(X 或Y)在网格上，则认为该导线段"在网格上"。您不必将两个坐标都放在网格上。

如果为网格选择了"将对象对齐网格"
框，则指针移动会捕捉到网格。这可以防止您在网格点之间放置对象。有关更多信息，请参阅["网格规则"](#page-12-0) [第 165 页](#page-12-0)。

🏃‍♂️‍**步骤**

1. 在工作区中**右键**单击(不选择任何对象)并选择 **特性** 弹出菜单项，打开设计特性网格。

2. 单击 **网格** 选项卡。在网格设置表中，键入要设置网格线间距的每个框中的值。

3. 选择"将对象对齐网格"复选框以启用对齐。清除复选框以禁用对齐。

4. 单击 **确定**。

## 设置设置布线层规则

设置布线层规则指定 SailWind Router 在布线时是否可以使用特定层。

使用 **设置布线层** 选项卡将可用于网络和管脚对的层限制为某些层进行布线。设置布线层提供了对层上布线的额外控制级别。

例如：您希望仅在外层布线电源和地网络，并强制其他网络在内层布线。为此，在不选择任何对象的情况下，在常规设计特性中启用外层进行布线，但在
**设置布线层** 选项卡中禁用外层。然后，在电源和地网络的网络特性对话框中，在 **设置布线层** 选项卡中启用外层进行布线。

如果选择了对象，则设置该对象的设置布线层特性。如果未选择任何对象，则设置整个设计的设置布线层特性。

🏃‍♂️‍**步骤**

1. **右键**单击并选择 **特性** 弹出菜单项；然后，在特性对话框中，单击 **设置布线层** 选项卡。

2. 选择"允许布线"复选框以启用层上的布线。清除复选框以禁用它。

3. 单击 **确定**。

## 设置层规则

层规则为指定层指定布线参数。仅显示电气层。

使用 **层** 选项卡为特定层设置布线参数。

🏃‍♂️‍**步骤**

1. 在工作区中不选择任何对象的情况下，**右键**单击并选择 **特性** 弹出菜单项；然后，在特性对话框中，单击 **层** 选项卡。

2. 在"层的布线参数"区域中，选择"布线"复选框以启用层进行布线。清除复选框以禁用它。

3. 单击层的"方向"列，从列表中选择所需的布线方向。

4. 单击层的"成本"列，键入 0 到 100 之间的成本值。

成本值指定在布线过程中使用该层的级别。数字越大，表示使用该层的次数越少。

5. 单击**确定**。

🙊**限制**

显示层类型的"类型"列只能在 SailWind Layout 中更改。

## 设置在特定层上使用的过孔类型

过孔配置规则指定 SailWind Router 在布线时是否可以使用特定过孔类型。

使用特性对话框的 **过孔配置** 选项卡限制 SailWind Router 在布线时使用的过孔类型。

🙊**限制**

• 您无法在 SailWind Router 中更改过孔的大小或添加额外的过孔。要更改过孔的大小或创建新的过孔，请在 SailWind Layout 中打开设计并使用
SailWind Layout 中的焊盘栈特性对话框。

如果选择了对象，则设置该对象的过孔配置特性。如果未选择任何对象，则设置整个设计的过孔配置特性。

🏃‍♂️‍**步骤**

1. **右键**单击并选择 **特性** 弹出菜单项；然后，在特性对话框中，单击 **过孔配置** 选项卡。

2. 选择"允许"复选框以启用 SailWind Router 使用该过孔进行布线。清除复选框以禁用该过孔的使用。

3. 单击 **确定**。

## 设置对象特性

对象特性允许您为设计中的所有对象指定设计规则。您还可以构建对象组之间的复杂关系，以适应您最苛刻的设计约束。

> [!tip]如果设计特性与所选对象的特性不同，则"更改的特性"图标会出现在选项卡上。不同的字段以黄色背景显示。

🏃‍♂️‍**步骤**

1. 选择对象，然后**右键**单击并选择 **特性** 弹出菜单项。

结果对话框中显示的特性取决于所选对象。以这种方式设置的特性仅影响所选对象，而不影响全局设置。[表](#page-17-0) [57](#page-17-0)
列出了每种对象类型的可用选项卡。

| 对象    | 可用选项卡                                                                                                                                            |
|-------|--------------------------------------------------------------------------------------------------------------------------------------------------|
| 元件    | • 间距第 468 页<br>• 元件第 469 页<br>• 扇出第 486 页<br>• 焊盘入口第 504 页<br>• 布线第 517 页<br>• 同网络第 519 页<br>• 测试点第 523 页<br>• 过孔配置第 532 页                                                                                                                                    |
| 条件规则  | • 间距第 468 页                                                                                                                                      |
| 铜箔平面  | • 铜箔平面第 475 页<br>• 填充第 489 页                                                                                                                                      |
| 零件封装  | • 间距第 468 页<br>• 元件第 469 页<br>• 扇出第 486 页<br>• 焊盘入口第 504 页<br>• 布线第 517 页<br>• 同网络第 519 页<br>• 过孔配置第 532 页                                                                                                                                    |
| 差分对   | • "对"第 184 页                                                                                                                                     |
| 错误    | • 错误第 366 页                                                                                                                                      |
| 禁止区域  | • 禁止区域第 495 页                                                                                                                                    |
| 匹配长度组 | • 组第 493 页                                                                                                                                       |
| 网络    | • 间距第 468 页<br>网络<br>• 设置布线层第 497 页<br>• 长度第 501 页<br>• 网络第 502 页<br>• 布线第 517 页<br>• 同网络第 519 页<br>• 测试点第 521 页<br>• 拓扑第 524 页<br>• 过孔配置第 532 页 |
| 网络类   | • 间距第 468 页<br>• 设置布线层第 497 页<br>• 长度第 501 页<br>• 布线第 517 页<br>• 同网络第 519 页<br>• 拓扑第 524 页<br>• 过孔配置第 532 页                                      |
| 管脚    | • 元件第 469 页<br>• 钻孔第 480 页<br>• 焊盘栈第 506 页<br>• 管脚第 513 页                                                                                        |
| 管脚对   | • 间距第 468 页<br>• 设置布线层第 497 页<br>• 长度第 501 页<br>• 布线第 517 页<br>• 过孔配置第 532 页                                                                     |
| 管脚对组  | • 间距第 468 页<br>• 设置布线层第 497 页<br>• 长度第 501 页<br>• 布线第 517 页<br>• 过孔配置第 532 页                                                                     |
| 文本    | • 无特性第 169 页                                                                                                                                     |
| 导线    | • 第 526 页                                                                                                                                        |
| 导线拐角  | • 第 479 页                                                                                                                                        |
| 导线段(路径或部分选择) | • 导线段第 528 页                                |  |
| 取消布线(连接)     | • 无特性第 169 页                                |  |
| 过孔           | • 过孔第 530 页<br>• 焊盘栈第 508 页<br>• 钻孔第 482 页  |  |
| 过孔类型         | • 焊盘栈第 508 页<br>• 钻孔第 482 页<br>• 测试点第 523 页 |  |

某些选定的对象可能没有特性。例如，取消布线。在这种情况下，会出现"无可用特性"消息。如果选择了多种对象类型，则会出现"多重选择"
消息。

2. 单击选项卡并根据需要进行修改。

3. 要清除所选对象的当前规则，请单击 **删除级别**
   按钮。将对象的下一个层次结构级别的规则应用于该对象。对象的层次结构级别显示在"规则级别"框中。

   > [!tip]如果使用设计规则，则 **删除级别** 按钮不可用。

4. 单击 **确定**。

## 创建网络类

通过在项目浏览器和/或设计工作区中选择网络来创建网络类并分配特性(规则)。

**视频**

![](/router/guide/11/_page_20_Picture_2.jpeg)

🏃‍♂️‍**步骤**

1. 使用以下一种或多种方法选择要加入网络类的网络：

- **使用项目浏览器** 在项目浏览器中使用网络名称列表选择网络。

  > [!tip]对于此类任务，您可能会发现拆分项目浏览器(参见第 52 页)很有帮助。

  i. 在项目浏览器中，展开网络对象列表，然后展开网络列表。

  ii. 在网络列表中，选择一个或多个要添加到网络类的网络。您可以稍后向类中添加更多网络，或在需要时从类中删除网络。

  iii. **右键**单击并选择复制，或从网络列表中拖动您的选择，然后**右键**单击并选择粘贴，或将它们拖放到网络类列表中。

- **使用工作区** 使用指针在设计中选择网络。

  i. 在设计中选择一个或多个要添加到网络类的网络。您可以稍后向类中添加更多网络，或在需要时从类中删除网络。

  ii. **右键**单击并选择弹出菜单中的**建立类**。

2. 在项目浏览器中，展开网络对象列表，然后展开网络类列表。网络类列表展开后会显示一个新的 Class<n>，例如 Class1。

3. 如果需要，可以重命名该类以使其名称更有意义。

   a. 单击选择新类。

   b. 单击所选类的文本名称。文本被选中以便重命名。

   c. 重命名该类并按 Enter 键。

4. 在项目浏览器中**右键**单击并确保选中允许选择设置。在项目浏览器中选择类还需要同时在设计区域中选择网络，才能打开新类的特性。

5. 将指针移到新类名称上，**右键**单击并选择弹出菜单中的**特性**。

6. 在网络类特性对话框中，为该类设置唯一特性。对于对话框中的每个选项卡，您可以单击**帮助**按钮获取每个设置的详细信息。

## 创建管脚对组

通过在项目浏览器和/或设计工作区中选择管脚对来创建管脚对组并分配特性(规则)。

🙊**限制**

平面网络不能添加到管脚对组中。更多信息，请参见"[管脚对和平面网络](#page-6-0)"。

🏃‍♂️‍**步骤**

1. 使用以下一种或多种方法选择要加入管脚对组的管脚对：

    - **使用项目浏览器** 在项目浏览器中使用网络的管脚对列表选择管脚对。

      > [!tip]对于此类任务，您可能会发现拆分项目浏览器(参见第 52 页)很有帮助。

      i. 在项目浏览器中，展开网络对象列表，然后展开网络列表。您必须展开单个网络才能查看该网络的管脚对。

      ii. 选择一个或多个要添加到管脚对组的管脚对。您可以稍后向组中添加更多管脚对，或在需要时从组中删除管脚对。

      iii. **右键**单击并选择弹出菜单中的**复制**，或从管脚对列表中拖动您的选择，然后**右键**单击并选择弹出菜单中的**粘贴
      **。您也可以将它们拖放到管脚对组列表中。

    - **使用工作区** 使用指针在设计中选择管脚对。

      i. 在设计中选择一个或多个要添加到管脚对组的管脚对。您可以稍后向组中添加更多管脚对，或在需要时从组中删除管脚对。

      ii. **右键**单击并选择弹出菜单中的**创建管脚对组**。

2. 在项目浏览器中，展开网络对象列表，然后展开管脚对组列表。管脚对组展开后会显示一个新的 Group<n>，例如 Group1。

3. 如果需要，可以重命名该组以使其名称更有意义。

   a. 单击选择新组。

   b. 单击所选组的文本名称。文本被选中以便重命名。

   c. 重命名该组并按 Enter 键。

4. 在项目浏览器中**右键**单击并确保选中允许选择设置。在项目浏览器中选择组还需要在设计区域中选择管脚对，才能打开新组的特性。

5. 将指针移到新组名称上，**右键**单击并选择弹出菜单中的**特性**。

6. 在管脚对组特性对话框中，为该组设置唯一特性。对于对话框中的每个选项卡，您可以单击**帮助**按钮获取每个设置的详细信息。

## 条件规则 ಠ_ಠ

条件规则扩展了基本规则分配，为复杂设计提供了更多控制。例如，您可以为网络设置条件规则，该规则仅在该网络与特定网络相邻时生效。条件规则有一些额外的限制，使其与其他规则不同。

条件规则名称不可由用户定义。条件规则使用自动命名过程。更多信息，请参见[表](#page-25-1) [59 第 178 页](#page-25-1)。

在创建条件规则之前，您必须指定一组对象。

以下列出了您可以创建的条件规则以及如何创建它们。

- **特定层上的默认间距和导线宽度规则** 复制或拖动特定电气层并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的类间距和导线宽度规则** 复制或拖动网络类和特定电气层并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的网络间距和导线宽度规则** 复制或拖动网络和特定电气层并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的组间距和导线宽度规则** 复制或拖动管脚对组和特定电气层并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的管脚对间距和导线宽度规则** 复制或拖动管脚对和特定电气层并将其粘贴或拖放到项目浏览器中的条件规则上。

- **类对类规则** 复制或拖动两个网络类并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的类对类规则** 复制或拖动两个网络类和特定电气层并将其粘贴或拖放到项目浏览器中的条件规则上。

- **网络对类规则** 复制或拖动网络和网络类并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的网络对类规则** 复制或拖动网络、网络类和特定电气层并将其粘贴或拖放到项目浏览器中的条件规则上。

- **网络对网络规则** 复制或拖动两个网络并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的网络对网络规则** 复制或拖动两个网络和特定电气层并将其粘贴或拖放到项目浏览器中的条件规则上。

- **组对类规则** 复制或拖动管脚对组和网络类并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的组对类规则** 复制或拖动管脚对组、网络类和特定电气层，并将其粘贴或拖放到项目浏览器中的条件规则上。

- **组对网络规则** 复制或拖动管脚对组和网络并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的组对网络规则** 复制或拖动管脚对组、网络和特定电气层，并将其粘贴或拖放到项目浏览器中的条件规则上。

- **组对组规则** 复制或拖动两个管脚对组并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的组对组规则** 复制或拖动两个管脚对组和特定电气层，并将其粘贴或拖放到项目浏览器中的条件规则上。

- **管脚对类规则** 复制或拖动管脚对和网络类并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的管脚对类规则** 复制或拖动管脚对、网络类和特定电气层，并将其粘贴或拖放到项目浏览器中的条件规则上。

- **管脚对网络规则** 复制或拖动管脚对和网络并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的管脚对网络规则** 复制或拖动管脚对、网络和特定电气层，并将其粘贴或拖放到项目浏览器中的条件规则上。

- **管脚对组规则** 复制或拖动管脚对和管脚对组并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的管脚对组规则** 复制或拖动管脚对、管脚对组和特定电气层并将其粘贴或拖放到项目浏览器中的条件规则上。

- **管脚对管脚对规则** 复制或拖动两个管脚对并将其粘贴或拖放到项目浏览器中的条件规则上。

- **特定层上的管脚对管脚对规则** 复制或拖动两个管脚对和特定电气层并将其粘贴或拖放到项目浏览器中的条件规则上。

**条件规则对象**

您可以在项目浏览器中使用拖放或复制粘贴操作创建条件规则。您必须首先选择要包含在条件规则中的对象。

| 第一个<br>对象 | 第二个<br>对象 | 第三个<br>对象 | 结果规则           | 自动命名示例                         |
|-----------|-----------|-----------|----------------|--------------------------------|
| 层         |           |           | 所有: 所有 (层)     | 所有: 所有 (顶层)                    |
| 层         | 类         |           | 类: 所有 (层)      | CLS1: 所有 (底层)                  |
| 层         | 网络        |           | 网络: 所有 (层)     | +5V: 所有 (底层)                   |
| 层         | 组         |           | 组: 所有 (层)      | GRP1: 所有 (底层)                  |
| 层         | 管脚对       |           | 管脚对: 所有 (层)    | R1.1-U1.2: 所有 (底层)             |
| 类         | 类         |           | 类: 类 (所有层)     | CLS1: CLS2 (所有层)               |
| 类         | 类         | 层         | 类: 类 (层)       | CLS1: CLS2 (顶层)                |
| 类         | 网络        |           | 类: 网络 (所有层)    | CLS1: +5V (所有层)                |
| 类         | 网络        | 层         | 类: 网络 (层)      | CLS1: +5V (顶层)                 |
| 类         | 组         |           | 类: 组 (所有层)     | CLS1: GRP1 (所有层)               |
| 类         | 组         | 层         | 类: 组 (层)       | CLS1: GRP1 (顶层)                |
| 类         | 管脚对       |           | 类: 管脚对 (所有层)   | CLS1: R1.1-U1.1 (所有层)          |
| 类         | 管脚对       | 层         | 类: 管脚对 (所有层)   | CLS1: R1.1-U1.1 (顶层)           |
| 网络        | 网络        |           | 网络: (所有层)      | GND: +5V (所有层)                 |
| 网络        | 网络        | 层         | 网络: (层)        | GND: +5V (顶层)                  |
| 网络        | 组         |           | 网络: 组 (所有层)    | GND: GRP1 (所有层)                |
| 网络        | 组         | 层         | 网络: 组 (层)      | GND: GRP1 (顶层)                 |
| 网络        | 管脚对       |           | 网络: 管脚对 (所有层)  | GND: R1.1-U1.1 (所有层)           |
| 网络        | 管脚对       | 层         | 网络: 管脚对 (所有层)  | GND: R1.1-U1.1 (顶层)            |
| 组         | 组         |           | 组: 组 (所有层)     | GND: GRP1 (所有层)                |
| 组         | 组         | 层         | 组: 组 (层)       | GND: GRP1 (顶层)                 |
| 组         | 管脚对       |           | 组: 管脚对 (所有层)   | GRP1: R1.1-U1.1 (所有层)          |
| 组         | 管脚对       | 层         | 组: 管脚对 (所有层)   | GRP1: R1.1-U1.1 (顶层)           |
| 管脚对       | 管脚对       |           | 管脚对: 管脚对 (所有层) | R2.1-R3.1: R1.1-U1.1 (所有<br>层) |
| 管脚对       | 管脚对       | 层         | 管脚对: 管脚对 (所有层) | R2.1-R3.1: R1.1-U1.1 (顶层)      |

**表 58. 可以添加到条件规则组以创建新规则的对象**

**条件规则自动命名**

由于您无法为条件规则定义名称，自动命名可区分不同的规则。

如[表](#page-25-1) [59](#page-25-1)所示，自动名称由规则中的对象名称和规则适用的层名称组成。自动名称同时出现在**对象视图**
选项卡和条件规则特性对话框的标题中。

| 规则                                             | 自动名称                     |
| ------------------------------------------------ | ---------------------------- |
| 网络 +5V 对网络 GND 在顶层                       | +5V : GND (顶层)             |
| 所有对象对 所有对象在底层                        | 所有 : 所有 (底层)           |
| 网络类 GROUND 对管脚对 R1.1 - U10.2 在<br>所有层 | GROUND : R1.1-U10.2 (所有层) |

**表 59. 条件规则自动命名**

**条件规则对象修改**

您不能修改分配给条件规则的对象。您必须完全删除条件规则，然后为新对象集重新创建条件规则。

## 创建条件规则

通过在项目浏览器中选择项目并将其复制到条件规则来创建条件组特性(规则)。

🏃‍♂️‍**步骤**

1. 在项目浏览器中，选择组成条件规则所需的项目。具体信息请参见"[条件规则](#page-22-0)"。

   > [!tip] 对于此类任务，您可能会发现拆分项目浏览器(参见第 52 页)很有帮助。

2. **右键**单击并选择复制，或拖动您的选择，然后**右键**单击并选择粘贴，或将其拖放到**条件规则**
   上。您不能更改分配给条件规则的对象；必须删除条件规则，然后为新对象集重新创建条件规则。

3. 在项目浏览器中，展开**网络对象**，然后展开**条件规则**。

4. 条件规则展开后会显示一个新条件，格式为*源:目标(层)*，例如+12V:+5V(顶层)。

5. 将指针移到新条件规则上，**右键**单击并选择弹出菜单中的**特性**。

6. 在条件规则对话框中，为该条件设置唯一特性。

[设置间距](#page-11-0)

## 创建匹配长度网络组

通过在项目浏览器和/或设计工作区中选择网络来创建匹配长度网络组并分配特性(规则)。

🏃‍♂️‍**步骤**

1. 使用以下一种或多种方法选择要加入匹配长度网络组的网络：

    - **使用项目浏览器** 从项目浏览器中的网络列表中选择。

      > [!tip]对于此任务，您可能会发现拆分项目浏览器(参见第 52 页)很有帮助。

      i. 在项目浏览器中，展开网络对象列表，然后展开网络列表。

      ii. 在网络列表中，选择一个或多个要添加到匹配长度网络组的网络。您可以稍后向组中添加更多网络，或在需要时从中删除网络。

      iii. **右键**单击并选择弹出菜单中的**复制**，或从网络列表中拖动您的选择，然后**右键**单击并选择弹出菜单中的**粘贴**
      ，或将它们拖放到匹配长度网络组列表中。

    - **使用工作区** 使用指针在设计中选择网络。

      i. 在设计中选择一个或多个要添加到匹配长度网络组的网络。您可以稍后向组中添加更多网络，或在需要时从组中删除网络。

      ii. **右键**单击并选择弹出菜单中的**创建匹配长度网络组**。

2. 在项目浏览器中，展开网络对象列表，然后展开匹配长度网络组列表。匹配长度网络组展开后会显示一个新的 MLNetGroup<n>，例如
   MLNetGroup1。

3. 如果需要，可以重命名该组以使其名称更有意义。

   a. 单击选择新组。

   b. 单击所选组的文本名称。文本被选中以便重命名。

   c. 重命名该组并按 Enter 键。

4. 在项目浏览器中**右键**单击并确保选中允许选择设置。在项目浏览器中选择组还需要在设计区域中选择网络，才能打开新组的特性。

5. 将指针移到新组名称上，**右键**单击并选择弹出菜单中的**特性**。

6. 在匹配长度组特性对话框中，为该组设置唯一特性：

    - a. 在容差框中输入一个值，设置组中最短成员和最长成员之间的差异。

    - b. 选中"限制长度"复选框以限制组的长度。与 SailWind Layout 不同，此程序在导线长度计算中计算重叠的导线段。

      i. 在最小长度框中输入最小值。

      ii. 在最大长度框中输入最大值。

7. 单击**确定**。

## 创建匹配长度管脚对组

通过在项目浏览器和/或设计工作区中选择管脚对来创建匹配长度管脚对组并分配特性(规则)。

🏃‍♂️‍**步骤**

1. 使用以下一种或多种方法选择要加入匹配长度管脚对组的管脚对：

    - **使用项目浏览器**—在项目浏览器中使用网络的管脚对列表选择管脚对。

      i. 在项目浏览器中，展开网络对象列表，然后展开网络列表。您必须展开单个网络才能查看该网络的管脚对。

      ii. 选择一个或多个要添加到匹配长度管脚对组的管脚对。您可以稍后向组中添加更多管脚对，或在需要时从组中删除管脚对。

      iii. **右键**单击并选择**复制**，或从管脚对列表中拖动您的选择，然后**右键**单击并选择**粘贴**，或将它们拖放到匹配长度管脚对组列表中。

    - **使用工作区**—使用指针在设计中选择管脚对。

      i. 在设计中选择一个或多个要添加到匹配长度管脚对组的管脚对。您可以稍后向组中添加更多管脚对，或在需要时从组中删除管脚对。

      ii. **右键**单击并选择**创建匹配长度管脚对组**。

2. 在项目浏览器中，展开网络对象列表，然后展开匹配长度管脚对组列表。匹配长度管脚对组展开后会显示一个新的
   MLPinPairGroup<n>，例如 MLPinPairGroup1。

3. 如果需要，可以重命名该组以使其名称更有意义。

   a. 单击选择新组。

   b. 单击所选组的文本名称。文本被选中以便重命名。

   c. 重命名该组并按 Enter 键。

4. 在项目浏览器中**右键**单击并确保选中允许选择设置。在项目浏览器中选择管脚对组还必须选择设计区域中的管脚对，才能打开新组的特性。

5. 将指针移到新组名称上，**右键**单击并选择**特性**。

6. 在匹配长度组特性对话框中，为该组设置唯一特性。

    - a. 要设置组中最短成员和最长成员之间的差异，请在容差框中输入一个值。

    - b. 选中"限制长度"复选框以限制组的长度。与 SailWind Layout 不同，此程序在导线长度计算中计算重叠的导线段。

      i. 在最小长度框中输入最小值。

      ii. 在最大长度框中输入最大值。

7. 单击**确定**。

监控导线长度

## 差分对规则 ಠ_ಠ

差分对规则为选定的网络对、电气网络对或管脚对对分配长度、间隙参数和障碍处理。在设置设计规则时，您可以配对两个网络或两个管脚对，并定义与这对相关的规则。如果需要，您还可以使用差分对规则来限制层更改。

## 创建差分对

通过在项目浏览器和/或设计工作区中选择网络或管脚对来创建网络或管脚对的差分对并分配特性(规则)。

🏃‍♂️‍**步骤**

1. 使用以下一种或多种方法选择要加入匹配长度管脚对组的网络或管脚对：？： -

    - **使用项目浏览器**  在项目管理器中使用网络或网络的管脚对列表选择管脚对。

      > [!tip]对于此类任务，您可能会发现拆分项目浏览器(参见第 52 页)很有帮助。

      i. 在项目浏览器中，展开网络对象列表，然后展开网络列表。展开单个网络以查看其管脚对。

      ii. 选择两个网络或两个管脚对添加到差分对中。

      iii. **右键**单击并选择弹出菜单中的**复制**，或从网络列表或管脚对列表中拖动您的选择，然后**右键**单击并选择弹出菜单中的
      **粘贴**，或将它们拖放到差分对列表中。

    - **使用工作区** 使用指针在设计中选择网络或管脚对。

      i. 在设计中选择两个网络或两个管脚对组成差分对。

      ii. **右键**单击并选择弹出菜单中的**创建差分网络**或**创建差分管脚对**。

2. 在项目浏览器中，展开网络对象列表，然后展开差分对列表。差分对列表展开后会显示一个新的网络<->网络或管脚对<->
   管脚对。例如，CLK1<->CLK2。

3. 在项目浏览器中**右键**单击并确保选中允许选择设置。在项目浏览器中选择差分对还必须选择设计区域中的网络或管脚对，才能打开差分对的特性。

4. 将指针移到新差分对上，**右键**单击并选择弹出菜单中的**特性**。

5. 在"差分对特性对话框，配对选项卡"第 511 页，为该对设置唯一特性。具体说明请参见"设置差分对[特性"第 184 页](#page-31-0)。

6. 单击确定。

## 为多个差分对分配相同规则

同时设置多个管脚对的特性（规则）。

🏃‍♂️‍**步骤**

1. 在项目浏览器中，展开网络对象列表，然后展开差分对列表。

2. **右键**单击项目浏览器并确保勾选了"允许选择"设置。在项目浏览器中选择差分对也必须选中设计区域中的网络或管脚对，才能打开差分对的特性。

3. 使用 Shift 或 Ctrl 键选择多个差分对。

4. 将指针悬停在其中一个差分对上，**右键**单击并选择**特性**。

5. 在"差分对特性对话框，配对选项卡"（第 511 页）中，为配对设置唯一特性。具体说明请参见"设置差分对特性"（第 184 页）。

   某些现有设置可能是各个差分对独有的。如果某些值显示为空白，那是因为不同差分对之间的值不同。如果保留值为空白，则每个差分对将保留其原始唯一值。如果覆盖该值，则所有差分对都将继承该值。

   `<All Layers>` 始终显示为灰色文本。但是，如果列表中显示特定层但显示为灰色文本，则表示某些差分对调用了该特定层，而其他差分对则没有。

   复选框既未选中也未清除但显示为蓝色填充方块，表示某些差分对已选中该框，而其他差分对则没有。保持复选框处于此蓝色填充状态将保留差分对上的唯一设置。清除或选中复选框将禁用或将该状态分配给所有选定的差分对。

6. 单击**确定**。

## 差分对层级结构

您可以为层和层类别分配差分对宽度和间隙值；但是，一个层也可能属于一个或多个类别。

例如，第 2 层也可能是平面层和外层。因此，遵循以下层次结构来确定哪些层设置具有优先级：

1. 所有层

2. 平面层

3. 外层

   SailWind Router 指南 183

4. 内层

5. 单个层

> [!tip]单个层具有最高优先级。

## 设置差分对特性

使用差分对特性对话框的**配对**选项卡设置差分对的间隙、导线宽度、长度和障碍处理。

您可以为差分对设置不同的特性，这会影响它们的布线，无论您是交互式布线、自动布线还是编辑导线。差分对特性决定了受控间隙区域中导线之间的间隙、导线的最小和最大长度和宽度，以及受控间隙区域中的障碍行为。

![](/router/guide/11/_page_31_Figure_8.jpeg)

> [!tip]创建差分对时，应注意以下事项：
>
> - SailWind Router 使用差分对特性对话框中的默认导线宽度值来布线差分对。
>
> - 按层设置差分对宽度和间隙可以更好地控制阻抗。

🏃‍♂️‍**步骤**

1. 选择一个差分对，然后**右键**单击并选择弹出菜单中的**特性**；然后单击**配对**选项卡。

2. 在"按层设置配对的导线宽度和间隙"区域中，在`<All layers>`行中输入宽度和间隙值。

🙊**限制**

您不能删除`<All layers>`行。

3. 要按层设置宽度和间隙，请单击**添加**
   ，在新添加的行中单击层单元格，并选择要设置宽度和间隙值的层。然后在适当的单元格中输入宽度和间隙值。间隙规则会覆盖定义差分对成员之间间距的任何其他规则。因此，间隙是最小间距，应尽可能提供。

   > [!warning] 如果您选择多个差分对，并且某个层设置不属于所有选定的配对，则该层的层框不可用。如果输入新值，则仅适用于具有此层设置的差分对。

   > [!tip]请记住以下提示：
   >
   >  - 如果您选择具有相同层设置但宽度和间隙值不匹配的多个差分对，则宽度和间隙单元格将显示为空。但是，您可以输入新值，当您单击
   >    **确定**或**应用**时，新值将应用于所有选定的差分对。
   >
   >  - 您也可以使用电子表格窗口设置宽度和间隙值，按差分对排序。电子表格将显示为<All layers>
   >    设置的宽度和间隙值。如果特定层有唯一设置，则宽度或间隙值旁边会出现星号。

   有关更多信息，请参见[差分](#page-30-1)对层级结构。

4. 在"最小"框中输入最小长度值。在"最大"框中输入最大长度值。

   > [!tip]您可以通过添加蛇形线来延长差分对。

5. 选中"自动布线期间限制层更改"复选框，强制在单层上布线配对。（此设置不限制交互式布线时的层更改。）

6. 选中"允许配对绕过障碍物拆分"复选框，暂时超过配对布线间隙。此设置适用于自动布线，不限制交互式布线时绕过障碍物的拆分。

7. 在"最大障碍物数量"框中输入要绕过的最大障碍物数量。

   > [!warning] SailWind Router 不计算起始区域或结束区域中的障碍物。这是连接点和差分对肩部之间的区域。

8. 在"最大障碍物尺寸"框中输入绕过障碍物时导线之间允许的最大间距。该尺寸适用于障碍物的最长水平或垂直尺寸。

   > [!warning] SailWind Router 不检查起始区域或结束区域中的障碍物尺寸。这是连接点和差分对肩部之间的区域。

9. 单击**确定**。

## 组件规则 ಠ_ಠ

为了更好控制细间距元件或密集 BGA 的导线宽度，您可以在组件级别指定导线宽度规则，从而在组件边界内产生不同的导线宽度规则。

您还可以在组件级别设置焊盘入口、扇出、间距、过孔配置和相同网络规则。焊盘入口和扇出规则适用于组件中的所有管脚。

组件间距规则基于管脚间距和其他特定于组件的设计规则。SailWind Router 会自动创建边界以指示组件规则的开始和停止位置。

SailWind Router 通常在过孔和导线顶点处分配边界。软件在自动布线导线时会自动确定边界位置；但是，在交互式布线时，您可以定义何时开始和停止使用组件规则。

当使用组件规则时，它适用于规则边界和组件管脚之间的导线对象。如果导线通过组件下方但不连接到组件，则软件不会根据组件的间距规则对其进行检查。

规则边界（[图 26](#page-33-1)）也会影响导线编辑（更多信息，请参阅"使用组件规则创建导线"第 308 页）。

![](/router/guide/11/_page_33_Figure_11.jpeg)

**图 26. 规则边界**

过孔配置规则适用于连接到组件的第一个和最后一个过孔。布线时，SailWind Router
从一个管脚开始，沿着路径到达链中的下一个管脚。因此，软件为导线路径上的第一个和最后一个过孔分配非组件规则过孔类型。如果这导致间距违规，则软件改用组件规则过孔类型。

> [!tip] 例外情况：存在一种特殊情况，组件边界不仅仅根据设计规则计算。例如，在 SailWind Router 中，您使用窄导线宽度退出细间距
> BGA，但导线不会自动在组件边界边缘退出组件规则。您决定何时使用"切换规则"
> 命令退出组件规则，根据设计层次结构中最相关的规则更改为更大的导线宽度。在这种情况下，您可以扩展组件规则远离组件并超出组件边界的计算区域。

SailWind Layout 不理解这些扩展的组件规则，可能会丢失扩展的边界位置。但是，如果您不在 SailWind Layout 中编辑设计并在
SailWind Router 中重新打开它，扩展的边界位置可能会正确重新计算。

此外，在 SailWind Router 中，如果在用导线扩展组件规则后更改组件规则，重新计算的组件边界将对应于新的组件规则，并可能与旧边界不同 - 在导线中创建不可见的分裂。当设计在 SailWind Layout 中打开时，此位置变为固定点。

## 长度规则 ಠ_ಠ

长度规则指定导线的最小和最大长度。您可以为网络、电气网络或管脚对指定长度规则，并为两个或多个网络、电气网络或管脚对指定匹配的导线长度。

您可以通过使用选项对话框**调整**选项卡中的"在需要完成导线时忽略长度规则"
复选框使长度规则变为硬性或软性。参见[硬性和软性规则](#page-2-1)。

您可以在层次结构的多个级别为网络和管脚对分配长度规则。这包括分配以下内容：

- 在网络和类规则级别的网络规则

- 在组和管脚对规则级别的管脚对规则

- 为差分对成员分配网络或管脚对长度规则

- 为电气网络分配长度规则

- 通过将这些对象分组为匹配长度组，在网络、类、电气网络、组和管脚对规则级别分配匹配长度规则

- 匹配长度网络组可以包含网络、电气网络和网络类的混合

有关更多信息，请参阅["规则层次结构"第 155 页](#page-2-0)。

**计算长度**

段端点之间的差值是导线段的长度。

例如，水平段的两个端点具有共同的 Y坐标，但端点的 X坐标相差 1 英寸，则导线长度为 1 英寸[（图 27）](#page-35-0)。

![](/router/guide/11/_page_35_Figure_2.jpeg)

SailWind Router 通过总计所有导线段的长度（包括嵌入焊盘或过孔中的部分）来计算导线段的集合、管脚对或网络的长度[（图 28）](
#page-35-1]。总导线长度计算包括与焊盘或过孔重叠的导线段。

> [!tip]与 SailWind Layout 不同，SailWind Router 在导线长度计算中计算重叠的导线段。

![](/router/guide/11/_page_35_Figure_6.jpeg)

**匹配长度**

匹配长度定义为两个或多个网络、电气网络或管脚对具有相等的总网络长度。匹配长度通常指定有容差。

[图 29](#page-36-2)显示了两个不同的网络具有匹配长度，尽管导线模式略有不同。

![](/router/guide/11/_page_36_Figure_1.jpeg)

## 布线规则 ಠ_ಠ

布线规则指定导线宽度容限以及自动布线操作期间应发生的情况。

SailWind Router 功能会自动将导线宽度减小到焊盘，前提是导线宽度在最小和最大宽度规则范围内[（图 30）](#page-36-3)
。导线的布线规则必须具有小于或等于焊盘宽度的最小宽度；否则 SailWind Router 不会使用该功能并且不会完成导线。

**图 30. 有和没有最小宽度规范的布线**

![](/router/guide/11/_page_36_Figure_6.jpeg)

## 处理多个对象特性

您可以同时分配或编辑多个设计对象的设计特性。同时编辑减少了分配任务，并有助于为多个对象提供相同的设置。

🏃‍♂️‍**步骤**

1. 选择两个或多个相同类型的对象（例如，两个网络或两个组件）。

2. **右键**单击并选择弹出菜单中的**特性**。

👀‍**结果**

如果选择了多种对象类型，则会出现"无特性"对话框。不支持多种对象类型选择。

如果选择了多个对象，则对话框控件的表现会有所不同，具体取决于所选对象的状态。

例如，如果您选择一个用作测试点的管脚和另一个不用的管脚（混合选择），则"用作测试点"复选框的状态为灰色并带有选中标记。

| 控件类型和状态               | 状态      | 允许的操作    |
|-----------------------|---------|----------|
| 复选框 - 无法设置<br>（数据库限制） | 灰色      | 不可修改     |
| 复选框 - 混合              | 灰色带选中标记 | 全部开或全部关  |
| 复选框 - 全部开             | 选中标记    | 全部关      |
| 复选框 - 全部关             | 清除      | 全部开      |
| 框 - 无法设置（数据库<br>限制）   | 灰色      | 不可修改     |
| 框 - 无法设置（全部只读）        | 灰色      | 不可修改     |
| 框 - 全部相同              | 相同值     | 可编辑值     |
| 框 - 混合                | 无值      | 清除 - 可编辑 |
| 静态文本 - 全部相同           | 相同值     | 不可修改     |
| 静态文本 - 不全相同           | 提供对象计数  | 不可修改     |
| 预览 - 全部相同             | 相同视图    | 不可修改     |
| 预览 - 不全相同             | 灰色      | 不可修改     |

**表 60. 多个对象 - 对话框行为**
