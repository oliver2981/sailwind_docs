# 第 18 章 选择性自动布线

除了批量自动布线命名设计对象外，您还可以通过在设计中选中组件和网络来进行自动布线。自动布线器会立即对它们进行布线。

您可以选中需要自动布线的对象网络，无需使用策略对话框，而是使用命令在选中对象上运行布线类型。这些自动布线命令可在布线工具栏和右键选中对象时出现的快捷菜单中找到。

SailWind Router 在选中对象上运行的布线类型与批量自动布线策略对话框中设置的布线类型类似。但您无法更改此布线类型的设置，且布线类型仅限于以下几种：

- **布线** 允许您在特定布线模式下进行预布线，例如以任意角度模式布线 BGA，然后在斜角模式下批量自动布线设计前保护这些布线。遵循选项对话框**布线**选项卡中的设置。

- **扇出** 在布线电路板其余部分前先对选中组件进行扇出。遵循选项对话框**扇出**选项卡中的设置。

- **优化** 使用最高可能的强度，让您在批量自动布线后能交互式改进设计的关键区域。

- **调整** 调整选中走线（包括差分对）或连接到选中组件的走线长度以满足长度规则。

- **居中** 将走线放置在相邻组件管脚或过孔焊盘等距的位置，以均匀分配通道中的可用空间。

## 通过选择自动布线

在设置定义设计布线方式的选项和首选项后，您可以开始自动布线。

🏃‍♂️‍**步骤**

1. 在项目浏览器里。

2. 选择要布线的对象。

3. 点击**布线**按钮。

> [!tip] SailWind Router 使用选项对话框 > **布线**类别 > **策略**子类别中的设置来布线网络或连接到选中对象的网络。在本程序中，您不能仅布线管脚对或链接，必须布线整个网络。

当您开始自动布线或在选中对象上运行布线类型时，程序会执行预布线分析并将任何错误或警告报告到输出窗口的**控制台**选项卡。如果您想修正任何报告的问题，必须先停止自动布线。

## 在对象模式下运行布线类型

您可以在对象模式下对选中对象运行布线类型，独立于选项对话框中的任何策略设置。

🏃‍♂️‍**步骤**

1. 选择要执行布线类型的组件、管脚、网络、未布线或走线。布线类型将在选中的网络或连接到选中组件/管脚的网络上运行。

2. 右键点击并选择可用的布线类型之一。

| 对象    | 布线类型                     |
|-----------|-------------------------------|
| 组件 | 布线、扇出、优化、调整 |
| 管脚       | 布线、扇出、优化       |
| 网络       | 布线、优化、调整、居中 |
| 未布线   | 布线                         |
| 走线     | 居中                        |

**表 77. 对象类型可用的布线类型**

> [!tip] 当您运行布线类型时，程序会执行预布线分析并将任何错误或警告报告到输出窗口的**控制台**选项卡。

自动布线消息

## 在移动模式下运行布线类型

您可以在移动模式下对选中对象运行布线类型，独立于选项对话框中的任何策略设置。

🏃‍♂️‍**步骤**

1. 在布线工具栏上，点击要使用的布线类型按钮：第 [271 页(Route 阶段消息)](https://mikigo.github.io/sailwind_docs/router/guide/17_zh.html#%E9%A2%84%E5%B8%83%E7%BA%BF%E5%88%86%E6%9E%90) 的布线、第 [266 页(Fanout 阶段消息)](https://mikigo.github.io/sailwind_docs/router/guide/17_zh.html#%E9%A2%84%E5%B8%83%E7%BA%BF%E5%88%86%E6%9E%90) 的扇出、第 [269 页(Optimize 阶段消息)](https://mikigo.github.io/sailwind_docs/router/guide/17_zh.html#%E9%A2%84%E5%B8%83%E7%BA%BF%E5%88%86%E6%9E%90) 的优化、第 [272 页(Tune 阶段消息)](https://mikigo.github.io/sailwind_docs/router/guide/17_zh.html#%E9%A2%84%E5%B8%83%E7%BA%BF%E5%88%86%E6%9E%90) 页的调整或第 [265 页(Center 阶段消息)](https://mikigo.github.io/sailwind_docs/router/guide/17_zh.html#%E9%A2%84%E5%B8%83%E7%BA%BF%E5%88%86%E6%9E%90) 的居中。

2. 选择要执行布线类型的组件、管脚、网络、未布线或走线。选择过滤器会自动更新，只允许您选择命令适用的对象。

3. 再次点击布线类型按钮或按 Esc 键退出移动模式。


> [!tip] 当您运行布线类型时，会执行预布线分析并将任何错误或警告报告到输出窗口的**控制台**选项卡。

设置自动布线策略

## 走线居中

居中是自动布线器的一种布线类型，可在选中走线上运行。居中布线将走线放置在相邻组件管脚或过孔焊盘等距的位置，以均匀分配通道中的可用空间。居中不会违反设计规则。

下图展示了走线居中。

![](/router/guide/18/_page_2_Figure_15.jpeg)

要限制居中的通道数量，请设置最大通道宽度。任何大于此宽度的通道都不适合居中。在选项对话框 > **布线**类别 > **常规**子类别中设置最大通道宽度。

🏃‍♂️‍**步骤**

1. 选择一条走线。

2. 右键点击并选择弹出菜单中的**居中**。

## 自动布线后分配测试点

此过程将测试点（使用测试点布线类型）添加到已布线的电路板。此过程牺牲了可访问性以获得更高的完成率。

🏃‍♂️‍**步骤**

1. 点击**工具 > 选项**菜单项；然后在选项对话框中，点击第 [459 页](https://mikigo.github.io/sailwind_docs/router/guide/24_zh.html#%E9%80%89%E9%A1%B9%E5%AF%B9%E8%AF%9D%E6%A1%86%E6%B5%8B%E8%AF%95%E7%82%B9%E7%B1%BB%E5%88%AB) 的测试点类别。

2. 在"创建测试点"区域，清除"自动布线期间创建测试点"复选框。根据需要设置其他可测试性选项。

3. 点击**布线**类别 > **策略**子类别。

4. 在"布线定义"区域的表格中，为测试点布线类型选择 Pass 复选框。

5. 点击**确定**。

6. 点击**工具栏 > 自动布线 > 开始**菜单项。

您可以将测试点布线类型与其他布线类型一起使用。整个设计的布线完成后，SailWind Router 会添加测试点。


> [!warning] 在 SailWind Layout 中设置的测试点禁区在测试点放置过程中会被遵守。
