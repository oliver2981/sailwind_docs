# 约束条件分配

设计规则包括间距、布线及高速约束，这些规则可作为网络、层、类或管脚对的默认限制条件。此外，您还可以分配条件规则、差分对规则、封装规则和元件规则。

**本课程内容：**

1. 设置默认间距规则

2. 设置默认布线规则

3. 设置网络间距规则

4. 创建网络类规则集

5. 设置条件规则

🙊**限制**

本教程需要"常规编辑"和"高级规则"安全选项权限。在 SailWind Router 中，点击帮助菜单中的**已安装选项**以确认您是否可以继续。

😎**前提**

如果尚未运行，请启动 SailWind Router 并打开\SailWind Projects\Samples 文件夹中的**previewnet.pcb**文件。

## 设置默认间距规则

**属性按钮 > 间距选项卡**

在 SailWind Router 中，您可以为设计规则层次结构的每个级别定义 SailWind Layout 的间距、布线、扇出和焊盘入口约束。

![](/router/tutrial/2/_page_0_Figure_15.jpeg)

间距选项卡包含 PCB 设计数据矩阵。该矩阵允许您为任意或所有数据类型指定值。

1. 通过点击间距矩阵左上角的**全部**设置全局默认间距值。此时将出现对话框。

2. 输入**8**并点击**确定**。所有矩阵值将同时更改。

3. 点击**布线**选项卡。在走线宽度区域，在最小框中输入**6**，在推荐框中输入**8**，在最大框中输入**12**。

4. 点击**相同网络**选项卡。通过点击**对象间距**矩阵左上角的**全部**设置全局相同网络默认间距值。此时将出现对话框。

5. 输入**12**并点击**确定**。所有矩阵值将同时更改。

6. 要保存更改，请在设计属性对话框中点击**确定**。

## 设置默认布线规则

**属性按钮 > 层偏置选项卡**

为避免在平面层上布线，请从布线规则定义的选定布线层中移除这些层。层偏置选项卡包含选定布线层的列表。此列表允许您指定允许布线的层。

1. 清除电源平面层**允许布线**列的复选框，以防止在平面层上布线。接地平面层(定义为 CAM 平面)的复选框可能有勾选标记，但由于其层状态会自动禁用。

2. 点击**确定**关闭设计属性对话框。

## 设置网络间距规则

**项目资源管理器 > 网络对象**

您可以分配特定网络的间距规则，这些规则优先于先前输入的默认规则。

1. 双击**网络对象**项。双击**网络**项展开树并显示所有网络列表。

2. 滚动浏览网络列表。按住 Ctrl 键并点击选择网络**+5V**、**+12V**和**GND**。右键点击并选择**属性**。这三个网络由网络属性对话框表示。

3. 点击**间距**选项卡，通过点击矩阵左上角的**全部**设置间距值。此时将出现对话框。

4. 输入**10**作为全局间距并点击**确定**。

5. 点击**布线**选项卡。在走线宽度区域，在最小框中输入**10**，在推荐框中输入**12**，在最大框中输入**15**。

6. 点击**确定**关闭网络属性对话框并保存更改。

## 设置网络间距规则

您可以在项目资源管理器中创建或修改规则集。在本练习中，您将在项目资源管理器中创建一个网络类。

1. 点击对象列表中网络对象左侧的加号(+)。树将展开。

2. 点击网络对象树中网络左侧的加号(+)。网络分支将展开显示设计中的所有网络。

3. 滚动浏览网络列表并选择网络**A00**。不要展开 A00 分支。注意网络在工作区中也被选中。

4. 滚动浏览列表，按住**Shift**键并点击网络**A14**以选择地址线网络组。

5. 拖放以将选定的网络复制到网络对象树的网络类分支中。

> [!tip] 由于项目资源管理器中看不到网络类分支，请将选择拖到项目资源管理器顶部以强制列表滚动。这使您可以将选择放在网络类分支中。分支展开后，您可以看到已创建网络类 Class1。

**重命名网络类**

如果您不想使用默认分配的名称，可以重命名网络类。

1. 选择**Class1**网络类。

2. 右键点击并选择**重命名**。Class1 名称高亮显示，您处于编辑模式。

3. 输入**Address**并按**Enter**重命名网络类。

## 设置条件规则

条件设计规则是指当对象满足某些条件时生效的规则，例如当网络靠近另一网络或其他设计对象布线时。条件规则最常用于两个网络紧密布线时，以避免对电路产生不利影响(如串扰)。例如，当交流电直接连接到 PCB 时，美国保险商实验室(UL)要求隔离初级、次级和接地网络。您可以在设计规则层次结构的大多数组件之间分配条件规则。条件规则可以存在于网络之间、网络和类之间、类和类之间、网络和层之间等。

**创建条件规则**

您可以在项目资源管理器中创建或修改设计对象。在本练习中，您将在项目资源管理器中创建条件规则。

1. 在网络对象树的网络分支中，选择网络**+5V**。

2. 不要展开+5V 分支。注意网络在工作区中也被选中。

3. 按住 Ctrl 键并点击网络**+12V**。然后右键点击并选择**复制**。

4. 向下滚动，指向条件规则，右键点击并选择**粘贴**。

5. 双击展开条件规则分支。您可以看到已创建条件规则+5V : +12V (所有层)。

**另请参阅：** *SailWind Router 帮助*中的"创建辅助对象组"

**分配条件规则**

1. 点击条件规则**+5V : +12V (所有层)**选择该规则。

2. 右键点击，选择**属性**。**结果：**所选网络的**间距**选项卡对话框出现。现有值框显示为黄色，因为网络在之前的步骤中已设置了非默认网络规则。

3. 通过点击矩阵左上角的**全部**设置全局间距值。此时将出现对话框。

4. 输入**25**作为全局间距并点击**确定**。

5. 点击**确定**关闭条件规则对话框。

6. 不要保存设计副本。

**您已完成定义设计规则教程。**