# 使用 SailWind Router 进行自动布线

在自动布线前，需要检查设置以确保自动布线器能按预期工作。

**本课内容：**

1. 设置测量单位

2. 设置网格

3. 设置网络可见性和长度最小化

4. 自动布线选项

5. 选择式自动布线

6. 设计自动布线

🙊**限制**

本教程需要 Advanced Rules、General Editing 和 Route 安全选项。在 SailWind Router 中，点击帮助菜单中的 **Installed Options** 以确认是否可以继续。

😎**前提**

如果尚未运行，请启动 SailWind Router 并打开 \SailWind Projects\Samples 文件夹中名为 **previewpreroute.pcb** 的文件。

## 设置测量单位

**选项按钮 > 全局/常规选项卡**

您可以将测量单位更改为英寸、密耳或公制单位。

1. 设计单位设置位于此选项卡。保持当前设计单位为 **密耳**。

2. 点击 **确定** 关闭选项对话框。

## 设置网格

**SailWind Router 有五个工作网格，外加一个可视网格：**

| 网格       | 用途                                                      |
|------------|--------------------------------------------------------------|
| 显示网格    | 用作视觉辅助的点阵网格                                |
| 布线网格    | 在布线和编辑时建立最小吸附距离 |
| 测试点网格  | 建立测试点的间距和位置              |
| 过孔网格    | 建立过孔的间距和位置                     |

| 扇出网格    | 在扇出操作期间建立插入过孔的间距和位置        |
|-----------|--------------------------------------------------------------------------------------|
| 元件网格    | 在放置操作期间建立元件原点的间距和位置 |

您将在本教程中设置多个网格。

**设置显示网格**

**右键点击 > 属性 > 网格选项卡**

此网格中的点仅作为视觉辅助。

1. 在显示行中，点击 **X 增量** 框。

2. 输入要用于显示网格的值，例如 **50**。

3. 对 Y 增量框重复此操作。

4. 要禁用显示网格，将 X 增量和 Y 增量框中的值设置为较小值，如 **10**。实际上并未禁用，除非大幅放大否则不会看到。

**设置工作网格**

每个网格的间距都在设计属性对话框中单独设置。

> [!tip] 要充分利用 SailWind Router 的基于形状的架构，请禁用设计中的吸附网格。这样您可以保持网格值但 SailWind Router 在自动布线时会忽略它们。

**关闭设计网格的吸附功能：**

1. 在设计属性对话框中，点击 **网格** 选项卡。

2. 清除 **布线**、**测试点**、**过孔** 和 **扇出** 行的吸附对象到网格列中的复选框。

3. 点击 **确定** 关闭对话框并应用更改。

## 设置网络可见性和长度最小化

**视图菜单 > 网络**

您需要对设计文件进行一些更新以准备在 SailWind Router 中进行正确布线。在布线平面网络之前，需要启用平面网络显示。

1. 选中 **+12V**、**+5V** 和 **GND** 网络的走线列复选框以启用这些网络的布线部分显示。

2. 如有必要，对于每个平面网络，点击 **除连接到平面外的所有** 以将网络显示限制为仅布线部分。

3. 点击焊盘、过孔、未布线列中的颜色块以关闭 +5V 网络的颜色。

4. 点击 **确定** 应用更改并关闭查看网络对话框。**结果：** 网络更新后的显示表明平面网络长度未最小化。

5. 在工具菜单上点击长度最小化以执行整个板网络长度最小化。

## 自动布线选项

有几个选项指定 SailWind Router 应如何自动布线，包括布线角度、焊盘入口质量、扇出模式和可测试性。

**分配布线选项**

**选项按钮 > 布线/常规选项卡**

您使用布线选项指定布线角度、焊盘入口质量和斜接选项。

1. 在布线角度区域，点击 **对角线**。

2. 在斜接区域，在 **比率** 框中输入 **3.5**，在 **角度** 框中输入 **180**。

3. 点击 **确定** 关闭选项对话框并应用更改。

**分配焊盘入口选项**

**右键点击 > 属性 > 焊盘入口选项卡**

1. 在通过焊盘进入区域，清除 **任意角度** 框以建立焊盘入口偏好。

2. 清除 **在需要时忽略第一角规则以完成走线** 框。

**分配扇出选项**

**右键点击 > 属性 > 扇出选项卡**

扇出选项指定扇出对齐、间距、方向和其他扇出模式设置。

1. 在扇出过孔放置区域，选择 SOIC/QUAD 选项卡。

2. 在对齐列表中，选择 **对齐，单行**。

3. 在方向列表中，选择 **两侧**。

4. 在间距列表中，选择 **使用网格**。

5. 在创建扇出区域，清除 **信号网络** 和 **未使用网络** 框。保持 **平面网络** 复选框选中。保持允许多次连接到区域中的所有复选框选中。

6. 在扇出长度区域，保持 **无限制** 框选中。

7. 点击 **确定** 关闭属性对话框并应用更改。

## 选择式自动布线

您可以自动布线整个设计或仅选定的对象。在自动布线整个设计之前，必须定义 SailWind Router 应如何通过定义策略来完成设计。

SailWind Router 有多种自动布线设计的方法。您可以选择元件、网络或管脚并对选定对象应用自动布线传递类型（如扇出、布线或优化），或者使用自动布线命令自动布线整个设计。

**对选定对象应用传递类型：**

1. 打开 \SailWind Projects\Samples 文件夹中名为 **previewrouter.pcb** 的文件。

2. 在项目资源管理器中，定位到 Components 对象。

3. 展开 Components 树以显示所有元件列表。

4. 滚动浏览 Components 列表。Ctrl+点击 **U1** 和 **U2**。U1 和 U2 是设计中心的大型 SOIC。

5. 选中 U1 和 U2 后，右键点击工作区，然后点击 **扇出**。

**结果：** 片刻之后，多个元件管脚根据之前设置的扇出选项分散到过孔。命令完成后，所有选定项将自动取消选择。

> [!tip] 您也可以在动词模式下使用扇出、布线或优化传递类型。动词模式是一种状态，在这种状态下您点击诸如扇出之类的命令，然后 SailWind Router 将当前活动命令重复应用于连续选择。

## 设计自动布线

除了选择式自动布线外，您还可以选择一次性自动布线整个设计。

**定义自动布线策略**

**选项按钮 > 布线/策略选项卡**

在自动布线整个设计之前，定义布线策略。您可以在设计上运行七种传递类型中的一种或多种。在策略选项卡中，您还可以定义布线元件或网络的顺序。

**设置布线策略：**

1. 通过确定设计中需要哪些流程来选择要运行的传递类型。在本教程中，在传递定义区域，点击传递类型列中的扇出以突出显示扇出传递类型，以便将其设置为分散设计中较大 SOIC 的连接。有八种传递类型。每种传递类型执行特定的自动布线功能。每种传递包含一个或多个子传递。

**传递类型：**

| 传递类型  | 描述                                                                                                                            |
|------------|----------------------------------------------------------------------------------------------------------------------------------------|
| 扇出       | 使用连接到过孔的短走线从 SMD 焊盘分散未布线部分                                                             |
| 模式       | 检测未布线模式并以 Z 或 C 模式完成它们                                                                    |
| 布线       | 完成未布线部分                                                                                                                    |
| 优化       | 检查所有走线模式并尝试通过减少过孔使用和总走线长度来提高走线模式质量        |
| 居中       | 在管脚和过孔等对象之间居中走线                                                                                  |
| 斜接       | 定位指定角度的所有走线角并向角添加斜接                                                      |
| 测试点     | 对每个网络执行可测试性分析并根据需要添加或分配测试点，目标是实现 100% 可测试性 |
| 调整       | 调整具有最小、最大和匹配长度约束的网络长度                                                       |

您使用的传递类型组合因设计而异。然而，对于大多数 PCB 设计，使用布线和优化传递的默认策略就足够了。

2. 定义布线顺序以定义布线对象的特定顺序或将传递类型的应用限制为特定对象。

    a. 在布线顺序定义区域，展开 Components 树，滚动浏览列表，并选择 U3。Shift+点击 U6。U3 到 U6 在设计中和对象列表中被选中。

    b. 点击 **选定** 将元件添加到布线顺序列表。

    c. 在布线顺序列表中选择 **所有网络** 并按 **删除** 按钮从布线顺序列表中删除所有网络。

**结果：** 这将所有其他网络排除在扇出操作之外。

3. 为扇出传递类型选择 **传递** 复选框以启用传递。

4. 点击 **确定** 应用更改并关闭选项对话框。

**开始自动布线**

![](/router/tutrial/7/_page_4_Picture_11.jpeg)

您也可以按 F4 开始自动布线。每个自动布线传递完成后，结果会出现在命令窗口的状态选项卡中。

如果命令窗口未打开，请打开它：

在标准工具栏上，点击 **命令窗口** 按钮。

自动布线完成后，命令窗口的状态选项卡中会出现一个指向布线报告的链接。

> [!tip] 除了本教程课程中定义的规则外，SailWind Router 还支持具有高速规则的自动布线，包括最小、最大和匹配长度、差分对以及使用蛇形走线或曲折的走线调整。

**使用暂停和恢复**

您可以在自动布线过程中的任何时候暂停、恢复或停止自动布线过程。这使您可以查看进度，并停止自动布线以更改策略或继续当前的自动布线操作。

**暂停和恢复自动布线**

暂停会暂停当前的自动布线操作。当您恢复时，自动布线操作将从您暂停的地方继续。

1. 在自动布线过程中，点击布线工具栏上的 **暂停自动布线** 按钮。

> [!tip] 您可以在工具菜单 > 选项 > 策略选项卡中为每种传递类型设置暂停功能。

2. 尝试使用缩放来查看自动布线的当前结果。

3. 在布线工具栏上，点击 **恢复自动布线** 按钮以恢复自动布线。

4. 完成后，不要保存设计的副本。

**您已完成自动布线设计准备教程。**